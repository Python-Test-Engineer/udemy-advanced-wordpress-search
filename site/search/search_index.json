{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Advanced WordPress Search","text":"<p>In my work building chatbots and voice/video agents, getting the right answer is paramount.</p> <p>I built a number of plugins for WP Search that used Full Text Search and Vector/Semantic Search for my site https://ancestors-ai.com/ and I decided to share my learnings with others.</p>"},{"location":"#full_text_search","title":"Full text Search","text":"<p>Full Text Search, (FTS), using BM25, is an industry standard and the course looks at what the components of BM25 are, both from theory and with a number of eductational plugins that enable experimentation.</p>"},{"location":"#fts_modes","title":"FTS modes","text":"<p>We will cover the three types - Natural Language, Boolean Expression and Query Expansion.</p>"},{"location":"#semantic_search","title":"Semantic Search","text":"<p>We build our own custom Vector Database and Vector Search. We do this because our hosting service for MySQL may not have the available Vector Field, as in the case of mine, (Siteground).</p> <p>This enables Hybrid Search - getting results based on what the user enters, (lexical) and what the user means, (semantic).</p>"},{"location":"#hybrid_search","title":"Hybrid Search","text":"<p>FTS is what the users says, Semantic search is what the user means.</p> <p>We combine the results of both in a normalised way and have the ability to weight one more than the other.</p>"},{"location":"#rag","title":"RAG","text":"<p>This then gives us the tradionaly search results but it can also be used to combine the restults to give comprehensive context for Retrieval Augmented Generation, (RAG).</p> <p>To do this, we create a context of information based on the result set and ask an LLM to generate a response to the user query based on the context retrieved along with an explanation of why it gave its final answer.</p> <p>This can lead to Agentic RAG, explained more fully here https://advanced-wordpress-search.netlify.app/rag/agentic-rag/.</p> <p></p>"},{"location":"course/course-screenshots/","title":"Screenshots","text":""},{"location":"course/intro/","title":"Udemy Course","text":"<p>Some people prefer the support or sole stream of a video course.</p> <p>I have created a Udemy course that covers the fundamental topics expressed in this manual.</p> <p>For those unfamiliar with the Udemy platform, it tends to have sales once every two weeks and this course would cost around $20USD depending on regional pricing. </p> <p>https://www.udemy.com/</p>"},{"location":"course/intro/#openai_api_key","title":"OpenAI API KEY","text":"<p>For Vector Search, and OpenAI API\u00a0Key is needed. Currently, a minimum initial payment of $5USD\u00a0is required. The course will use under $1USD for fair usage. Full Text Search does not need an OpenAI API Key.</p>"},{"location":"course/intro/#search","title":"Search","text":"<p>Modern websites live or die by the quality of their search experience. If your WordPress site relies on default search, you\u2019re leaving relevance, speed, and user satisfaction on the table. This course gives you the technical depth and practical skills to build powerful, intelligent, production\u2011ready search systems using MySQL, PHP, embeddings, and Retrieval\u2011Augmented Generation (RAG).</p> <p>Designed for developers who want to go beyond plugins and into real search engineering, this course walks you through the full stack of modern search\u2014from classical information retrieval to cutting\u2011edge AI\u2011driven ranking.</p>"},{"location":"course/intro/#what_youll_learn","title":"What You\u2019ll Learn","text":"<ul> <li>How WordPress search actually works under the hood, and why it struggles at scale</li> <li>Implementing MySQL Full\u2011Text Search (FTS) with boolean mode, natural language mode, and relevance tuning</li> <li>Using BM25 for dramatically improved ranking and scoring</li> <li>Building semantic search with embeddings and vector databases</li> <li>Applying reranking strategies to combine lexical and semantic signals</li> <li>Designing RAG pipelines to deliver AI\u2011powered answers grounded in your site\u2019s content</li> </ul>"},{"location":"course/intro/#who_this_course_is_for","title":"Who This Course Is For?","text":"<ul> <li>WordPress developers who want to level up their backend skills</li> <li>PHP/MySQL engineers building custom search features</li> <li>AI\u2011curious developers exploring embeddings, LLMs, and RAG</li> <li>Anyone responsible for improving search quality, relevance, or user experience</li> </ul>"},{"location":"course/intro/#why_this_course_stands_out","title":"Why This Course Stands Out","text":"<p>You won\u2019t just watch theory \u2014 you will work with prebuilt plugins that enable you to see how the module works and also understand how modern AI Assisted coding is done.</p> <p>If you\u2019re ready to transform your WordPress search from basic keyword matching into a modern, AI\u2011enhanced retrieval engine, this course gives you everything you need to make it happen.</p> <p>Ready to build search the way it should work? Let\u2019s get started.</p>"},{"location":"course/requirements/","title":"Requirements","text":""},{"location":"course/requirements/#wordpress","title":"WordPress","text":"<ul> <li>Advanced plugin development with familiarity with REST API Endpoints, JSON and basic JavaScript as these are not taught.</li> <li>Understanding of MySQL.</li> <li>Have used or know of ChatGPT.</li> </ul>"},{"location":"course/requirements/#openai_api_key","title":"OpenAI API Key","text":"<p>For Semantic search, an OpenAI API key is needed. </p> <p>OpenAI require $5USF to open an account. The cost during the course is less than $1USD if that and cheaper models can be use.</p> <p>There is a lot to learn without implememting one's own API key.</p>"},{"location":"course/requirements/#no_code_along","title":"No code along","text":"<p>There is no code along.</p> <p>All code is preprepared and generated using AI Assisted coding tools.</p> <p>I use the VS Extension Cline that offers a number of FREE models, although I use paid versions myself when the free models do not perform as required.</p> <p>https://claude.ai offers a free but limited quota for a given time period and we will use this to help us in the course.</p> <p></p>"},{"location":"craig/contact/","title":"Contact me","text":"<p>Email: mrcraigwest@hotmail.com</p> <p>LinkedIn: Craig West</p> <p></p>"},{"location":"craig/cv/","title":"CV","text":""},{"location":"craig/cv/#website","title":"Website","text":"<p>https://craig-west.netlify.app/</p>"},{"location":"craig/cv/#github_cv","title":"GitHub CV","text":"<p>I use GitHub to host a copy of my CV.</p> <p>Github CV</p>"},{"location":"craig/cv/#python_backend_and_test_automation_engineer","title":"Python Backend and Test Automation Engineer","text":"<ul> <li>Degree in Chemistry, Oxford University.</li> <li>Former A+ PC Technician, Microsoft Certified Systems Engineer and Microsoft Certified SQL Server DBA.</li> <li>Former Business Information Architect.</li> <li>Qualified Accountant Technician and business owner.</li> <li>Experience with REST APIs, GraphQL, React, Vue, Web Components, Node, Docker</li> <li>Talks and workshops given at WordCamps, MeetUps and NDC.</li> </ul>"},{"location":"craig/cv/#talks_and_workshops","title":"Talks and Workshops","text":""},{"location":"craig/cv/#python","title":"Python","text":"<ul> <li> <p>AI Agents and Evals for all languages - Brighton Web Development Meetup, October 29th 2025.</p> </li> <li> <p>AI Agents in the Data Pipeline - EARL Conference, Brighton, Oct 2025.</p> </li> <li> <p>Beyond Black Box - How to Evaluate Your Agents... in Real Time Too! - 30 minute talk, PyData Southampton, 16th September 2025 Meetup, Sep 2025.</p> </li> <li>Breaking the Black Box - How to Evaluate Your Agents... in Real Time Too! - 30 minute talk, PyData London Meetup, Sep 2025.</li> <li> <p>AI Agents in the Data Pipeline - 90 minute workshop, PyData Southampton Meetup, June 2025.</p> </li> <li> <p>DjangoConEurope April 2025: Implementing Agentic AI solutions in Django from scratch - 90 minute workshop.</p> </li> <li> <p>Brighton Py Feb 2025: AI as API in everyday Python apps - 60 minute talk and demo.</p> </li> <li> <p>Django Japan Congress Feb 2025 (online): Implementing Agentic AI solutions in Django from scratch - 45 minute talk.</p> </li> <li> <p>Conf42  Feb 2025 (online): Implementing Agentic AI Solutions in Python from scratch - 50 minute talk.</p> </li> <li> <p>PyCon Ireland Nov 2024: Getting started with Pytest - 2 hr workshop.</p> </li> </ul>"},{"location":"craig/cv/#other","title":"Other","text":"<ul> <li> <p>TALK: Offline and instant websites, aka Progressive Web Apps - AsyncJS, Brighton, September 2021.</p> </li> <li> <p>LIGHTNING TALK: WordPress as a Micro Service to any framework - WordFest, July 2021.</p> </li> <li> <p>TALK: WP REST API and Web Components =&gt; 100% Internet - WordCamp Santa Clarita, July 2021.</p> </li> <li> <p>TALK: Web Components in WP, Gutenberg and as HTML plugins. - WordCamp North East Ohio May 2021.</p> </li> <li> <p>TALK: Leveraging the power or the WordPress REST API - WP Leeds April 2021</p> </li> <li> <p>WORKSHOP: WP REST API and you -&gt; Best Friends Forever workshop (90 mins) - WordCamp Greece April 2021. Code: https://github.com/iwswordpress/WordCampGreece</p> </li> <li> <p>TALK: Web Components as Micro Apps - NDC London, Jan 2021</p> </li> <li> <p>TALK: Unifying frameworks with Web Components - Brighton AsyncJS, Nov 2020.</p> </li> <li> <p>WORKSHOP: Progressive Web Apps Workshop (2hrs) - NDC Oslo June 2020 and a paid training workshop with NDC.</p> </li> <li> <p>WORKSHOP: Web Components Workshop (2hrs) - NDC Oslo June 2020 and a paid training workshope with NDC.</p> </li> <li> <p>WORKSHOP: Progressive Web Apps Workshop (2hrs) - Brighton WordUp June 2020.</p> </li> <li> <p>WORKSHOP: WordPress REST API with AJAX Forms and Pages - WordCamp Denver, June 2020.</p> </li> <li> <p>WORKSHOP: WordPress REST API with AJAX Forms and Pages - WordCamp Kent, Ohio May 2020.</p> </li> <li> <p>TALK: What is the WP REST API and how can I use it to make forms and pages that don\u2019t need to do be reloaded? - WordUp Brighton May 2020.</p> </li> <li> <p>WORKSHOP: WordPress REST API and AJAX Forms - WordCamp Geneva March 2020 [EVENT CANCELLED due to virus concerns :( </p> </li> <li> <p>TALK - WP-HTML: The marriage of WP and JS Frameworks for expansion, ubiquity and profit - WordCamp Vienna February 2020.</p> </li> <li> <p>WORKSHOP: WordPress REST API - WordCamp Vienna February 2020.</p> </li> <li> <p>TALK: Progressive Web Apps - Brighton WordUp November 2019.</p> </li> <li> <p>TALK: Decoupled WordPress (code along style) - WordCamp Dublin October 2019.</p> </li> <li> <p>TALK: JWT and Authentication - WPHooked London September 2019.</p> </li> <li> <p>TALK: Decoupled WordPress and WP Components - WordCamp Brighton August 2019.</p> </li> </ul>"},{"location":"craig/cv/#published_udemy_courses","title":"Published Udemy Courses","text":"<p>Udemy is a great learning platform and having sales at least once a month, courses can be purchased for ~ \u00a315/$15 USD.</p> <p>June 2024: Pytest Cookbook - Using hooks to create plugins</p> <p></p> <p>These following have now been retired.</p> <ul> <li>WordPress REST API and AJAX Forms/Pages - DEMO https://www.youtube.com/watch?v=eubhbcGH_Ws&amp;t=6s (paid)</li> <li>Progressive Web Apps - DEMO https://www.youtube.com/watch?v=k_lHvNL0gkw (paid)</li> <li>WP-HTML: decoupling WordPress to any HTML platform using Web Components and the WP REST API. This also enables HTML plugins for non-WP Sites - https://www.udemy.com/course/powerful-html-pages-using-wordpress-component-architecture/ (free)</li> <li>Stylish Dynamic Web Forms with jQuery validation - https://www.udemy.com/course/ready-to-use-form-validation-templates-with-jquery/ (free)</li> </ul>"},{"location":"craig/cv/#youtube_courses_-_developer_to_developer_courses","title":"YouTube Courses - Developer to Developer courses","text":"<p>https://www.youtube.com/@iwswordpress</p> <p>These are video courses that cover work through official documents to help other developers, learn in public and show prosepective employers not just what I know but how I learn and how I communicate technical matters to others.</p> <p>There are also some specific videos explaining solutions to set ups other developers may encounter.</p> <ul> <li> <p>HIGHLY-FUNCTIONAL-WEBCOMPONENTS: A video course based on the workshop I gave at NDC Oslo June 2020 - https://www.youtube.com/watch?v=QC-JTqQTv2k&amp;list=PLsszRSbzjyvkQwzrJobroRl7z7MfSlePa </p> </li> <li> <p>WP Plugin Boilerplate:  I havea video series to explain WP Plugin Boilerplate using a scaffolded out project that demonstrates the use of MySQL, wp_nonce, REST API, forms and how to redirect pages to plugin templates to make the plugin theme independent. https://www.youtube.com/watch?v=lJ9ktD4JOfs&amp;list=PLsszRSbzjyvn-RQr4dEjrgnTne2HcJKee</p> </li> </ul>"},{"location":"craig/cv/#volunteering","title":"Volunteering","text":"<p>I volunteer at Codebar.io in Brighton as well as some Community Kitchens.</p>"},{"location":"craig/cv/#outside_interests","title":"Outside interests","text":"<p>These include Community Kitchens, gym, occasional partner dancing and DIY.</p> <p></p>"},{"location":"fts/bm25-simple-calc/","title":"Understanding the BM25 Formula","text":"<p>BM25 (Best Matching 25) is one of the most popular ranking functions used in search engines. It determines how relevant a document is to a search query. Let's break down this intimidating formula into understandable pieces.</p>"},{"location":"fts/bm25-simple-calc/#the_complete_formula","title":"The Complete Formula","text":"<pre><code>BM25(D, Q) = \u03a3 IDF(qi) \u00d7 (f(qi, D) \u00d7 (k1 + 1)) / (f(qi, D) + k1 \u00d7 (1 - b + b \u00d7 |D| / avgdl))\n</code></pre> <p>Don't panic! We'll explain each part step by step.</p>"},{"location":"fts/bm25-simple-calc/#what_do_these_symbols_mean","title":"What Do These Symbols Mean?","text":"<ul> <li>D = The document we're scoring</li> <li>Q = The query (search terms)</li> <li>qi = Each individual term/word in the query</li> <li>\u03a3 = Sum (we calculate this for each query term and add them up)</li> <li>f(qi, D) = Frequency of term qi in document D (how many times the word appears)</li> <li>|D| = Length of document D (number of words)</li> <li>avgdl = Average document length across all documents</li> <li>k1 and b = Tuning parameters (more on these later)</li> </ul>"},{"location":"fts/bm25-simple-calc/#breaking_it_down_three_key_components","title":"Breaking It Down: Three Key Components","text":""},{"location":"fts/bm25-simple-calc/#component_1_idf_inverse_document_frequency","title":"Component 1: IDF (Inverse Document Frequency)","text":"<pre><code>IDF(qi)\n</code></pre> <p>What it does: Measures how rare or common a word is across all documents.</p> <p>Why it matters: Rare words are more informative. If you search for \"php tutorial\" the word \"php\" is more valuable than \"the\" or \"a\".</p> <p>How it works:</p> <ul> <li>Words appearing in few documents get high IDF scores (more valuable)</li> <li>Words appearing in many documents get low IDF scores (less valuable)</li> </ul> <p>Simple formula:</p> <p><pre><code>IDF(qi) = log((N - n(qi) + 0.5) / (n(qi) + 0.5))\n</code></pre> Where N = total documents, n(qi) = documents containing the term</p>"},{"location":"fts/bm25-simple-calc/#component_2_term_frequency_with_saturation","title":"Component 2: Term Frequency with Saturation","text":"<pre><code>(f(qi, D) \u00d7 (k1 + 1)) / (f(qi, D) + k1)\n</code></pre> <p>What it does: Measures how often a term appears in the document, with diminishing returns.</p> <p>Why it matters: </p> <p>A word appearing 5 times is more relevant than appearing once. But appearing 100 times isn't 100\u00d7 more relevant than once\u2014there's a saturation point.</p> <p>The k1 parameter (typically 1.2 to 2.0):</p> <ul> <li>Higher k1 = term frequency matters more</li> <li>Lower k1 = faster saturation (repetition matters less)</li> </ul> <p>Example with k1 = 1.2:</p> <ul> <li>Term appears 1 time: score \u2248 0.55</li> <li>Term appears 2 times: score \u2248 0.73</li> <li>Term appears 5 times: score \u2248 0.89</li> <li>Term appears 100 times: score \u2248 0.99</li> </ul> <p>Notice how the score increases but never exceeds 1.0, and improvements get smaller.</p>"},{"location":"fts/bm25-simple-calc/#component_3_document_length_normalization","title":"Component 3: Document Length Normalization","text":"<pre><code>1 - b + b \u00d7 (|D| / avgdl)\n</code></pre> <p>What it does: </p> <p>Adjusts scores based on document length.</p> <p>Why it matters: </p> <p>Longer documents naturally contain more words, so they might match query terms more often just by being longer, not by being more relevant.</p> <p>The b parameter (typically 0.75):</p> <ul> <li>b = 0: Document length doesn't matter at all</li> <li>b = 1: Full length normalization (strongly penalizes long documents)</li> <li>b = 0.75: Balanced approach (standard)</li> </ul> <p>How it works:</p> <ul> <li>If |D| = avgdl (document is average length): factor = 1 (no adjustment)</li> <li>If |D| &gt; avgdl (document is longer): factor &gt; 1 (slight penalty)</li> <li>If |D| &lt; avgdl (document is shorter): factor &lt; 1 (slight boost)</li> </ul>"},{"location":"fts/bm25-simple-calc/#putting_it_all_together","title":"Putting It All Together","text":"<p>Let's walk through a complete example.</p> <p>Search Query: \"php tutorial\"</p> <p>Document: \"This php tutorial covers php basics. PHP is a popular programming language for beginners learning php.\"</p>"},{"location":"fts/bm25-simple-calc/#step_1_calculate_for_php","title":"Step 1: Calculate for \"php\"","text":"<p>Assume: - f(\"php\", D) = 4 (appears 4 times) - IDF(\"php\") = 2.5 (moderately rare) - |D| = 18 words - avgdl = 20 words - k1 = 1.2 - b = 0.75</p> <p>Term frequency component: <pre><code>(4 \u00d7 (1.2 + 1)) / (4 + 1.2) = (4 \u00d7 2.2) / 5.2 = 8.8 / 5.2 \u2248 1.69\n</code></pre></p> <p>Length normalization: <pre><code>1 - 0.75 + 0.75 \u00d7 (18 / 20) = 0.25 + 0.675 = 0.925\n</code></pre></p> <p>Combined for \"php\": <pre><code>2.5 \u00d7 1.69 / 0.925 \u2248 4.57\n</code></pre></p>"},{"location":"fts/bm25-simple-calc/#step_2_calculate_for_tutorial","title":"Step 2: Calculate for \"tutorial\"","text":"<p>Assume:</p> <ul> <li>f(\"tutorial\", D) = 1</li> <li>IDF(\"tutorial\") = 3.0 (rarer)</li> </ul> <p>Term frequency component:</p> <pre><code>(1 \u00d7 2.2) / (1 + 1.2) = 2.2 / 2.2 = 1.0\n</code></pre> <p>Combined for \"tutorial\":</p> <pre><code>3.0 \u00d7 1.0 / 0.925 \u2248 3.24\n</code></pre>"},{"location":"fts/bm25-simple-calc/#step_3_sum_everything","title":"Step 3: Sum Everything","text":"<pre><code>BM25 score = 4.57 + 3.24 = 7.81\n</code></pre> <p>This document would score 7.81 for the query \"php tutorial\".</p>"},{"location":"fts/bm25-simple-calc/#what_makes_bm25_smart","title":"What Makes BM25 Smart?","text":"<ol> <li> <p>Handles repetition intelligently: Saying \"php\" 100 times doesn't make your document 100\u00d7 more relevant</p> </li> <li> <p>Values rare words: Technical terms or specific concepts matter more than common words</p> </li> <li> <p>Fair to all document lengths: Short, focused documents can compete with comprehensive longer ones</p> </li> <li> <p>Query-specific: Each query term contributes independently, then they're summed</p> </li> </ol>"},{"location":"fts/bm25-simple-calc/#tuning_parameters","title":"Tuning Parameters","text":""},{"location":"fts/bm25-simple-calc/#k1_term_frequency_saturation","title":"k1 (Term Frequency Saturation)","text":"<ul> <li>Default: 1.2</li> <li>Lower (1.0): Good for precise queries where repetition matters less</li> <li>Higher (2.0): Good when term frequency is highly indicative of relevance</li> </ul>"},{"location":"fts/bm25-simple-calc/#b_length_normalization","title":"b (Length Normalization)","text":"<ul> <li>Default: 0.75</li> <li>Lower (0.5): Use when document length varies widely but all are relevant</li> <li>Higher (0.9): Use when you want to penalize verbose documents more</li> </ul>"},{"location":"fts/bm25-simple-calc/#common_student_questions","title":"Common Student Questions","text":"<p>Q: Why not just count word matches?</p> <p>A: Simple counting favors long documents and treats all words equally. BM25 is smarter about both issues.</p> <p>Q: Can BM25 be negative?</p> <p>A: Technically yes, if IDF is negative (when a term appears in most documents), but modern implementations often use a floor of 0.</p> <p>Q: Does word order matter?</p> <p>A: No, BM25 is a \"bag of words\" model. \"php tutorial\" and \"tutorial php\" score the same.</p> <p>Q: How does this compare to TF-IDF?</p> <p>A: BM25 is an improvement over TF-IDF. It adds saturation (diminishing returns) and better length normalization.</p>"},{"location":"fts/bm25-simple-calc/#key_takeaways","title":"Key Takeaways","text":"<ul> <li>BM25 combines term importance (IDF), term frequency (with saturation), and document length (normalization)</li> <li>It's more sophisticated than simple word counting</li> <li>The formula has stood the test of time because it balances multiple factors well</li> <li>Understanding each component helps you tune it for your specific use case</li> </ul> <p>BM25 remains the foundation of many modern search systems because it captures fundamental principles of relevance in a mathematically sound way.</p> <p></p>"},{"location":"fts/bm25/","title":"BM25","text":""},{"location":"fts/bm25/#what_is_bm25","title":"What is BM25?","text":"<p>BM25 (Best Matching 25th Iteration) is like TF-IDF's smarter, more sophisticated cousin. It's the algorithm that powers most modern search engines, including Elasticsearch and many parts of Google!</p> <p>Why is it better than TF-IDF?</p> <ul> <li>It has diminishing returns - Adding the 10th \"cat\" doesn't help as much as adding the 2nd \"cat\"</li> <li>It considers document length - Longer docs aren't automatically penalized</li> <li>It has tuning knobs - You can adjust it for different use cases!</li> </ul>"},{"location":"fts/bm25/#the_bm25_formula","title":"The BM25 Formula","text":""},{"location":"fts/bm25/#the_formula_breakdown","title":"The Formula Breakdown","text":"<pre><code>BM25 = IDF \u00d7 [(f \u00d7 (k1 + 1)) / (f + k1 \u00d7 (1 - b + b \u00d7 |D| / avgdl))]\n       \u2502      \u2502                  \u2502\n       \u2502      \u2502                  \u2514\u2500 Denominator (normalization)\n       \u2502      \u2514\u2500 Numerator (boosted frequency)\n       \u2514\u2500 How rare is this term?\n\nWhere each query term contributes its own score, then we sum them all up!\n</code></pre> <p>Remember:</p> <ul> <li>IDF: How special is this word?</li> <li>Numerator: Boost the frequency (but not too much)</li> <li>Denominator: Normalize for document length and saturation</li> <li>Result: A score that balances everything perfectly!</li> </ul> <pre><code>BM25(D, Q) = \u03a3 IDF(qi) \u00d7 (f(qi, D) \u00d7 (k1 + 1)) / (f(qi, D) + k1 \u00d7 (1 - b + b \u00d7 |D| / avgdl))\n\nWhere:\n\n- D = Document being scored\n- Q = Query (search terms)\n- qi = Each term in the query\n- f(qi, D) = Frequency of term qi in document D\n- |D| = Length of document D (word count)\n- avgdl = Average document length in collection\n- k1 = Term frequency saturation parameter (usually 1.2 to 2.0)\n- b = Length normalization parameter (usually 0.75)\n</code></pre> <p>Don't panic! We'll break this down step by step! \ud83e\udde9</p>"},{"location":"fts/bm25/#understanding_the_parameters","title":"Understanding the Parameters","text":""},{"location":"fts/bm25/#k1_term_frequency_saturation","title":"k1 (Term Frequency Saturation)","text":"<p>Default: 1.2-2.0</p> <p>Controls how quickly we stop caring about additional word occurrences.</p> <pre><code>Word \"cat\" appears:\n\n- 1 time: Very important! \u2b50\u2b50\u2b50\u2b50\u2b50\n- 2 times: More important! \u2b50\u2b50\u2b50\u2b50\u2b50\u2b50\n- 5 times: Somewhat more important \u2b50\u2b50\u2b50\u2b50\u2b50\u2b50\u2b50\n- 50 times: Not much more important (saturated) \u2b50\u2b50\u2b50\u2b50\u2b50\u2b50\u2b50\u2b50\n</code></pre> <p>Higher k1 = More weight to term frequency  </p> <p>Lower k1 = Less weight to term frequency</p>"},{"location":"fts/bm25/#b_length_normalization","title":"b (Length Normalization)","text":"<p>Default: 0.75</p> <p>Controls how much document length affects the score.</p> <pre><code>b = 0: Document length doesn't matter at all\nb = 0.5: Document length matters somewhat\nb = 0.75: Document length matters a good amount (default)\nb = 1.0: Document length matters completely\n</code></pre> <p>Higher b = Longer docs penalized more  </p> <p>Lower b = Longer docs penalized less</p> <p> </p>"},{"location":"fts/bm25/#tuning_parameters_for_different_use_cases","title":"Tuning Parameters for Different Use Cases","text":""},{"location":"fts/bm25/#higher_k1_eg_k1_20","title":"Higher k1 (e.g., k1 = 2.0):","text":"<p>Use when:</p> <ul> <li>Longer documents are common</li> <li>Term frequency is very important</li> <li>E-commerce product descriptions</li> <li>Technical documentation</li> </ul> <p>Effect: More emphasis on how often terms appear</p>"},{"location":"fts/bm25/#lower_k1_eg_k1_10","title":"Lower k1 (e.g., k1 = 1.0):","text":"<p>Use when: - Short documents (tweets, titles) - Presence matters more than frequency - News headlines</p> <p>Effect: Less emphasis on repetition</p>"},{"location":"fts/bm25/#higher_b_eg_b_10","title":"Higher b (e.g., b = 1.0):","text":"<p>Use when: - Document lengths vary widely - Shorter docs should be favored - Blog posts vs. books</p> <p>Effect: Strong length normalization</p>"},{"location":"fts/bm25/#lower_b_eg_b_05","title":"Lower b (e.g., b = 0.5):","text":"<p>Use when: - All documents are similar length - Length shouldn't matter much - Academic papers (all ~8 pages)</p> <p>Effect: Weak length normalization</p>"},{"location":"fts/bm25/#key_takeaways","title":"Key Takeaways","text":"<p>BM25 is smarter than TF-IDF because:</p> <ol> <li> <p>Diminishing Returns </p> </li> <li> <p>The 2nd occurrence helps a lot</p> </li> <li>The 100th occurrence barely helps</li> <li> <p>Prevents keyword stuffing naturally</p> </li> <li> <p>Length Normalization </p> </li> <li> <p>Short, focused docs get a bonus</p> </li> <li>Long, rambling docs get penalized</li> <li> <p>Adjustable with parameter b</p> </li> <li> <p>Tunable </p> </li> <li> <p>k1 controls term frequency importance</p> </li> <li>b controls length normalization</li> <li> <p>Customize for your use case!</p> </li> <li> <p>More Realistic </p> </li> <li> <p>Mimics human relevance judgments</p> </li> <li>Used by Elasticsearch, Lucene, Solr</li> <li>Industry standard for good reason!</li> </ol> <p></p>"},{"location":"fts/bm25/#whats_next","title":"What's Next?","text":"<p>BM25 is still widely used today, but modern search also includes:</p> <ul> <li>BM25+ - Handles term frequency = 0 better</li> <li>BM25F - Multi-field version (title, body, tags)</li> <li>Neural Search - BERT, sentence transformers</li> <li>Hybrid Search - BM25 + neural embeddings combined!</li> </ul> <p>But BM25 remains the gold standard for lexical search! </p> <p></p>"},{"location":"fts/idf/","title":"Inverse Document Frequency (IDF)","text":"<p>IDF measures how rare or unique a term is across a collection of documents. It's the \"inverted\" part of TF-IDF (Term Frequency-Inverse Document Frequency).</p>"},{"location":"fts/idf/#the_core_idea","title":"The Core Idea","text":"<p>Common words like \"the\" or \"is\" appear in almost every document, so they're not useful for distinguishing between documents. Rare words like \"photosynthesis\" or \"cryptocurrency\" appear in fewer documents and are more informative.</p>"},{"location":"fts/idf/#the_formula","title":"The Formula","text":"<pre><code>IDF(term) = log(N / df)\n</code></pre> <p>Where:</p> <ul> <li>N = total number of documents</li> <li>df = number of documents containing the term</li> </ul>"},{"location":"fts/idf/#example","title":"Example","text":"<p>Say you have 1,000 documents:</p> <ul> <li>\"the\" appears in 999 documents \u2192 IDF = log(1000/999) \u2248 0.001 (very low)</li> <li>\"quantum\" appears in 10 documents \u2192 IDF = log(1000/10) = 2 (higher)</li> <li>\"riboflavin\" appears in 1 document \u2192 IDF = log(1000/1) = 3 (highest)</li> </ul>"},{"location":"fts/idf/#why_it_matters","title":"Why It Matters","text":"<p>When combined with Term Frequency (how often a word appears in a single document), IDF helps identify the most important words for each document. Words that appear frequently in one document but rarely across all documents get the highest TF-IDF scores.</p> <p>This is fundamental to search engines, document classification, and information retrieval systems.</p> <p>It\u2019s a core ingredient in TF\u2011IDF, one of the most widely used scoring methods in search engines, information retrieval, and text mining.</p>"},{"location":"fts/idf/#what_idf_tries_to_solve","title":"What IDF Tries to Solve","text":"<p>Some words appear in almost every document:</p> <ul> <li>\u201cthe\u201d</li> <li>\u201cis\u201d</li> <li>\u201cand\u201d</li> <li>\u201cof\u201d</li> </ul> <p>If a search engine treated these words as highly important, every document would look similar. IDF fixes this by down\u2011weighting common words and up\u2011weighting rare, meaningful words.</p> <p>So if a student searches for:</p> <p>\u201cphotosynthesis process\u201d</p> <p>The word \u201cphotosynthesis\u201d should matter far more than \u201cprocess\u201d.</p>"},{"location":"fts/idf/#how_idf_is_calculated","title":"How IDF Is Calculated","text":"<p>The most common formula is:</p> <p>The formula for Inverse Document Frequency (IDF) is:</p> <p>IDF(t) = log(N / df_t)</p> <p>Where:</p> <ul> <li>N = total number of documents in the corpus</li> <li>df_t = number of documents containing term t</li> <li>log = logarithm (typically natural log or log base 10)</li> </ul> <p>Common variations:</p> <ol> <li>Smoothed IDF (most common in practice):</li> </ol> <pre><code>IDF(t) = log(N / df_t) + 1\n</code></pre> <ol> <li>IDF with smoothing to avoid division by zero:</li> </ol> <pre><code>IDF(t) = log((N + 1) / (df_t + 1)) + 1\n</code></pre> <ol> <li>Probabilistic IDF:</li> </ol> <pre><code>IDF(t) = log((N - df_t) / df_t)\n</code></pre> <p>Key insight: IDF increases for rare terms (low df_t) and decreases for common terms (high df_t). When combined with term frequency (TF), you get TF-IDF weighting:</p> <p>TF-IDF(t, d) = TF(t, d) \u00d7 IDF(t)</p> <p>This smoothing ensures that terms appearing in all documents don't get zero weight and prevents division by zero for edge cases.</p>"},{"location":"fts/idf/#why_the_log","title":"Why the log?","text":"<p>Without the logarithm, rare terms would get huge scores.  </p> <p>The log keeps values nicely scaled.</p>"},{"location":"fts/idf/#example_1","title":"Example","text":"<p>Imagine a collection of 1,000 documents:</p> Term Documents Containing Term ((df_t)) IDF \u201cthe\u201d 980 ( \\log(1000/980) \\approx 0.009 ) \u201cphotosynthesis\u201d 12 ( \\log(1000/12) \\approx 4.42 ) \u201cchlorophyll\u201d 5 ( \\log(1000/5) \\approx 5.30 ) <p>Interpretation:</p> <ul> <li>\u201cthe\u201d \u2192 IDF near zero \u2192 contributes almost nothing  </li> <li>\u201cphotosynthesis\u201d \u2192 high IDF \u2192 very informative  </li> <li>\u201cchlorophyll\u201d \u2192 even higher \u2192 extremely informative  </li> </ul>"},{"location":"fts/idf/#why_idf_is_important","title":"Why IDF Is Important","text":""},{"location":"fts/idf/#1_it_filters_out_noise","title":"1. It filters out noise","text":"<p>Common words don\u2019t help distinguish one document from another. </p> <p>IDF ensures they don\u2019t dominate search results.</p>"},{"location":"fts/idf/#2_it_highlights_meaningful_terms","title":"2. It highlights meaningful terms","text":"<p>Rare terms often carry the actual meaning of a query.  </p> <p>IDF boosts these so search engines can rank documents more intelligently.</p>"},{"location":"fts/idf/#3_it_improves_relevance","title":"3. It improves relevance","text":"<p>TF\u2011IDF (Term Frequency \u00d7 IDF) combines:</p> <ul> <li>TF \u2192 how often a word appears in a document  </li> <li>IDF \u2192 how rare the word is across the whole collection  </li> </ul> <p>Together, they create a balanced score that rewards documents that use important terms frequently.</p>"},{"location":"fts/idf/#4_its_foundational_for_modern_search","title":"4. It\u2019s foundational for modern search","text":"<p>Even though we now have embeddings, transformers, and semantic search, IDF still:</p> <ul> <li>powers classical search engines  </li> <li>influences hybrid search systems  </li> <li>appears in ranking models like BM25  </li> </ul>"},{"location":"fts/idf/#putting_it_all_together","title":"Putting It All Together","text":"<p>IDF is essentially a discriminator:  </p> <p>It helps a search engine decide which words actually help identify the right documents.</p> <ul> <li>Common words \u2192 low IDF \u2192 low importance </li> <li>Rare words \u2192 high IDF \u2192 high importance</li> </ul> <p>This simple idea dramatically improves search quality and remains a cornerstone of information retrieval.</p> <p></p>"},{"location":"fts/multiple-indexes-on-same-col/","title":"Columns with many indexes","text":"<p>You can, but it\u2019s almost never useful \u2014 and MySQL will happily allow it as long as each index has a different name.</p>"},{"location":"fts/multiple-indexes-on-same-col/#short_answer","title":"Short answer","text":"<p>Yes, MySQL allows multiple FULLTEXT indexes on the same column(s). There\u2019s no technical restriction preventing it.</p>"},{"location":"fts/multiple-indexes-on-same-col/#but_heres_the_catch","title":"But here\u2019s the catch","text":"<p>Each FULLTEXT index is a complete inverted index. If you duplicate them:</p> <ul> <li>You double (or triple\u2026) the storage cost  </li> <li>You increase write/update overhead  </li> <li>You gain no performance benefit </li> <li>MySQL will not choose between them \u2014 they are functionally identical</li> </ul> <p>So MySQL will let you do this:</p> <pre><code>ALTER TABLE wp_products ADD FULLTEXT ft_name_1 (product_name);\nALTER TABLE wp_products ADD FULLTEXT ft_name_2 (product_name);\nALTER TABLE wp_products ADD FULLTEXT ft_name_3 (product_name);\n</code></pre> <p>\u2026but it\u2019s pointless unless the indexes cover different column combinations.</p>"},{"location":"fts/multiple-indexes-on-same-col/#when_multiple_fulltext_indexes_do_make_sense","title":"When multiple FULLTEXT indexes do make sense","text":"<p>Only in these cases:</p> Index Purpose <code>FULLTEXT(product_name)</code> Fast prefix search on names only <code>FULLTEXT(product_name, product_short_description, expanded_description)</code> Broader semantic search across all text fields <code>FULLTEXT(expanded_description)</code> If you want to weight this field differently or query it alone <p>So the useful pattern is different scopes, not duplicates.</p>"},{"location":"fts/multiple-indexes-on-same-col/#recommendation_for_your_schema","title":"Recommendation for your schema","text":"<p>For your WordPress-style product search, the ideal setup is:</p> <ul> <li>One composite index for the main search  </li> <li>Optional single-column indexes only if you run separate, narrow searches on those fields</li> </ul> <p>MySQL\u2019s index\u2011selection logic is surprisingly smart, but also very predictable once you know how the optimizer thinks. When multiple indexes could be used, MySQL runs a cost\u2011based decision process to choose the one that will return the result fastest.</p> <p>Here\u2019s a clear breakdown of how it decides.</p>"},{"location":"fts/multiple-indexes-on-same-col/#how_mysql_chooses_between_multiple_indexes","title":"How MySQL chooses between multiple indexes","text":""},{"location":"fts/multiple-indexes-on-same-col/#1_it_estimates_cost_for_each_possible_index","title":"1. It estimates \u201ccost\u201d for each possible index","text":"<p>MySQL\u2019s optimizer evaluates:</p> <ul> <li>How many rows the index will likely match  </li> <li>How selective the index is (fewer matches = better)  </li> <li>Whether the index can satisfy the query without touching the table  </li> <li>Whether the index can be used for sorting or grouping  </li> <li>Whether the index covers all columns needed (a covering index)  </li> <li>Whether the index supports the type of search (BTREE vs FULLTEXT)</li> </ul> <p>It then picks the lowest\u2011cost plan.</p>"},{"location":"fts/multiple-indexes-on-same-col/#fulltext_indexes_have_their_own_rules","title":"FULLTEXT indexes have their own rules","text":"<p>Since you\u2019re working with FULLTEXT, here\u2019s the key insight:</p>"},{"location":"fts/multiple-indexes-on-same-col/#if_a_query_uses_match_against_mysql_will_always_choose_a_fulltext_index","title":"If a query uses <code>MATCH() AGAINST()</code>, MySQL will ALWAYS choose a FULLTEXT index.","text":"<p>If multiple FULLTEXT indexes exist:</p> <ul> <li>MySQL chooses the one whose column list exactly matches the <code>MATCH()</code> list  </li> <li>If several match, it picks the one with the fewest columns </li> <li>If still tied, it picks the one with the lowest internal cost (usually the smallest index)</li> </ul> <p>So:</p> <pre><code>MATCH(product_name) AGAINST('shoes')\n</code></pre> <p>\u2192 uses <code>FULLTEXT(product_name)</code> if it exists \u2192 NOT the composite index unless the single\u2011column index is missing</p> <p>But:</p> <pre><code>MATCH(product_name, product_short_description, expanded_description)\nAGAINST('shoes')\n</code></pre> <p>\u2192 uses the composite index only \u2192 single\u2011column indexes are ignored</p>"},{"location":"fts/multiple-indexes-on-same-col/#example_you_have_these_indexes","title":"Example: You have these indexes","text":"<ul> <li><code>FULLTEXT(product_name)</code></li> <li><code>FULLTEXT(product_name, product_short_description, expanded_description)</code></li> </ul>"},{"location":"fts/multiple-indexes-on-same-col/#query_1","title":"Query 1:","text":"<pre><code>SELECT * FROM wp_products\nWHERE MATCH(product_name) AGAINST('red dress');\n</code></pre> <p>Chosen index: <code>FULLTEXT(product_name)</code> Because it matches the column list exactly.</p>"},{"location":"fts/multiple-indexes-on-same-col/#query_2","title":"Query 2:","text":"<pre><code>SELECT * FROM wp_products\nWHERE MATCH(product_name, product_short_description, expanded_description)\n      AGAINST('red dress');\n</code></pre> <p>Chosen index: <code>FULLTEXT(product_name, product_short_description, expanded_description)</code> </p> <p>Because it\u2019s the only one that covers all columns.</p>"},{"location":"fts/multiple-indexes-on-same-col/#want_to_see_what_mysql_is_doing","title":"Want to see what MySQL is doing?","text":"<p>Use:</p> <pre><code>EXPLAIN SELECT ...\n</code></pre> <p>or the more detailed:</p> <pre><code>EXPLAIN FORMAT=JSON SELECT ...\n</code></pre> <p>This will show exactly which index MySQL picked and why.</p>"},{"location":"fts/multiple-indexes-on-same-col/#practical_advice_for_your_schema","title":"Practical advice for your schema","text":"<p>Given your setup, the optimal pattern is:</p> <ul> <li>One composite FULLTEXT index for your main search  </li> <li>Optional single\u2011column FULLTEXT indexes only if you run separate searches on those fields</li> </ul> <p>If you tell me the exact search queries your WordPress plugin will run, I can tell you the minimal set of indexes that gives maximum performance without redundancy.</p> <p></p>"},{"location":"fts/negative-bm25-scores/","title":"Understanding BM25 Scores:","text":"<p>Why Negative Numbers Are Totally Normal</p>"},{"location":"fts/negative-bm25-scores/#opening_intuition_what_is_bm25_trying_to_do","title":"Opening Intuition: What Is BM25 Trying to Do?","text":"<p>BM25 is a relevance scoring function. Its job is simple:</p> <p>Given a query, how relevant is each document?</p> <p>But BM25 doesn\u2019t care about absolute numbers.  </p> <p>It only cares about relative ranking.</p> <p>Think of BM25 like a judge in a talent show:</p> <ul> <li>It doesn\u2019t matter whether the judge scores contestants 1\u201310 or -10\u20130  </li> <li>What matters is who ranks higher</li> </ul> <p>This is why negative scores are not a problem \u2014 they\u2019re just part of the math.</p>"},{"location":"fts/negative-bm25-scores/#negative_scores_are_normal","title":"Negative Scores Are Normal","text":"<p>BM25 scores can be positive, negative, or zero.  </p> <p>The only rule that matters:</p> <p>Higher scores = better matches (even if they\u2019re negative)</p> <p>This is the part that confuses beginners, so emphasize it early and often.</p>"},{"location":"fts/negative-bm25-scores/#interpreting_bm25_scores","title":"Interpreting BM25 Scores","text":""},{"location":"fts/negative-bm25-scores/#positive_scores","title":"Positive Scores","text":"<p>These happen when the query terms are rare across your collection.</p> <ul> <li>Rare terms \u2192 high IDF \u2192 positive BM25  </li> <li>Example: Searching for \u201cquantum\u201d in a blog collection</li> </ul>"},{"location":"fts/negative-bm25-scores/#negative_scores","title":"Negative Scores","text":"<p>These happen when the query terms are very common.</p> <ul> <li>Common terms \u2192 negative IDF \u2192 negative BM25  </li> <li>Example: Searching for \u201cthe\u201d or \u201cprogramming\u201d</li> </ul>"},{"location":"fts/negative-bm25-scores/#zero_scores","title":"Zero Scores","text":"<p>These happen when:</p> <ul> <li>The document contains none of the query terms  </li> <li>Or the terms are so common that the math cancels out</li> </ul>"},{"location":"fts/negative-bm25-scores/#why_negative_scores_happen_the_math_intuition","title":"Why Negative Scores Happen (The Math Intuition)","text":"<p>BM25 uses the IDF formula:</p> <pre><code>IDF = ln((N - n + 0.5) / (n + 0.5))\n</code></pre> <p>Where:</p> <ul> <li>N = total number of documents  </li> <li>n = number of documents containing the term  </li> </ul> <p>If a term appears in more than half of your documents, the fraction becomes &lt; 1, and:</p> <ul> <li>ln(&lt;1) = negative number  </li> <li>\u2192 negative IDF  </li> <li>\u2192 negative BM25  </li> </ul> <p>This is expected and correct.</p>"},{"location":"fts/negative-bm25-scores/#mental_model","title":"Mental Model:","text":"<p>Think of IDF Like \u201cUniqueness Points\u201d</p> <ul> <li>Rare terms earn bonus points </li> <li>Common terms earn penalty points </li> <li>BM25 adds up all the bonuses and penalties  </li> </ul> <p>If all your query terms are common, you get a negative total, but the ranking still works.</p>"},{"location":"fts/negative-bm25-scores/#example_breakdown","title":"Example Breakdown","text":"Document \"the\" \"programming\" \"language\" BM25 Doc 1 Yes Yes Yes -5.2 Doc 2 Yes Yes No -4.8 Doc 3 No No No 0.0 <p>Ranking:</p> <ol> <li>Doc 2 (best)  </li> <li>Doc 1  </li> <li>Doc 3 (worst)</li> </ol> <p>Even though Doc 2 has a negative score, it\u2019s still the best match.</p>"},{"location":"fts/negative-bm25-scores/#when_youll_see_each_score_type","title":"When You\u2019ll See Each Score Type","text":""},{"location":"fts/negative-bm25-scores/#positive_scores_1","title":"Positive Scores","text":"<ul> <li>Rare terms  </li> <li>Technical vocabulary  </li> <li>Small document sets  </li> </ul>"},{"location":"fts/negative-bm25-scores/#negative_scores_1","title":"Negative Scores","text":"<ul> <li>Common words  </li> <li>Terms appearing in most documents  </li> <li>Broad/general vocabulary  </li> </ul>"},{"location":"fts/negative-bm25-scores/#zero_scores_1","title":"Zero Scores","text":"<ul> <li>No matching terms  </li> <li>Completely unrelated content  </li> </ul>"},{"location":"fts/negative-bm25-scores/#practical_experiments","title":"Practical Experiments","text":""},{"location":"fts/negative-bm25-scores/#1_positive_score_experiment","title":"1. Positive Score Experiment","text":"<p>Documents:  </p> <ul> <li>\u201cPython is great\u201d  </li> <li>\u201cJava is fast\u201d  </li> <li>\u201cC++ is powerful\u201d  </li> </ul> <p>Query: python \u2192 positive score</p>"},{"location":"fts/negative-bm25-scores/#2_negative_score_experiment","title":"2. Negative Score Experiment","text":"<p>Documents:  </p> <ul> <li>\u201cProgramming in Python\u201d  </li> <li>\u201cProgramming in Java\u201d  </li> <li>\u201cProgramming in C++\u201d  </li> </ul> <p>Query: programming \u2192 negative scores</p>"},{"location":"fts/negative-bm25-scores/#3_zero_score_experiment","title":"3. Zero Score Experiment","text":"<p>Documents:  </p> <ul> <li>\u201cPython programming\u201d  </li> <li>\u201cJava coding\u201d  </li> <li>\u201cC++ development\u201d  </li> </ul> <p>Query: cooking recipes \u2192 zero</p>"},{"location":"fts/negative-bm25-scores/#bm25_vs_tfidf","title":"BM25 vs TF\u2011IDF","text":"<p>Students often ask this, so it\u2019s worth adding:</p> Feature TF\u2011I BM2 Term frequency Linear Saturates (diminishing returns) Document length Not handled well Normalized Ranking quality Good Better Negative scores Yes Yes Search engines Rarely Very common <p>BM25 is essentially a smarter, more realistic TF\u2011IDF.</p>"},{"location":"fts/negative-bm25-scores/#why_bm25_still_matters_in_2026","title":"Why BM25 Still Matters in 2026","text":"<p>Even with vector search, embeddings, and RAG:</p> <ul> <li>BM25 is still the best first\u2011stage retriever </li> <li>It\u2019s fast, cheap, and interpretable  </li> <li>It handles exact keyword matching better than embeddings  </li> <li>Hybrid search = BM25 + vectors \u2192 best of both worlds  </li> </ul> <p>Your students will encounter BM25 everywhere: Elasticsearch, OpenSearch, Meilisearch, Vespa, Solr, and even WordPress plugins.</p>"},{"location":"fts/negative-bm25-scores/#final_takeaways","title":"Final Takeaways","text":"<ul> <li>Negative BM25 scores are normal </li> <li>Zero means no match </li> <li>Higher scores always win, even if negative  </li> <li>BM25 is ranking-focused, not absolute-value-focused  </li> <li>Understanding IDF is the key to understanding everything else  </li> </ul> <p>BM25 doesn\u2019t care whether scores are positive or negative \u2014 it only cares about which document is the best match.</p> <p></p>"},{"location":"fts/sql-guide/","title":"MySQL Full Text Search - Complete Guide","text":""},{"location":"fts/sql-guide/#introduction","title":"Introduction","text":"<p>Full Text Search (FTS) in MySQL provides powerful text searching capabilities beyond simple LIKE queries. It's particularly useful for searching product catalogs, blog posts, and other content-heavy tables.</p>"},{"location":"fts/sql-guide/#setting_up_full_text_search","title":"Setting Up Full Text Search","text":""},{"location":"fts/sql-guide/#creating_a_fulltext_index","title":"Creating a FULLTEXT Index","text":"<p>Before using FTS, you must create a FULLTEXT index on the columns you want to search.</p> <pre><code>-- For a products table\nCREATE FULLTEXT INDEX idx_product_search \nON products(product_name, description);\n\n-- For WordPress posts table\nCREATE FULLTEXT INDEX idx_post_search \nON wp_posts(post_title, post_content);\n\n-- Add to existing table\nALTER TABLE products \nADD FULLTEXT INDEX idx_product_search(product_name, description);\n</code></pre> <p>Important Notes:</p> <ul> <li>FULLTEXT indexes only work with InnoDB (MySQL 5.6+) and MyISAM engines</li> <li>Can be created on CHAR, VARCHAR, or TEXT columns</li> <li>Multiple columns can be included in a single FULLTEXT index</li> </ul>"},{"location":"fts/sql-guide/#the_three_search_modes","title":"The Three Search Modes","text":"<p>MySQL offers three full text search modes, each with different behaviors and use cases.</p>"},{"location":"fts/sql-guide/#1_natural_language_mode_default","title":"1. Natural Language Mode (Default)","text":"<p>Natural language mode ranks results by relevance and filters out words that appear in more than 50% of rows.</p>"},{"location":"fts/sql-guide/#basic_syntax","title":"Basic Syntax","text":"<pre><code>SELECT column_list\nFROM table_name\nWHERE MATCH(column1, column2, ...) AGAINST('search terms' IN NATURAL LANGUAGE MODE);\n</code></pre>"},{"location":"fts/sql-guide/#products_table_examples","title":"Products Table Examples","text":"<pre><code>-- Basic product search\nSELECT product_id, product_name, description\nFROM products\nWHERE MATCH(product_name, description) \nAGAINST('wireless headphones');\n\n-- With relevance score\nSELECT \n    product_id,\n    product_name,\n    MATCH(product_name, description) AGAINST('wireless headphones') AS relevance\nFROM products\nWHERE MATCH(product_name, description) AGAINST('wireless headphones')\nORDER BY relevance DESC;\n\n-- Search with additional filters\nSELECT product_id, product_name, price\nFROM products\nWHERE MATCH(product_name, description) AGAINST('laptop gaming')\n    AND price BETWEEN 500 AND 2000\n    AND in_stock = 1\nORDER BY MATCH(product_name, description) AGAINST('laptop gaming') DESC;\n</code></pre>"},{"location":"fts/sql-guide/#wordpress_posts_examples","title":"WordPress Posts Examples","text":"<pre><code>-- Search posts\nSELECT ID, post_title, post_date\nFROM wp_posts\nWHERE MATCH(post_title, post_content) \nAGAINST('wordpress plugins')\n    AND post_status = 'publish'\n    AND post_type = 'post';\n\n-- Search with relevance scoring\nSELECT \n    ID,\n    post_title,\n    post_date,\n    MATCH(post_title, post_content) AGAINST('SEO optimization') AS score\nFROM wp_posts\nWHERE MATCH(post_title, post_content) AGAINST('SEO optimization')\n    AND post_status = 'publish'\nORDER BY score DESC\nLIMIT 10;\n</code></pre>"},{"location":"fts/sql-guide/#natural_language_mode_characteristics","title":"Natural Language Mode Characteristics","text":"<ul> <li>Relevance Ranking: Results automatically ranked by relevance</li> <li>50% Threshold: Words appearing in &gt;50% of rows are ignored (stopwords)</li> <li>Minimum Word Length: Default is 4 characters (configurable via <code>ft_min_word_len</code>)</li> <li>Case Insensitive: Searches are not case-sensitive</li> <li>No Operators: Cannot use boolean operators like +, -, *</li> </ul>"},{"location":"fts/sql-guide/#2_boolean_mode","title":"2. Boolean Mode","text":"<p>Boolean mode provides fine-grained control over search queries using operators. No 50% threshold applies.</p>"},{"location":"fts/sql-guide/#basic_syntax_1","title":"Basic Syntax","text":"<pre><code>SELECT column_list\nFROM table_name\nWHERE MATCH(column1, column2, ...) AGAINST('search terms' IN BOOLEAN MODE);\n</code></pre>"},{"location":"fts/sql-guide/#boolean_operators","title":"Boolean Operators","text":"Operator Description Example <code>+</code> Word must be present <code>+required</code> <code>-</code> Word must not be present <code>-excluded</code> <code>*</code> Wildcard (truncation) <code>wire*</code> matches wireless, wired <code>\"\"</code> Exact phrase <code>\"exact phrase\"</code> <code>()</code> Group expressions <code>+(apple orange) -banana</code> <code>&gt;</code> Increase word importance <code>&gt;important</code> <code>&lt;</code> Decrease word importance <code>&lt;less important</code> <code>~</code> Negate word ranking <code>~minor</code>"},{"location":"fts/sql-guide/#products_table_examples_1","title":"Products Table Examples","text":"<pre><code>-- Product MUST contain \"wireless\" and MUST contain \"headphones\"\nSELECT product_name, description\nFROM products\nWHERE MATCH(product_name, description) \nAGAINST('+wireless +headphones' IN BOOLEAN MODE);\n\n-- Product MUST contain \"laptop\" but NOT \"gaming\"\nSELECT product_name, price\nFROM products\nWHERE MATCH(product_name, description) \nAGAINST('+laptop -gaming' IN BOOLEAN MODE);\n\n-- Exact phrase search\nSELECT product_name\nFROM products\nWHERE MATCH(product_name, description) \nAGAINST('\"noise cancelling headphones\"' IN BOOLEAN MODE);\n\n-- Wildcard search - finds \"bluetooth\", \"blue\", etc.\nSELECT product_name\nFROM products\nWHERE MATCH(product_name, description) \nAGAINST('blue*' IN BOOLEAN MODE);\n\n-- Complex query: Must have \"phone\", should have \"android\" or \"samsung\", exclude \"refurbished\"\nSELECT product_name, price\nFROM products\nWHERE MATCH(product_name, description) \nAGAINST('+phone +(android samsung) -refurbished' IN BOOLEAN MODE);\n\n-- Prioritize certain terms\nSELECT \n    product_name,\n    MATCH(product_name, description) \n    AGAINST('&gt;premium &lt;budget wireless' IN BOOLEAN MODE) AS relevance\nFROM products\nWHERE MATCH(product_name, description) \nAGAINST('&gt;premium &lt;budget wireless' IN BOOLEAN MODE)\nORDER BY relevance DESC;\n</code></pre>"},{"location":"fts/sql-guide/#wordpress_posts_examples_1","title":"WordPress Posts Examples","text":"<pre><code>-- Posts that MUST contain \"wordpress\" and \"tutorial\"\nSELECT post_title, post_date\nFROM wp_posts\nWHERE MATCH(post_title, post_content) \nAGAINST('+wordpress +tutorial' IN BOOLEAN MODE)\n    AND post_status = 'publish';\n\n-- Posts about \"CSS\" but not \"JavaScript\"\nSELECT post_title\nFROM wp_posts\nWHERE MATCH(post_title, post_content) \nAGAINST('+CSS -JavaScript' IN BOOLEAN MODE)\n    AND post_status = 'publish';\n\n-- Exact title search\nSELECT ID, post_title\nFROM wp_posts\nWHERE MATCH(post_title, post_content) \nAGAINST('\"How to Install WordPress\"' IN BOOLEAN MODE);\n\n-- Find all posts about \"develop*\" (developer, development, developing)\nSELECT post_title\nFROM wp_posts\nWHERE MATCH(post_title, post_content) \nAGAINST('develop*' IN BOOLEAN MODE)\n    AND post_status = 'publish'\nLIMIT 20;\n\n-- Complex search: Must have \"plugin\", prefer \"free\", exclude \"deprecated\"\nSELECT \n    post_title,\n    post_date,\n    MATCH(post_title, post_content) \n    AGAINST('+plugin &gt;free -deprecated' IN BOOLEAN MODE) AS score\nFROM wp_posts\nWHERE MATCH(post_title, post_content) \nAGAINST('+plugin &gt;free -deprecated' IN BOOLEAN MODE)\n    AND post_status = 'publish'\nORDER BY score DESC;\n</code></pre>"},{"location":"fts/sql-guide/#boolean_mode_characteristics","title":"Boolean Mode Characteristics","text":"<ul> <li>No 50% Threshold: All words are considered, regardless of frequency</li> <li>Explicit Operators: Full control with +, -, *, etc.</li> <li>No Automatic Ranking: Results not automatically sorted by relevance (unless you ORDER BY MATCH score)</li> <li>Minimum Length Still Applies: Words must meet minimum length requirement</li> <li>Can Search Without Index: Boolean mode works even without FULLTEXT index (but much slower)</li> </ul>"},{"location":"fts/sql-guide/#3_query_expansion_mode","title":"3. Query Expansion Mode","text":"<p>Query expansion performs a two-pass search: first finds relevant documents, then searches again using terms from those documents to find more results.</p>"},{"location":"fts/sql-guide/#basic_syntax_2","title":"Basic Syntax","text":"<pre><code>SELECT column_list\nFROM table_name\nWHERE MATCH(column1, column2, ...) \nAGAINST('search terms' WITH QUERY EXPANSION);\n</code></pre>"},{"location":"fts/sql-guide/#how_query_expansion_works","title":"How Query Expansion Works","text":"<ol> <li>First Pass: Performs normal natural language search</li> <li>Extract Terms: Analyzes top results to find related terms</li> <li>Second Pass: Searches again with original + expanded terms</li> <li>Return Combined Results: Merges results from both passes</li> </ol>"},{"location":"fts/sql-guide/#products_table_examples_2","title":"Products Table Examples","text":"<pre><code>-- Basic query expansion\n-- If searching for \"laptop\", might also find \"notebook\", \"computer\", \"PC\"\nSELECT product_name, description\nFROM products\nWHERE MATCH(product_name, description) \nAGAINST('laptop' WITH QUERY EXPANSION);\n\n-- Query expansion with scoring\nSELECT \n    product_name,\n    MATCH(product_name, description) \n    AGAINST('smartphone' WITH QUERY EXPANSION) AS relevance\nFROM products\nWHERE MATCH(product_name, description) \nAGAINST('smartphone' WITH QUERY EXPANSION)\nORDER BY relevance DESC\nLIMIT 20;\n\n-- Practical example: Finding similar products\n-- User searches \"wireless earbuds\", expansion might include \"bluetooth\", \"TWS\", \"headphones\"\nSELECT product_id, product_name, price\nFROM products\nWHERE MATCH(product_name, description) \nAGAINST('wireless earbuds' WITH QUERY EXPANSION)\n    AND in_stock = 1\nORDER BY MATCH(product_name, description) \n    AGAINST('wireless earbuds' WITH QUERY EXPANSION) DESC\nLIMIT 10;\n</code></pre>"},{"location":"fts/sql-guide/#wordpress_posts_examples_2","title":"WordPress Posts Examples","text":"<pre><code>-- Search posts with query expansion\n-- \"SEO\" might expand to include \"search engine\", \"ranking\", \"optimization\"\nSELECT post_title, post_date\nFROM wp_posts\nWHERE MATCH(post_title, post_content) \nAGAINST('SEO' WITH QUERY EXPANSION)\n    AND post_status = 'publish'\nORDER BY post_date DESC;\n\n-- Find related articles\nSELECT \n    ID,\n    post_title,\n    MATCH(post_title, post_content) \n    AGAINST('machine learning' WITH QUERY EXPANSION) AS relevance\nFROM wp_posts\nWHERE MATCH(post_title, post_content) \nAGAINST('machine learning' WITH QUERY EXPANSION)\n    AND post_status = 'publish'\nORDER BY relevance DESC\nLIMIT 15;\n\n-- Related posts for a \"You might also like\" feature\nSELECT p2.ID, p2.post_title\nFROM wp_posts p1\nCROSS JOIN wp_posts p2\nWHERE p1.ID = 123  -- Current post ID\n    AND p2.ID != p1.ID\n    AND MATCH(p2.post_title, p2.post_content) \n        AGAINST(p1.post_title WITH QUERY EXPANSION)\n    AND p2.post_status = 'publish'\nLIMIT 5;\n</code></pre>"},{"location":"fts/sql-guide/#query_expansion_characteristics","title":"Query Expansion Characteristics","text":"<ul> <li>Automatic Term Discovery: Finds related terms automatically</li> <li>Broader Results: Returns more results than natural language mode</li> <li>Potentially Lower Precision: May include less relevant results</li> <li>Performance Impact: Slower than other modes (two-pass search)</li> <li>Best for Short Queries: Works well with 1-3 word searches</li> <li>Blind Expansion: Uses terms even if not semantically related</li> </ul>"},{"location":"fts/sql-guide/#comparison_table","title":"Comparison Table","text":"Feature Natural Language Boolean Mode Query Expansion Default mode \u2713 \u2717 \u2717 Relevance ranking Automatic Manual (ORDER BY) Automatic 50% threshold Yes No Yes Operators (+, -, *) No Yes No Search speed Fast Fast Slower (2-pass) Result precision High Highest Lower Result breadth Medium Narrow/Broad Broadest Best for General search Precise search Discovery/Related content"},{"location":"fts/sql-guide/#practical_implementation_examples","title":"Practical Implementation Examples","text":""},{"location":"fts/sql-guide/#product_search_page_with_filters","title":"Product Search Page with Filters","text":"<pre><code>-- Complete product search with multiple filters\nSELECT \n    p.product_id,\n    p.product_name,\n    p.description,\n    p.price,\n    p.category,\n    c.category_name,\n    MATCH(p.product_name, p.description) \n        AGAINST('wireless speaker' IN BOOLEAN MODE) AS relevance\nFROM products p\nLEFT JOIN categories c ON p.category = c.category_id\nWHERE \n    MATCH(p.product_name, p.description) \n        AGAINST('+wireless +speaker -refurbished' IN BOOLEAN MODE)\n    AND p.price BETWEEN 50 AND 300\n    AND p.in_stock = 1\n    AND p.active = 1\nORDER BY relevance DESC, p.rating DESC\nLIMIT 20 OFFSET 0;\n</code></pre>"},{"location":"fts/sql-guide/#wordpress_search_results_page","title":"WordPress Search Results Page","text":"<pre><code>-- Complete WordPress search with post meta\nSELECT \n    p.ID,\n    p.post_title,\n    p.post_excerpt,\n    p.post_date,\n    p.post_modified,\n    u.display_name as author,\n    MATCH(p.post_title, p.post_content) \n        AGAINST('wordpress security') AS relevance\nFROM wp_posts p\nINNER JOIN wp_users u ON p.post_author = u.ID\nWHERE \n    MATCH(p.post_title, p.post_content) \n        AGAINST('wordpress security')\n    AND p.post_status = 'publish'\n    AND p.post_type IN ('post', 'page')\n    AND p.post_date &lt;= NOW()\nORDER BY relevance DESC, p.post_date DESC\nLIMIT 10;\n</code></pre>"},{"location":"fts/sql-guide/#search_suggestions_autocomplete","title":"Search Suggestions (Autocomplete)","text":"<pre><code>-- Product name autocomplete using wildcard\nSELECT DISTINCT product_name\nFROM products\nWHERE MATCH(product_name) \n    AGAINST('head*' IN BOOLEAN MODE)\n    AND active = 1\nLIMIT 10;\n</code></pre>"},{"location":"fts/sql-guide/#related_products","title":"Related Products","text":"<pre><code>-- Find similar products to product ID 42\nSELECT \n    p2.product_id,\n    p2.product_name,\n    p2.price,\n    MATCH(p2.product_name, p2.description) \n        AGAINST((SELECT CONCAT(product_name, ' ', description) \n                 FROM products WHERE product_id = 42)\n                WITH QUERY EXPANSION) AS similarity\nFROM products p2\nWHERE p2.product_id != 42\n    AND MATCH(p2.product_name, p2.description) \n        AGAINST((SELECT CONCAT(product_name, ' ', description) \n                 FROM products WHERE product_id = 42)\n                WITH QUERY EXPANSION)\nORDER BY similarity DESC\nLIMIT 5;\n</code></pre>"},{"location":"fts/sql-guide/#performance_tips","title":"Performance Tips","text":""},{"location":"fts/sql-guide/#1_index_strategy","title":"1. Index Strategy","text":"<pre><code>-- Index only columns you'll search together\nCREATE FULLTEXT INDEX idx_product_name ON products(product_name);\nCREATE FULLTEXT INDEX idx_product_full ON products(product_name, description);\n</code></pre>"},{"location":"fts/sql-guide/#2_use_match_in_where_and_order_by","title":"2. Use MATCH in WHERE and ORDER BY","text":"<pre><code>-- Efficient: Reuse MATCH calculation\nSELECT product_name,\n       MATCH(product_name, description) AGAINST('laptop') AS score\nFROM products\nWHERE MATCH(product_name, description) AGAINST('laptop')\nORDER BY score DESC;\n</code></pre>"},{"location":"fts/sql-guide/#3_limit_results","title":"3. Limit Results","text":"<pre><code>-- Always use LIMIT for better performance\nSELECT product_name\nFROM products\nWHERE MATCH(product_name, description) AGAINST('phone' IN BOOLEAN MODE)\nLIMIT 50;\n</code></pre>"},{"location":"fts/sql-guide/#4_configure_minimum_word_length","title":"4. Configure Minimum Word Length","text":"<pre><code>-- In my.cnf or my.ini\n-- [mysqld]\n-- ft_min_word_len = 3\n-- ft_max_word_len = 84\n\n-- After changing, rebuild indexes:\n-- REPAIR TABLE products QUICK;\n</code></pre>"},{"location":"fts/sql-guide/#common_pitfalls_and_solutions","title":"Common Pitfalls and Solutions","text":""},{"location":"fts/sql-guide/#problem_no_results_found","title":"Problem: No Results Found","text":"<p>Cause: Word too short (&lt; 4 characters by default)</p> <pre><code>-- Won't work with default settings\nWHERE MATCH(product_name) AGAINST('USB' IN BOOLEAN MODE)\n\n-- Solution: Lower ft_min_word_len or use wildcards\nWHERE MATCH(product_name) AGAINST('USB*' IN BOOLEAN MODE)\n</code></pre>"},{"location":"fts/sql-guide/#problem_common_words_ignored","title":"Problem: Common Words Ignored","text":"<p>Cause: Word appears in &gt;50% of rows (Natural Language Mode)</p> <pre><code>-- \"the\" might be ignored\nWHERE MATCH(post_content) AGAINST('the best laptop')\n\n-- Solution: Use Boolean Mode\nWHERE MATCH(post_content) AGAINST('+best +laptop' IN BOOLEAN MODE)\n</code></pre>"},{"location":"fts/sql-guide/#problem_slow_queries","title":"Problem: Slow Queries","text":"<p>Cause: Not using FULLTEXT index properly</p> <pre><code>-- Slow: MATCH columns don't match index\nCREATE FULLTEXT INDEX idx ON products(product_name);\nWHERE MATCH(description) AGAINST('laptop');  -- Won't use index!\n\n-- Fast: Match index definition\nWHERE MATCH(product_name) AGAINST('laptop');\n</code></pre>"},{"location":"fts/sql-guide/#problem_special_characters_ignored","title":"Problem: Special Characters Ignored","text":"<p>Cause: MySQL treats special chars as word separators</p> <pre><code>-- \"C++\" becomes \"C\"\nWHERE MATCH(post_content) AGAINST('C++')\n\n-- Solution: Use exact phrase in Boolean Mode\nWHERE MATCH(post_content) AGAINST('\"C++\"' IN BOOLEAN MODE)\n</code></pre>"},{"location":"fts/sql-guide/#configuration_variables","title":"Configuration Variables","text":"<p>Key MySQL variables affecting Full Text Search:</p> <pre><code>-- View current settings\nSHOW VARIABLES LIKE 'ft%';\n\n-- Key variables:\n-- ft_min_word_len: Minimum word length (default: 4)\n-- ft_max_word_len: Maximum word length (default: 84)\n-- ft_stopword_file: Path to stopwords file\n-- ft_boolean_syntax: Boolean operators (default: + -&gt;&lt;()~*:\"\"&amp;|)\n-- innodb_ft_min_token_size: InnoDB minimum word length (default: 3)\n</code></pre>"},{"location":"fts/sql-guide/#summary","title":"Summary","text":"<p>Use Natural Language Mode when:</p> <ul> <li>You want automatic relevance ranking</li> <li>Searching general content (blog posts, articles)</li> <li>Users enter natural search queries</li> <li>Simplicity is important</li> </ul> <p>Use Boolean Mode when:</p> <ul> <li>You need precise control over search terms</li> <li>Implementing advanced search features</li> <li>Handling technical content with abbreviations</li> <li>Users are power users who understand operators</li> </ul> <p>Use Query Expansion when:</p> <ul> <li>Finding related content (\"You might also like\")</li> <li>User search terms are very specific but you want broad results</li> <li>Building discovery features</li> <li>Improving recall at the cost of precision</li> </ul> <p>For most e-commerce products and WordPress searches, Boolean Mode offers the best balance of control and functionality, while Natural Language Mode is perfect for simple search boxes.</p> <p></p>"},{"location":"fts/stop-words/","title":"Stop Words","text":""},{"location":"fts/stop-words/#stop_words_in_mysql","title":"Stop Words in MySQL","text":"<p>Stop words are one of the simplest but most misunderstood parts of MySQL\u2019s full\u2011text search. Students often hear that MySQL \u201cignores common words,\u201d but they rarely get a clean explanation of why this happens or how it affects search results. This guide breaks it down in a way that\u2019s easy to teach and easy to remember.</p>"},{"location":"fts/stop-words/#what_stop_words_are","title":"What Stop Words Are","text":"<p>Stop words are very common words that MySQL\u2019s full\u2011text search engine chooses to ignore. They typically include everyday terms such as:</p> <ul> <li>a  </li> <li>the  </li> <li>is  </li> <li>on  </li> <li>at  </li> <li>to  </li> </ul> <p>MySQL treats these words as too frequent to be useful for distinguishing one document from another.</p>"},{"location":"fts/stop-words/#why_mysql_uses_stop_words","title":"Why MySQL Uses Stop Words","text":""},{"location":"fts/stop-words/#1_they_dont_help_identify_relevant_documents","title":"1. They don\u2019t help identify relevant documents","text":"<p>Words that appear in almost every row provide no meaningful signal. If every document contains \u201cthe,\u201d then searching for \u201cthe\u201d would match everything.</p>"},{"location":"fts/stop-words/#2_they_reduce_index_size","title":"2. They reduce index size","text":"<p>By skipping extremely common words, MySQL keeps the full\u2011text index smaller and faster to query.</p>"},{"location":"fts/stop-words/#3_they_improve_ranking","title":"3. They improve ranking","text":"<p>Removing noise words allows more meaningful terms to influence relevance scoring.</p>"},{"location":"fts/stop-words/#how_stop_words_affect_searches","title":"How Stop Words Affect Searches","text":""},{"location":"fts/stop-words/#searches_containing_only_stop_words_return_no_results","title":"Searches containing only stop words return no results","text":"<p>If a student searches for \u201cthe and a,\u201d MySQL returns nothing because all three terms are ignored.</p>"},{"location":"fts/stop-words/#mixed_queries_drop_the_stop_words","title":"Mixed queries drop the stop words","text":"<p>A search for \u201cthe history of computing\u201d becomes \u201chistory computing.\u201d This can surprise students if they expect an exact match.</p>"},{"location":"fts/stop-words/#stop_words_can_change_the_meaning_of_a_query","title":"Stop words can change the meaning of a query","text":"<p>For example, \u201cto be or not to be\u201d becomes \u201cbe not be,\u201d which is obviously not ideal for phrase\u2011based searching.</p>"},{"location":"fts/stop-words/#where_mysql_gets_its_stop_words","title":"Where MySQL Gets Its Stop Words","text":"<p>MySQL uses a built\u2011in stopword list by default. This list is stored internally and automatically applied to all full\u2011text indexes unless you override it.</p> <p>The default list includes around 500 common English words.</p>"},{"location":"fts/stop-words/#when_stop_words_become_a_problem","title":"When Stop Words Become a Problem","text":""},{"location":"fts/stop-words/#searching_names_or_titles","title":"Searching names or titles","text":"<p>If a book title begins with \u201cThe,\u201d students may wonder why searching for it doesn\u2019t work as expected.</p>"},{"location":"fts/stop-words/#searching_short_phrases","title":"Searching short phrases","text":"<p>If a query contains only stop words, MySQL returns nothing, which can feel broken.</p>"},{"location":"fts/stop-words/#multilingual_content","title":"Multilingual content","text":"<p>The built\u2011in list is English\u2011only, so it may remove the wrong words in other languages.</p>"},{"location":"fts/stop-words/#why_understanding_stop_words_matters","title":"Why Understanding Stop Words Matters","text":""},{"location":"fts/stop-words/#it_helps_students_debug_confusing_search_results","title":"It helps students debug confusing search results","text":"<p>Many \u201cwhy didn\u2019t this match?\u201d questions come down to stop words being removed.</p>"},{"location":"fts/stop-words/#it_prepares_them_for_realworld_search_tuning","title":"It prepares them for real\u2011world search tuning","text":"<p>Developers often need to customize or disable stop words for better relevance.</p>"},{"location":"fts/stop-words/#it_connects_to_broader_search_concepts","title":"It connects to broader search concepts","text":"<p>Stop words are an early example of the idea that not all words carry equal meaning\u2014something that later ties into IDF, BM25, and semantic search.</p> <p></p>"},{"location":"fts/tf-idf/","title":"TF-IDF","text":""},{"location":"fts/tf-idf/#what_is_tf-idf","title":"What is TF-IDF?","text":"<p>TF-IDF is like having TWO super-smart friends working together to help you find exactly what you're looking for!</p> <ul> <li>Friend 1 (TF): \"This word appears a lot in this document!\"</li> <li>Friend 2 (IDF): \"But wait... is this word actually special or just common everywhere?\"</li> </ul> <p>TF-IDF = TF \u00d7 IDF</p> <p>It's the ULTIMATE combination that makes search engines actually work! \ud83c\udfaf</p>"},{"location":"fts/tf-idf/#the_simple_story","title":"The Simple Story","text":"<p>Imagine you're looking for books about \"cats\" in a library:</p> <p>Just using TF (Term Frequency):</p> <ul> <li>Book A: Uses \"the\" 100 times, \"cat\" 10 times</li> <li>Book B: Uses \"the\" 50 times, \"cat\" 10 times</li> <li>Problem: \"the\" gets high scores but doesn't help! \ud83d\ude15</li> </ul> <p>Just using IDF (Inverse Document Frequency):</p> <ul> <li>\"cat\" is rare \u2192 high IDF score \u2713</li> <li>But which BOOK talks about cats the most? We don't know! </li> </ul> <p>Using TF-IDF (The Perfect Combo):</p> <ul> <li>Finds books that mention \"cat\" OFTEN (TF)</li> <li>AND recognizes \"cat\" is a MEANINGFUL word (IDF)</li> <li>Ignores useless words like \"the\" automatically! </li> </ul>"},{"location":"fts/tf-idf/#how_it_works_-_the_formula","title":"How It Works - The Formula","text":"<pre><code>TF-IDF = TF \u00d7 IDF\n\nWhere:\nTF = (Word count in document) / (Total words in document)\nIDF = log(Total documents / Documents containing word)\n</code></pre> <p>In Plain English:</p> <p>TF-IDF gives HIGH scores to words that appear FREQUENTLY in a specific document but RARELY across all documents.</p>"},{"location":"fts/tf-idf/#step-by-step_example","title":"Step-by-Step Example","text":"<p>Let's search for \"python programming\" across 4 documents:</p>"},{"location":"fts/tf-idf/#documents","title":"Documents:","text":"<ol> <li>\"I love python programming. Python is great for data science.\"</li> <li>\"The weather is nice today. The sun is shining.\"</li> <li>\"Programming is fun. I enjoy coding every day.\"</li> <li>\"Python snakes are dangerous reptiles in the wild.\"</li> </ol>"},{"location":"fts/tf-idf/#calculate_for_word_python","title":"Calculate for word: \"python\"","text":"<p>Step 1: Calculate TF for each document</p> <ul> <li>Doc 1: 2 occurrences / 12 words = 0.17</li> <li>Doc 2: 0 occurrences / 9 words = 0.00</li> <li>Doc 3: 0 occurrences / 8 words = 0.00</li> <li>Doc 4: 1 occurrence / 8 words = 0.13</li> </ul> <p>Step 2: Calculate IDF</p> <ul> <li>Total documents: 4</li> <li>Documents with \"python\": 2 (Doc 1 and Doc 4)</li> <li>IDF = log(4/2) = log(2) = 0.69</li> </ul> <p>Step 3: Calculate TF-IDF</p> <ul> <li>Doc 1: 0.17 \u00d7 0.69 = 0.12 \u2b50\u2b50\u2b50</li> <li>Doc 2: 0.00 \u00d7 0.69 = 0.00</li> <li>Doc 3: 0.00 \u00d7 0.69 = 0.00</li> <li>Doc 4: 0.13 \u00d7 0.69 = 0.09 \u2b50\u2b50</li> </ul> <p>Winner: Doc 1! It's about Python programming! \ud83c\udfc6</p>"},{"location":"fts/tf-idf/#calculate_for_word_the","title":"Calculate for word: \"the\"","text":"<p>Step 1: TF for each document</p> <ul> <li>Doc 1: 0/12 = 0.00</li> <li>Doc 2: 2/9 = 0.22</li> <li>Doc 3: 0/8 = 0.00</li> <li>Doc 4: 1/8 = 0.13</li> </ul> <p>Step 2: IDF</p> <ul> <li>Documents with \"the\": 2</li> <li>IDF = log(4/2) = 0.69</li> </ul> <p>Step 3: TF-IDF</p> <ul> <li>Doc 1: 0.00 \u00d7 0.69 = 0.00</li> <li>Doc 2: 0.22 \u00d7 0.69 = 0.15</li> <li>Doc 3: 0.00 \u00d7 0.69 = 0.00</li> <li>Doc 4: 0.13 \u00d7 0.69 = 0.09</li> </ul> <p>Result: Even though \"the\" appears in Doc 2, its TF-IDF score is LOW because \"the\" is common!</p>"},{"location":"fts/tf-idf/#visual_comparison","title":"Visual Comparison","text":"<pre><code>Searching for: \"machine learning\"\n\nDocument A: \"Machine learning is amazing. Machine learning is powerful.\"\n\u251c\u2500 TF(machine): HIGH (appears often in THIS doc) \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n\u251c\u2500 IDF(machine): MEDIUM (appears in some docs) \u2588\u2588\u2588\u2588\n\u2514\u2500 TF-IDF: HIGH \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 \u2190 GREAT MATCH!\n\nDocument B: \"The data is stored in the database securely.\"\n\u251c\u2500 TF(machine): ZERO (doesn't appear) \n\u251c\u2500 IDF(machine): MEDIUM \u2588\u2588\u2588\u2588\n\u2514\u2500 TF-IDF: ZERO \u2190 NOT RELEVANT\n\nDocument C: \"I like machine. The machine is old.\"\n\u251c\u2500 TF(machine): HIGH \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n\u251c\u2500 IDF(machine): MEDIUM \u2588\u2588\u2588\u2588\n\u2514\u2500 TF-IDF: MEDIUM \u2588\u2588\u2588\u2588 \u2190 SOMEWHAT RELEVANT (wrong context!)\n</code></pre>"},{"location":"fts/tf-idf/#real-world_example_google_search","title":"Real-World Example: Google Search","text":"<p>You search: \"electric car battery\"</p> <p>Document Rankings:</p> Document Contains TF-IDF Score Rank Tesla Technical Specs \"electric\" (15\u00d7), \"car\" (20\u00d7), \"battery\" (25\u00d7) 8.5 #1 \ud83e\udd47 General Car Magazine \"car\" (50\u00d7), \"electric\" (2\u00d7), \"battery\" (1\u00d7) 2.1 #3 \ud83e\udd49 Battery Technology Blog \"battery\" (30\u00d7), \"electric\" (10\u00d7), \"car\" (0\u00d7) 4.3 #2 \ud83e\udd48 Random News Article \"the\" (100\u00d7), \"is\" (50\u00d7), \"and\" (40\u00d7) 0.1 #999 \u274c <p>Why Tesla wins:</p> <ul> <li>\u2705 All three search terms appear FREQUENTLY (high TF)</li> <li>\u2705 All three terms are MEANINGFUL (medium/high IDF)</li> <li>\u2705 TF-IDF = Perfect balance!</li> </ul>"},{"location":"fts/tf-idf/#the_magic_formula_breakdown","title":"The Magic Formula Breakdown","text":""},{"location":"fts/tf-idf/#high_tf-idf_score_happens_when","title":"High TF-IDF Score happens when:","text":"<ol> <li>High TF - Word appears many times in the document</li> <li>High IDF - Word is rare across all documents</li> <li>Multiply them - Both conditions met!</li> </ol>"},{"location":"fts/tf-idf/#low_tf-idf_score_happens_when","title":"Low TF-IDF Score happens when:","text":"<ol> <li>Word doesn't appear in document (TF = 0)</li> <li>Word is super common like \"the\" (IDF \u2248 0)</li> <li>Either one being zero = final score is zero!</li> </ol>"},{"location":"fts/tf-idf/#key_insights","title":"Key Insights","text":"<p>TF-IDF automatically filters out:</p> <ul> <li>\u274c Common words: \"the\", \"is\", \"and\", \"of\", \"in\"</li> <li>\u274c Irrelevant documents</li> <li>\u274c Documents that just spam keywords</li> </ul> <p>TF-IDF automatically promotes:</p> <ul> <li>\u2705 Meaningful, distinctive words</li> <li>\u2705 Documents where key terms appear frequently</li> <li>\u2705 Relevant, high-quality search results</li> </ul>"},{"location":"fts/tf-idf/#comparison_table","title":"Comparison Table","text":"Metric What It Does Problem It Has TF-IDF Solution TF only Counts word frequency in doc Common words get high scores Multiplies by IDF to penalize common words IDF only Identifies rare words Doesn't know which docs have them Multiplies by TF to find where they appear TF-IDF Combines both! \u2705 Solves both problems Perfect balance!"},{"location":"fts/tf-idf/#why_search_engines_love_tf-idf","title":"Why Search Engines Love TF-IDF","text":"<p>Before TF-IDF:</p> <ul> <li>Search for \"best pizza\": Get docs about \"the best\" everything</li> <li>Keyword stuffing worked: \"pizza pizza pizza pizza\"</li> <li>Results were terrible! </li> </ul> <p>With TF-IDF:</p> <ul> <li>Common words like \"best\" get low scores automatically</li> <li>Keyword stuffing doesn't help (IDF stays same)</li> <li>Actual relevant content wins! </li> </ul>"},{"location":"fts/tf-idf/#quick_summary","title":"Quick Summary","text":"<p>Remember the Formula:</p> <pre><code>TF-IDF = TF \u00d7 IDF\n       = (How often word appears in THIS doc) \n         \u00d7 \n         (How rare word is ACROSS ALL docs)\n</code></pre> <p>The Golden Rules:</p> <ol> <li>High TF + High IDF = Very Relevant! \ud83c\udf1f\ud83c\udf1f\ud83c\udf1f</li> <li>High TF + Low IDF = Probably common word (the, is, and)</li> <li>Low TF + High IDF = Rare word but not in this doc</li> <li>Low TF + Low IDF = Not relevant at all</li> </ol>"},{"location":"fts/tf-idf/#think_about_it","title":"Think About It","text":"<p>Question: Why does TF-IDF work so well?</p> <p>Answer: Because it mimics how humans think!</p> <ul> <li>We care about words that appear OFTEN in a specific context (TF)</li> <li>We ignore words that appear EVERYWHERE (low IDF)</li> <li>We focus on what makes something UNIQUE and RELEVANT</li> </ul> <p>That's the genius of TF-IDF!</p> <p></p>"},{"location":"fts/tf/","title":"Term Frequency (TF)","text":""},{"location":"fts/tf/#what_is_term_frequency","title":"What is Term Frequency?","text":"<p>Imagine you're looking for your favorite toy in a messy room. The more times you see that toy's name on boxes, the more likely that box has what you want! That's exactly how Term Frequency works in search engines.</p> <p>Term Frequency (TF) = How many times a word appears in a document</p> <p>Simple Term Frequency:</p> <pre><code>TF = (number of times term appears in document) / (total number of terms in document)\n</code></pre> <p>Example:</p> <p>Document: \"the cat sat on the mat\"</p> <ul> <li>Total terms: 6</li> <li>Query term \"the\" appears: 2 times</li> <li>TF(\"the\") = 2/6 = 0.33</li> </ul> <p>Why normalize by document length?</p> <p>Without dividing by total terms, longer documents would always score higher just because they have more words. Normalizing makes it fair - a term appearing 2 times in a 10-word doc (20%) is more significant than 2 times in a 1000-word doc (0.2%).</p> <p>Limitation:</p> <p>This treats the 1st and 100th occurrence equally. That's why most search systems use something like BM25 instead, which adds diminishing returns.</p>"},{"location":"fts/tf/#why_do_we_care","title":"Why Do We Care?","text":"<p>Search engines like Google need to figure out which documents (web pages) are most relevant to your search. If you search for \"python programming\", a document that mentions \"python\" 20 times is probably more relevant than one that mentions it only once!</p>"},{"location":"fts/tf/#how_it_works_-_the_simple_formula","title":"How It Works - The Simple Formula","text":"<p>The basic Term Frequency (TF) formula divides a word's count in a document by the total number of words in that document, representing its relative importance, with variations like raw count, logarithmic scaling, or augmented frequency used to prevent bias towards longer texts.</p>"},{"location":"fts/tf/#example_time","title":"Example Time!","text":"<p>Let's say we have two documents and we're searching for the word \"cat\":</p> <p>Document 1: (10 words total) \"I love cats. Cats are amazing. Cats make me happy.\" - Word \"cat\" appears: 3 times - TF = 3/10 = 0.3</p> <p>Document 2: (15 words total) \"I have a cat. My pet is nice. I walk my pet daily.\" - Word \"cat\" appears: 0 times - TF = 1/15 = 0.067</p> <p>Winner: Document 1 has higher TF for \"cat\"! \ud83c\udfc6</p>"},{"location":"fts/tf/#visual_comparison","title":"Visual Comparison","text":"<pre><code>Document A: \"dog dog dog cat\"\n\ud83d\udc15\ud83d\udc15\ud83d\udc15\ud83d\udc31\nTF(dog) = 3/4 = 0.75\n\nDocument B: \"dog cat cat cat\"  \n\ud83d\udc15\ud83d\udc31\ud83d\udc31\ud83d\udc31\nTF(dog) = 3/4 = 0.25\n</code></pre>"},{"location":"fts/tf/#real-world_search_example","title":"Real-World Search Example","text":"<p>Your Search: \"machine learning\"</p> <p>Document 1: Blog post about AI</p> <ul> <li>\"machine\" appears 5 times</li> <li>\"learning\" appears 5 times</li> <li>Total words: 100</li> <li>TF(machine) = 0.05, TF(learning) = 0.05</li> </ul> <p>Document 2: Tutorial on machine learning</p> <ul> <li>\"machine\" appears 25 times</li> <li>\"learning\" appears 30 times</li> <li>Total words: 200</li> <li>TF(machine) = 0.125, TF(learning) = 0.15</li> </ul> <p>Result: Document 2 likely more relevant! \u2705</p> <p>We can have a weighted formula like TF(machine) x TF(learning) or [TF(machine) + 2 x TF(learning)].</p>"},{"location":"fts/tf/#problem","title":"Problem","text":"<p>What about 'word stuffing'? A good document with a lower TF should rank higher than a poor document with word stuffing.</p>"},{"location":"fts/tf/#quick_summary","title":"Quick Summary","text":"<ul> <li>Higher TF = Word appears more often = Probably more relevant</li> <li>Lower TF = Word appears less often = Probably less relevant</li> <li>Formula: TF = (Word count in doc) / (Total words in doc)</li> <li>Used in: Search engines, recommendation systems, text analysis</li> </ul>"},{"location":"hybrid/reranking/","title":"Reranking","text":""},{"location":"hybrid/reranking/#the_principle_of_combining_fts_and_vector_search","title":"The Principle of Combining FTS and Vector Search","text":"<p>Reranking is the process of running two different searches, each good at different things, and then combining their strengths to produce better results than either one could alone.</p>"},{"location":"hybrid/reranking/#in_wordpressmysql_terms","title":"In WordPress/MySQL terms:","text":"<ul> <li>FTS (MATCH AGAINST) is great at keyword matching  </li> <li>Vector search is great at semantic meaning  </li> <li>Reranking blends them into one unified relevance score</li> </ul> <p>This is the foundation of modern hybrid search.</p>"},{"location":"hybrid/reranking/#why_combine_them","title":"Why Combine Them?","text":"<p>FTS and vector search solve different problems:</p> <ul> <li>FTS knows exact words </li> <li>Vector search knows what the words mean </li> </ul> <p>Reranking lets you use both signals at once.</p>"},{"location":"hybrid/reranking/#the_core_idea_simple_diagram","title":"The Core Idea (Simple Diagram)","text":"<pre><code>User Query\n    |\n    +------------------------------+\n    |                              |\nFTS Search                    Vector Search\n(keyword match)            (semantic similarity)\n    |                              |\n    +--------------+---------------+\n                   |\n             Combine Signals\n                   |\n             Reranked Results\n</code></pre> <p>The system doesn\u2019t replace one with the other \u2014 it layers them.</p>"},{"location":"hybrid/reranking/#how_developers_should_think_about_it","title":"How Developers Should Think About It","text":""},{"location":"hybrid/reranking/#fts_answers","title":"FTS answers:","text":"<p>\u201cDoes this document contain the words the user typed?\u201d</p>"},{"location":"hybrid/reranking/#vector_search_answers","title":"Vector search answers:","text":"<p>\u201cDoes this document mean what the user meant?\u201d</p>"},{"location":"hybrid/reranking/#reranking_answers","title":"Reranking answers:","text":"<p>\u201cHow do we blend both signals to produce the most relevant list?\u201d</p>"},{"location":"hybrid/reranking/#why_this_matters_in_wordpressmysql","title":"Why This Matters in WordPress/MySQL","text":""},{"location":"hybrid/reranking/#1_fts_alone_is_brittle","title":"1. FTS alone is brittle","text":"<p>Misspellings, synonyms, and natural language phrasing break it.</p>"},{"location":"hybrid/reranking/#2_vector_search_alone_is_too_fuzzy","title":"2. Vector search alone is too fuzzy","text":"<p>It may return semantically related content that doesn\u2019t match the user\u2019s intent.</p>"},{"location":"hybrid/reranking/#3_reranking_gives_you_the_best_of_both_worlds","title":"3. Reranking gives you the best of both worlds","text":"<ul> <li>FTS ensures precision  </li> <li>Vectors ensure understanding  </li> <li>Reranking ensures balance  </li> </ul> <p>This is exactly how modern search engines behave.</p>"},{"location":"hybrid/reranking/#a_wordpresscentric_view","title":"A WordPress\u2011Centric View","text":""},{"location":"hybrid/reranking/#fts_strengths_in_wp","title":"FTS strengths in WP","text":"<ul> <li>Fast in MySQL  </li> <li>Great for titles, slugs, product names  </li> <li>Good for exact intent (\u201cblue shoes\u201d, \u201cACF tutorial\u201d)  </li> </ul>"},{"location":"hybrid/reranking/#vector_strengths_in_wp","title":"Vector strengths in WP","text":"<ul> <li>Understands meaning (\u201chow to speed up my site\u201d \u2248 \u201cWordPress performance tips\u201d)  </li> <li>Handles long queries  </li> <li>Handles conversational queries  </li> </ul>"},{"location":"hybrid/reranking/#reranking_strengths_in_wp","title":"Reranking strengths in WP","text":"<ul> <li>Perfect for blog search, product search, documentation search  </li> <li>Works beautifully with hybrid BM25 + embeddings  </li> <li>Gives users \u201cGoogle\u2011like\u201d relevance without replacing MySQL  </li> </ul>"},{"location":"hybrid/reranking/#summary_table","title":"Summary Table","text":"<ul> <li>FTS - Keyword precision - Ensures exact matches and strong lexical signals -</li> <li>Vector Search - Semantic understanding - Captures meaning, synonyms, intent -</li> <li>Reranking - Blends both signals - Produces the most relevant final ranking </li> </ul>"},{"location":"implementations/fts-docs-articles-example/","title":"MySQL Docs example","text":"<p>This uses a custom table <code>articles</code> that is used in the official MySQL docs.</p>"},{"location":"implementations/fts-docs-articles-example/#what_is_mysql_full-text_search","title":"What is MySQL Full-Text Search?","text":"<p>MySQL Full-Text Search lets you search through text columns FAST without using slow <code>LIKE</code> queries!</p>"},{"location":"implementations/fts-docs-articles-example/#create_fts_inded","title":"Create FTS inded","text":"<p>Two ways:</p> <ol> <li>After table creation:</li> </ol> <pre><code>CREATE TABLE IF NOT EXISTS  (\n  `id` int UNSIGNED NOT NULL,\n  `title` varchar(200) DEFAULT NULL,\n  `body` text\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_\n\n-- Using ALTER TABLE\nALTER TABLE articles \nADD FULLTEXT INDEX ft_title_content (title, body);\n\n-- Or using CREATE INDEX\nCREATE FULLTEXT INDEX ft_title_body\nON articles(title, body);\n</code></pre> <ol> <li>As part of table creation:</li> </ol> <pre><code>CREATE TABLE IF NOT EXISTS articles (\n    id INT PRIMARY KEY AUTO_INCREMENT,\n    title VARCHAR(255),\n    body TEXT,\n    FULLTEXT INDEX ft_title_body (title, body)\n);\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#the_problem_with_like","title":"The Problem with LIKE:","text":"<pre><code>-- Slow query (scans entire table!) \nSELECT * FROM articles \nWHERE body LIKE '%machine learning%';\n</code></pre> <p>Time: 5 seconds for 1 million rows \u274c Cannot use indexes efficiently</p>"},{"location":"implementations/fts-docs-articles-example/#the_solution_full-text_search","title":"The Solution: Full-Text Search","text":"<pre><code>--\n-- Table structure for table `articles`\n--\n\nCREATE TABLE IF NOT EXISTS `articles` (\n  `id` int UNSIGNED NOT NULL,\n  `title` varchar(200) DEFAULT NULL,\n  `body` text\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;\n\n-- Fast query (uses full-text index!) \u26a1\nSELECT * FROM articles \nWHERE MATCH(body) AGAINST('machine learning');\n</code></pre> <p>Time: 0.05 seconds for 1 million rows \u2705 Uses specialized full-text indexes</p> <p>Speed improvement: 100x faster! </p>"},{"location":"implementations/fts-docs-articles-example/#three_types_of_full-text_search_in_mysql","title":"Three Types of Full-Text Search in MySQL","text":"<p>MySQL offers 3 different search modes, each with unique capabilities:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  1. NATURAL LANGUAGE MODE (Default)             \u2502\n\u2502     - Simple, relevance-based search            \u2502\n\u2502     - Like Google search                        \u2502\n\u2502     - Most commonly used                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  2. BOOLEAN MODE                                \u2502\n\u2502     - Advanced operators (+, -, *, \"\")          \u2502\n\u2502     - Precise control over search               \u2502\n\u2502     - Like advanced Google operators            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  3. QUERY EXPANSION MODE                        \u2502\n\u2502     - Two-pass search                           \u2502\n\u2502     - Finds related terms automatically         \u2502\n\u2502     - Best for broad exploration                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#type_1_natural_language_mode","title":"Type 1: NATURAL LANGUAGE MODE","text":""},{"location":"implementations/fts-docs-articles-example/#what_it_does","title":"What It Does:","text":"<p>Searches like you're talking naturally - just type your query!</p> <p>Key Features: - \u2705 Ranks results by relevance (most relevant first) - \u2705 Ignores words that appear in 50%+ of rows (too common) - \u2705 Automatically handles word variations - \u2705 No special operators needed</p>"},{"location":"implementations/fts-docs-articles-example/#visual_representation","title":"Visual Representation:","text":"<pre><code>User Query: \"machine learning tutorial\"\n              \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  MySQL breaks it into words:                    \u2502\n\u2502  \u2022 machine                                      \u2502\n\u2502  \u2022 learning                                     \u2502\n\u2502  \u2022 tutorial                                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n              \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Searches documents for these words             \u2502\n\u2502  Calculates relevance score for each            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n              \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  RESULTS (Sorted by Score):                     \u2502\n\u2502  \ud83d\udcc4 Doc 1: Score 2.5 \u2b50\u2b50\u2b50\u2b50\u2b50              \u2502\n\u2502  \ud83d\udcc4 Doc 2: Score 1.8 \u2b50\u2b50\u2b50\u2b50                 \u2502\n\u2502  \ud83d\udcc4 Doc 3: Score 0.9 \u2b50\u2b50                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#example_query","title":"Example Query:","text":"<pre><code>-- Basic natural language search\nSELECT \n    id, \n    title,\n    MATCH(title, body) AGAINST('mysql database') AS relevance\nFROM articles\nWHERE MATCH(title, body) AGAINST('mysql database')\nORDER BY relevance DESC;\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#step-by-step_example","title":"Step-by-Step Example:","text":"<p>Table: articles <pre><code>ID | Title                              | Body\n---+------------------------------------+----------------------------------\n1  | MySQL Database Tutorial            | Learn MySQL from scratch...\n2  | PostgreSQL vs MySQL                | Comparing databases...\n3  | Python Programming Guide           | Python basics for beginners...\n4  | MySQL Performance Tips             | Optimize your MySQL database...\n5  | Database Design Principles         | Good database design matters...\n</code></pre></p> <p>Query: <pre><code>SELECT title, \n       MATCH(title, body) AGAINST('mysql database') AS score\nFROM articles\nWHERE MATCH(title, body) AGAINST('mysql database')\nORDER BY score DESC;\n</code></pre></p> <p>Results: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Title                           \u2502 Score  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 MySQL Database Tutorial         \u2502  3.45  \u2502 \u2b50\u2b50\u2b50\u2b50\u2b50\n\u2502 MySQL Performance Tips          \u2502  2.10  \u2502 \u2b50\u2b50\u2b50\u2b50\n\u2502 PostgreSQL vs MySQL             \u2502  1.75  \u2502 \u2b50\u2b50\u2b50\n\u2502 Database Design Principles      \u2502  0.85  \u2502 \u2b50\u2b50\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n(Python Programming Guide not returned - no matches)\n</code></pre></p> <p>Why these scores?</p> <pre><code>Article 1: \"MySQL Database Tutorial\"\n\n  \u2022 \"mysql\" in title (high weight) \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n  \u2022 \"database\" in title (high weight) \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n  \u2022 Both terms in body \u2588\u2588\u2588\u2588\u2588\u2588\n  Total: 3.45 \u2b50\u2b50\u2b50\u2b50\u2b50\n\nArticle 4: \"MySQL Performance Tips\"\n\n  \u2022 \"mysql\" in title \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n  \u2022 \"database\" in body only \u2588\u2588\u2588\u2588\n  Total: 2.10 \u2b50\u2b50\u2b50\u2b50\n\nArticle 2: \"PostgreSQL vs MySQL\"\n\n  \u2022 \"mysql\" in title \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n  \u2022 \"database\" in body (implied) \u2588\u2588\n  Total: 1.75 \u2b50\u2b50\u2b50\n\nArticle 5: \"Database Design Principles\"\n\n  \u2022 \"database\" in title \u2588\u2588\u2588\u2588\n  \u2022 No \"mysql\" mention\n  Total: 0.85 \u2b50\u2b50\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#type_2_boolean_mode","title":"Type 2: BOOLEAN MODE","text":""},{"location":"implementations/fts-docs-articles-example/#what_it_does_1","title":"What It Does:","text":"<p>Gives you precise control with special operators!</p> <p>Key Features:</p> <ul> <li>\u2705 Use operators: <code>+</code> (must have), <code>-</code> (must not have), <code>*</code> (wildcard)</li> <li>\u2705 Use quotes <code>\"\"</code> for exact phrases</li> <li>\u2705 Combine multiple conditions</li> <li>\u2705 No automatic relevance ranking (you control it!)</li> </ul>"},{"location":"implementations/fts-docs-articles-example/#boolean_operators","title":"Boolean Operators:","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Operator \u2502 Meaning                                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502    +     \u2502 MUST be present                         \u2502\n\u2502    -     \u2502 MUST NOT be present                     \u2502\n\u2502   \"\"     \u2502 Exact phrase match                      \u2502\n\u2502    *     \u2502 Wildcard (tech* = technology, technical)\u2502\n\u2502    ()    \u2502 Group terms                             \u2502\n\u2502    &gt;     \u2502 Increase word importance                \u2502\n\u2502    &lt;     \u2502 Decrease word importance                \u2502\n\u2502    ~     \u2502 Negation (reduce rank if present)       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#visual_examples","title":"Visual Examples:","text":""},{"location":"implementations/fts-docs-articles-example/#example_1_must_include","title":"Example 1: Must Include (+)","text":"<pre><code>Query: \"+mysql +tutorial\"\n       (MUST have mysql AND MUST have tutorial)\n\nDocument Analysis:\n  \ud83d\udcc4 Doc 1: \"MySQL Tutorial for Beginners\"\n     mysql \u2713 | tutorial \u2713 \u2192 MATCH! \u2705\n\n  \ud83d\udcc4 Doc 2: \"MySQL Database Guide\"\n     mysql \u2713 | tutorial \u2717 \u2192 NO MATCH \u274c\n\n  \ud83d\udcc4 Doc 3: \"SQL Tutorial\"\n     mysql \u2717 | tutorial \u2713 \u2192 NO MATCH \u274c\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#example_2_must_exclude_-","title":"Example 2: Must Exclude (-)","text":"<pre><code>Query: \"+database -oracle\"\n       (MUST have database, MUST NOT have oracle)\n\nDocument Analysis:\n\n  \ud83d\udcc4 Doc 1: \"MySQL Database Tutorial\"\n     database \u2713 | oracle \u2717 \u2192 MATCH! \u2705\n\n  \ud83d\udcc4 Doc 2: \"Oracle Database Administration\"\n     database \u2713 | oracle \u2713 \u2192 NO MATCH \u274c\n\n  \ud83d\udcc4 Doc 3: \"Database Design Principles\"\n     database \u2713 | oracle \u2717 \u2192 MATCH! \u2705\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#example_3_exact_phrase","title":"Example 3: Exact Phrase (\"\")","text":"<pre><code>Query: '\"machine learning\"'\n       (Exact phrase, words must be adjacent)\n\nDocument Analysis:\n\n  \ud83d\udcc4 Doc 1: \"machine learning algorithms\"\n     \"machine learning\" \u2713 \u2192 MATCH! \u2705\n\n  \ud83d\udcc4 Doc 2: \"machine vision and learning\"\n     \"machine learning\" \u2717 (not adjacent) \u2192 NO MATCH \u274c\n\n  \ud83d\udcc4 Doc 3: \"learning about machine code\"\n     \"machine learning\" \u2717 (wrong order) \u2192 NO MATCH \u274c\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#example_4_wildcard","title":"Example 4: Wildcard (*)","text":"<pre><code>Query: \"develop*\"\n       (Matches: develop, developer, development, developing)\n\nDocument Analysis:\n\n  \ud83d\udcc4 Doc 1: \"web development tutorial\"\n     develop* \u2713 (development) \u2192 MATCH! \u2705\n\n  \ud83d\udcc4 Doc 2: \"hire a developer\"\n     develop* \u2713 (developer) \u2192 MATCH! \u2705\n\n  \ud83d\udcc4 Doc 3: \"developing software\"\n     develop* \u2713 (developing) \u2192 MATCH! \u2705\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#complex_boolean_query_example","title":"Complex Boolean Query Example:","text":"<pre><code>-- Find articles about MySQL or PostgreSQL tutorials,\n-- but NOT about Oracle, and must mention \"beginner\"\nSELECT title, body\nFROM articles\nWHERE MATCH(title, body) \nAGAINST('+beginner +(mysql postgresql) -oracle tutorial*' IN BOOLEAN MODE);\n</code></pre> <p>Visual breakdown: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Query Components:                               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  +beginner           MUST have \"beginner\"        \u2502\n\u2502  +(mysql postgresql) MUST have mysql OR postgres \u2502\n\u2502  -oracle             MUST NOT have \"oracle\"      \u2502\n\u2502  tutorial*           Optional, matches tutorial* \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 \u2500\u2500\u2518\n\nDocuments:\n\n  \ud83d\udcc4 \"MySQL Tutorial for Beginners\"\n     beginner \u2713 | mysql \u2713 | oracle \u2717 | tutorial \u2713\n     Result: MATCH! \u2705\u2b50\u2b50\u2b50\u2b50\u2b50\n\n  \ud83d\udcc4 \"PostgreSQL Beginner Guide\"\n     beginner \u2713 | postgresql \u2713 | oracle \u2717 | tutorial \u2717\n     Result: MATCH! \u2705\u2b50\u2b50\u2b50\u2b50\n\n  \ud83d\udcc4 \"Oracle Tutorial for Beginners\"\n     beginner \u2713 | oracle \u2713 (rejected!)\n     Result: NO MATCH \u274c\n\n  \ud83d\udcc4 \"MySQL Advanced Topics\"\n     mysql \u2713 | beginner \u2717 (missing!)\n     Result: NO MATCH \u274c\n</code></pre></p>"},{"location":"implementations/fts-docs-articles-example/#real-world_boolean_examples","title":"Real-World Boolean Examples:","text":"<pre><code>-- Example 1: Technical documentation search\nSELECT title, body\nFROM articles\nWHERE MATCH(title, body) \nAGAINST('+\"REST API\" +authentication -deprecated' IN BOOLEAN MODE);\n\n-- Example 2: Product search\nSELECT product_name, description\nFROM products\nWHERE MATCH(product_name, description) \nAGAINST('+laptop +\"16GB RAM\" -refurbished' IN BOOLEAN MODE);\n\n-- Example 3: Recipe search\nSELECT recipe_name, ingredients\nFROM recipes\nWHERE MATCH(recipe_name, ingredients) \nAGAINST('+vegetarian +protein -tofu -tempeh' IN BOOLEAN MODE);\n\n-- Example 4: Job search\nSELECT title, description\nFROM job_postings\nWHERE MATCH(title, description) \nAGAINST('+python +(django flask) +remote -junior' IN BOOLEAN MODE);\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#type_3_query_expansion_mode","title":"Type 3: QUERY EXPANSION MODE","text":""},{"location":"implementations/fts-docs-articles-example/#what_it_does_2","title":"What It Does:","text":"<p>Performs a two-pass search to find related content!</p> <p>Key Features:</p> <ul> <li>\u2705 First search finds most relevant documents</li> <li>\u2705 Extracts common terms from those results</li> <li>\u2705 Second search uses expanded term list</li> <li>\u2705 Finds documents you might have missed</li> <li>\u2705 Great for exploratory searches</li> </ul>"},{"location":"implementations/fts-docs-articles-example/#how_query_expansion_works","title":"How Query Expansion Works:","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  PASS 1: Initial Search                         \u2502\n\u2502  Query: \"database\"                              \u2502\n\u2502                                                 \u2502\n\u2502  Top Results Found:                             \u2502\n\u2502  \ud83d\udcc4 MySQL Database Administration               \u2502\n\u2502  \ud83d\udcc4 PostgreSQL Performance Tuning               \u2502\n\u2502  \ud83d\udcc4 Database Normalization Guide                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  ANALYSIS: Extract Related Terms                \u2502\n\u2502                                                 \u2502\n\u2502  Common words in top results:                   \u2502\n\u2502  \u2022 database (original)                          \u2502\n\u2502  \u2022 mysql                                        \u2502\n\u2502  \u2022 postgresql                                   \u2502\n\u2502  \u2022 sql                                          \u2502\n\u2502  \u2022 query                                        \u2502\n\u2502  \u2022 table                                        \u2502\n\u2502  \u2022 index                                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  PASS 2: Expanded Search                        \u2502\n\u2502  New Query: \"database mysql postgresql sql      \u2502\n\u2502              query table index\"                 \u2502\n\u2502                                                 \u2502\n\u2502  Additional Results Found:                      \u2502\n\u2502  \ud83d\udcc4 SQL Query Optimization                      \u2502\n\u2502  \ud83d\udcc4 Index Design Best Practices                 \u2502\n\u2502  \ud83d\udcc4 Table Partitioning Strategies               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  FINAL RESULTS: All Combined                    \u2502\n\u2502  (Original + Expanded)                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#example_query_1","title":"Example Query:","text":"<pre><code>-- Query expansion for broad search\nSELECT \n    title,\n    MATCH(title, body) AGAINST('mysql' WITH QUERY EXPANSION) AS relevance\nFROM articles\nWHERE MATCH(title, body) AGAINST('mysql' WITH QUERY EXPANSION)\nORDER BY relevance DESC\nLIMIT 20;\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#step-by-step_example_1","title":"Step-by-Step Example:","text":"<p>Original Query: \"authentication\"</p> <p>Pass 1 - Find Top Matches: <pre><code>Top 5 Documents Found:\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 1. User Authentication Methods        \u2502\n\u2502 2. OAuth 2.0 Implementation Guide     \u2502\n\u2502 3. JWT Token Authentication           \u2502\n\u2502 4. Session-Based Authentication       \u2502\n\u2502 5. Two-Factor Authentication Setup    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p> <p>Analysis - Extract Common Terms: <pre><code>Words frequently appearing with \"authentication\":\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 \u2022 authentication (original)             \u2502\n\u2502 \u2022 oauth                                 \u2502\n\u2502 \u2022 token                                 \u2502\n\u2502 \u2022 jwt                                   \u2502\n\u2502 \u2022 session                               \u2502\n\u2502 \u2022 login                                 \u2502\n\u2502 \u2022 password                              \u2502\n\u2502 \u2022 security                              \u2502\n\u2502 \u2022 user                                  \u2502\n\u2502 \u2022 2fa / two-factor                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p> <p>Pass 2 - Search with Expanded Terms: <pre><code>Additional Documents Found:\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 6. Login Security Best Practices      \u2502\n\u2502 7. Password Hashing Algorithms        \u2502\n\u2502 8. User Session Management            \u2502\n\u2502 9. Security Token Generation          \u2502\n\u2502 10. Bearer Token Implementation       \u2502\n\u2502 11. SSO Single Sign-On Guide          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p>"},{"location":"implementations/fts-docs-articles-example/#comparison_normal_vs_query_expansion","title":"Comparison: Normal vs Query Expansion","text":"<pre><code>-- WITHOUT Query Expansion\nSELECT title FROM articles\nWHERE MATCH(title, body) AGAINST('machine learning')\nORDER BY MATCH(title, body) AGAINST('machine learning') DESC\nLIMIT 10;\n\n-- Results (5 matches):\n--   \ud83d\udcc4 Machine Learning Basics\n--   \ud83d\udcc4 Introduction to Machine Learning\n--   \ud83d\udcc4 Machine Learning Algorithms\n--   \ud83d\udcc4 Machine Learning with Python\n--   \ud83d\udcc4 Supervised Machine Learning\n</code></pre> <pre><code>-- WITH Query Expansion\nSELECT title FROM articles\nWHERE MATCH(title, body) AGAINST('machine learning' WITH QUERY EXPANSION)\nORDER BY MATCH(title, body) AGAINST('machine learning' WITH QUERY EXPANSION) DESC\nLIMIT 10;\n\n-- Results (15+ matches):\n--   \ud83d\udcc4 Machine Learning Basics (original)\n--   \ud83d\udcc4 Introduction to Machine Learning (original)\n--   \ud83d\udcc4 Machine Learning Algorithms (original)\n--   \ud83d\udcc4 Machine Learning with Python (original)\n--   \ud83d\udcc4 Supervised Machine Learning (original)\n--   \ud83d\udcc4 Neural Networks Overview (expanded)\n--   \ud83d\udcc4 Deep Learning Fundamentals (expanded)\n--   \ud83d\udcc4 AI Model Training (expanded)\n--   \ud83d\udcc4 Data Science Workflows (expanded)\n--   \ud83d\udcc4 Classification Algorithms (expanded)\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#when_to_use_query_expansion","title":"When to Use Query Expansion:","text":"<pre><code>\u2705 GOOD USE CASES:\n\n  \u2022 Exploratory research\n  \u2022 When you're not sure of exact terms\n  \u2022 Finding related content\n  \u2022 Broad topic searches\n  \u2022 Documentation searches\n  \u2022 Learning about new topics\n\n\u274c AVOID WHEN:\n\n  \u2022 You need exact matches\n  \u2022 Precision is critical\n  \u2022 Results are already good\n  \u2022 Database is small (&lt;1000 rows)\n  \u2022 Performance is critical\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#visual_comparison_of_all_three_modes","title":"Visual Comparison of All Three Modes:","text":"<pre><code>Query: \"database optimization\"\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  NATURAL LANGUAGE MODE                         \u2502\n\u2502  Returns: Documents with both words,           \u2502\n\u2502           ranked by relevance                  \u2502\n\u2502                                                \u2502\n\u2502  Results:                                      \u2502\n\u2502  \ud83d\udcc4 Database Optimization Guide (Score: 3.2)  \u2502\n\u2502  \ud83d\udcc4 MySQL Database Performance (Score: 2.1)    \u2502\n\u2502  \ud83d\udcc4 Query Optimization Tips (Score: 1.8)       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  BOOLEAN MODE                                  \u2502\n\u2502  Query: +database +optimization                \u2502\n\u2502  Returns: Only documents with BOTH words       \u2502\n\u2502                                                \u2502\n\u2502  Results:                                      \u2502\n\u2502  \ud83d\udcc4 Database Optimization Guide                \u2502\n\u2502  \ud83d\udcc4 Advanced Database Optimization             \u2502\n\u2502  (Exact matches only, no scoring)              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  QUERY EXPANSION MODE                          \u2502\n\u2502  Pass 1: \"database optimization\"               \u2502\n\u2502  Pass 2: + performance, indexing, tuning, etc. \u2502\n\u2502  Returns: Original + related documents         \u2502\n\u2502                                                \u2502\n\u2502  Results:                                      \u2502\n\u2502  \ud83d\udcc4 Database Optimization Guide                \u2502\n\u2502  \ud83d\udcc4 MySQL Database Performance                 \u2502\n\u2502  \ud83d\udcc4 Query Optimization Tips                    \u2502\n\u2502  \ud83d\udcc4 Index Performance Tuning (expanded)        \u2502\n\u2502  \ud83d\udcc4 Database Query Speed (expanded)            \u2502\n\u2502  \ud83d\udcc4 Performance Monitoring (expanded)          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#combining_modes_with_other_sql_features","title":"Combining Modes with Other SQL Features","text":""},{"location":"implementations/fts-docs-articles-example/#example_1_pagination_with_full-text_search","title":"Example 1: Pagination with Full-Text Search","text":"<pre><code>-- Natural language with pagination\nSELECT \n    id,\n    title,\n    SUBSTRING(body, 1, 200) AS snippet,\n    MATCH(title, body) AGAINST('mysql tutorial') AS score\nFROM articles\nWHERE MATCH(title, body) AGAINST('mysql tutorial')\nORDER BY score DESC\nLIMIT 20 OFFSET 40;  -- Page 3 (20 results per page)\n</code></pre> <p>Visual:</p> <pre><code>Results 41-60 of 245 total matches\n\u250c\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 ID \u2502 Title                     \u2502 Score \u2502\n\u251c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 87 \u2502 MySQL Stored Procedures   \u2502  2.34 \u2502\n\u2502 92 \u2502 MySQL Triggers Tutorial   \u2502  2.31 \u2502\n\u2502 103\u2502 MySQL Views Explained     \u2502  2.28 \u2502\n\u2502 ... showing 20 results          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#example_2_filtering_by_date_and_category","title":"Example 2: Filtering by Date and Category","text":"<pre><code>-- Boolean search with additional filters\nSELECT \n    title,\n    author,\n    publish_date,\n    category\nFROM articles\nWHERE MATCH(title, body) \nAGAINST('+python +tutorial -beginner' IN BOOLEAN MODE)\nAND category IN ('programming', 'data-science')\nAND publish_date &gt; DATE_SUB(NOW(), INTERVAL 6 MONTH)\nORDER BY publish_date DESC;\n</code></pre> <p>Logic Flow:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  STEP 1: Full-Text Filter                      \u2502\n\u2502  \u2713 Must have \"python\"                           \u2502\n\u2502  \u2713 Must have \"tutorial\"                         \u2502\n\u2502  \u2717 Must NOT have \"beginner\"                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  STEP 2: Category Filter                       \u2502\n\u2502  \u2713 Category: \"programming\" OR \"data-science\"    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  STEP 3: Date Filter                           \u2502\n\u2502  \u2713 Published within last 6 months               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  STEP 4: Sort by Date                          \u2502\n\u2502  \u2193 Newest first                                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#example_3_highlighting_search_terms","title":"Example 3: Highlighting Search Terms","text":"<pre><code>-- Show context around search terms\nSELECT \n    id,\n    title,\n    -- Get snippet with search term highlighted\n    SUBSTRING_INDEX(\n        SUBSTRING_INDEX(body, 'authentication', 2),\n        'authentication', -1\n    ) AS context,\n    MATCH(title, body) AGAINST('authentication') AS relevance\nFROM articles\nWHERE MATCH(title, body) AGAINST('authentication')\nORDER BY relevance DESC;\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#real-world_use_cases","title":"Real-World Use Cases","text":""},{"location":"implementations/fts-docs-articles-example/#use_case_1_e-commerce_product_search","title":"Use Case 1: E-commerce Product Search","text":"<pre><code>-- Natural language for relevance-based product search\nSELECT \n    product_id,\n    product_name,\n    price,\n    MATCH(product_name, description) AGAINST('wireless headphones') AS relevance\nFROM products\nWHERE MATCH(product_name, description) AGAINST('wireless headphones')\nAND price BETWEEN 50 AND 200\nAND in_stock = 1\nORDER BY relevance DESC, price ASC\nLIMIT 50;\n</code></pre> <p>Why this works:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Natural Language Mode Benefits:                \u2502\n\u2502  \u2022 \"wireless headphones\" ranks products with    \u2502\n\u2502    both words higher                            \u2502\n\u2502  \u2022 Automatically handles variations:            \u2502\n\u2502    - \"Bluetooth headphones\" (related term)      \u2502\n\u2502    - \"wireless earbuds\" (similar product)       \u2502\n\u2502  \u2022 Price and stock filters narrow results       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#use_case_2_blog_post_search_with_filters","title":"Use Case 2: Blog Post Search with Filters","text":"<pre><code>-- Boolean mode for precise filtering\nSELECT title, author, publish_date\nFROM blog_posts\nWHERE MATCH(title, body) \nAGAINST('+javascript +tutorial -jquery -deprecated' IN BOOLEAN MODE)\nAND publish_date &gt; DATE_SUB(NOW(), INTERVAL 1 YEAR);\n</code></pre> <p>Logic Flow:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Requirements:                              \u2502\n\u2502  \u2713 Must have \"javascript\"                   \u2502\n\u2502  \u2713 Must have \"tutorial\"                     \u2502\n\u2502  \u2717 Must NOT have \"jquery\"                   \u2502\n\u2502  \u2717 Must NOT have \"deprecated\"               \u2502\n\u2502  \u2713 Published within last year               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nResults:\n  \u2705 \"Modern JavaScript Tutorial 2024\"\n  \u2705 \"JavaScript ES6 Tutorial Guide\"\n  \u274c \"jQuery Tutorial for Beginners\" (has jquery)\n  \u274c \"JavaScript Basics from 2020\" (too old)\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#use_case_3_documentation_search","title":"Use Case 3: Documentation Search","text":"<pre><code>-- Query expansion for comprehensive results\nSELECT \n    doc_title,\n    category,\n    url,\n    MATCH(doc_title, body) AGAINST('authentication') AS score\nFROM documentation\nWHERE MATCH(doc_title, body) \nAGAINST('authentication' WITH QUERY EXPANSION)\nORDER BY score DESC\nLIMIT 50;\n</code></pre> <p>Expansion Process:</p> <pre><code>Original: \"authentication\"\n    \u2193\nFound docs mention:\n  \u2022 authentication (original)\n  \u2022 login\n  \u2022 security\n  \u2022 password\n  \u2022 oauth\n  \u2022 jwt\n    \u2193\nSearches again with expanded terms\n    \u2193\nReturns comprehensive results:\n  \ud83d\udcc4 \"Authentication Methods\"\n  \ud83d\udcc4 \"OAuth 2.0 Implementation\"\n  \ud83d\udcc4 \"JWT Token Guide\"\n  \ud83d\udcc4 \"Login Security Best Practices\"\n  \ud83d\udcc4 \"Password Hashing\"\n  \ud83d\udcc4 \"Two-Factor Authentication\"\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#important_configuration","title":"Important Configuration","text":""},{"location":"implementations/fts-docs-articles-example/#minimum_word_length","title":"Minimum Word Length","text":"<pre><code>-- Check current minimum word length\nSHOW VARIABLES LIKE 'ft_min_word_len';\n\n-- Default: 4 (words must be 4+ characters)\n-- Example: \"car\" won't be indexed, \"cars\" will be\n</code></pre> <p>Visual: <pre><code>ft_min_word_len = 4\n\nIndexed:\n\n  \u2705 \"mysql\" (5 chars)\n  \u2705 \"database\" (8 chars)\n  \u2705 \"tutorial\" (8 chars)\n\nNOT Indexed:\n\n  \u274c \"sql\" (3 chars)\n  \u274c \"php\" (3 chars)\n  \u274c \"car\" (3 chars)\n</code></pre></p> <p>To change (requires restart):</p> <pre><code>-- In my.cnf or my.ini\n[mysqld]\nft_min_word_len = 3\ninnodb_ft_min_token_size = 3\n\n-- Then rebuild indexes\nALTER TABLE articles DROP INDEX ft_idx;\nALTER TABLE articles ADD FULLTEXT INDEX ft_idx (title, body);\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#stopwords_ignored_words","title":"Stopwords (Ignored Words)","text":"<p>MySQL ignores common words like: \"the\", \"is\", \"at\", \"which\", \"on\", etc.</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Default Stopwords (36 words):              \u2502\n\u2502  a, about, an, are, as, at, be, by, com,    \u2502\n\u2502  for, from, how, in, is, it, of, on, or,    \u2502\n\u2502  that, the, this, to, was, what, when,      \u2502\n\u2502  where, who, will, with, the, www           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Example:</p> <pre><code>Query: \"the best mysql tutorial\"\nActually searches: \"best mysql tutorial\"\n(Ignores \"the\")\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#50_threshold_rule","title":"50% Threshold Rule","text":"<p>Words appearing in 50%+ of rows are ignored in Natural Language Mode!</p> <pre><code>Table with 100 rows:\n\nWord \"database\":\n\n  Appears in 60 rows (60%)\n  Result: IGNORED \u274c\n\nWord \"mysql\":\n\n  Appears in 30 rows (30%)\n  Result: USED \u2705\n</code></pre> <p>Solution: Use Boolean Mode to bypass this rule!</p> <pre><code>-- Natural language (ignores common words)\nMATCH(body) AGAINST('database')\n\n-- Boolean mode (includes all words)\nMATCH(body) AGAINST('database' IN BOOLEAN MODE)\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#performance_tips","title":"Performance Tips","text":""},{"location":"implementations/fts-docs-articles-example/#1_index_only_what_you_search","title":"1. Index Only What You Search","text":"<pre><code>-- \u274c Bad: Index everything\nALTER TABLE articles \nADD FULLTEXT INDEX ft_all (title, body, author, tags, comments);\n\n-- \u2705 Good: Index only searched columns\nALTER TABLE articles \nADD FULLTEXT INDEX ft_search (title, body);\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#2_use_smaller_indexes_for_faster_searches","title":"2. Use Smaller Indexes for Faster Searches","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Index Size vs Speed:                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Title only:          10 MB  \u26a1\u26a1\u26a1\u26a1\u26a1    \u2502\n\u2502  Title + Body:        50 MB  \u26a1\u26a1\u26a1\u26a1      \u2502\n\u2502  Everything:         200 MB  \u26a1\u26a1           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#3_limit_results","title":"3. Limit Results","text":"<pre><code>-- Always use LIMIT for better performance\nSELECT title, body\nFROM articles\nWHERE MATCH(title, body) AGAINST('mysql')\nLIMIT 100;\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#4_use_covering_indexes","title":"4. Use Covering Indexes","text":"<pre><code>-- Include frequently selected columns in index\nALTER TABLE articles \nADD FULLTEXT INDEX ft_idx (title, body);\n\n-- Query only indexed columns (faster!)\nSELECT title FROM articles\nWHERE MATCH(title, body) AGAINST('mysql');\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#full-text_search_vs_like","title":"Full-Text Search vs LIKE","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Feature          \u2502  LIKE          \u2502  Full-Text   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Speed (1M rows)  \u2502  5-10 sec      \u2502  0.05 sec    \u2502\n\u2502  Relevance Score  \u2502  No            \u2502  Yes         \u2502\n\u2502  Word Boundary    \u2502  No            \u2502  Yes         \u2502\n\u2502  Boolean Ops      \u2502  No            \u2502  Yes         \u2502\n\u2502  Phrase Search    \u2502  Manual        \u2502  Built-in    \u2502\n\u2502  Wildcards        \u2502  % _           \u2502  *           \u2502\n\u2502  Index Support    \u2502  Limited       \u2502  Specialized \u2502\n\u2502  Memory Usage     \u2502  Low           \u2502  High        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Example comparison:</p> <pre><code>-- LIKE (slow, no relevance)\nSELECT * FROM articles \nWHERE body LIKE '%mysql%' \nAND body LIKE '%tutorial%';\nTime: 8 seconds \u274c\n\n-- Full-Text (fast, with relevance)\nSELECT *, MATCH(body) AGAINST('mysql tutorial') AS score\nFROM articles \nWHERE MATCH(body) AGAINST('mysql tutorial')\nORDER BY score DESC;\nTime: 0.05 seconds \u2705\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#quick_reference","title":"Quick Reference","text":""},{"location":"implementations/fts-docs-articles-example/#natural_language_mode","title":"Natural Language Mode:","text":"<pre><code>-- Simple relevance search\nMATCH(column) AGAINST('search terms')\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#boolean_mode","title":"Boolean Mode:","text":"<pre><code>-- Precise control\nMATCH(column) AGAINST('+must -not \"exact phrase\" wild*' IN BOOLEAN MODE)\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#query_expansion","title":"Query Expansion:","text":"<pre><code>-- Broad exploration\nMATCH(column) AGAINST('term' WITH QUERY EXPANSION)\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#common_patterns","title":"Common Patterns:","text":"<pre><code>-- Pattern 1: Basic search with score\nSELECT title, MATCH(title) AGAINST('mysql') AS relevance\nFROM articles\nWHERE MATCH(title) AGAINST('mysql')\nORDER BY relevance DESC;\n\n-- Pattern 2: Multi-column search\nSELECT * FROM articles\nWHERE MATCH(title, body) AGAINST('database tutorial');\n\n-- Pattern 3: Combined with other conditions\nSELECT * FROM articles\nWHERE MATCH(title, body) AGAINST('mysql')\nAND author = 'John Doe'\nAND publish_date &gt; '2024-01-01';\n\n-- Pattern 4: Boolean with required terms\nSELECT * FROM articles\nWHERE MATCH(title, body) \nAGAINST('+mysql +innodb -myisam' IN BOOLEAN MODE);\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#best_practices_summary","title":"Best Practices Summary","text":"<pre><code>\u2705 DO:\n  \u2022 Create full-text indexes on searched columns\n  \u2022 Use appropriate mode for your use case\n  \u2022 Limit results with LIMIT\n  \u2022 Use Boolean mode for precise searches\n  \u2022 Test different modes for best results\n\n\u274c DON'T:\n  \u2022 Index columns you don't search\n  \u2022 Use LIKE for full-text searches\n  \u2022 Forget about the 50% threshold\n  \u2022 Over-use query expansion\n  \u2022 Skip testing with real data\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#setup_guide","title":"Setup Guide","text":""},{"location":"implementations/fts-docs-articles-example/#creating_a_full-text_index","title":"Creating a Full-Text Index:","text":"<pre><code>-- Method 1: During table creation\nCREATE TABLE articles (\n    id INT PRIMARY KEY AUTO_INCREMENT,\n    title VARCHAR(255),\n    body TEXT,\n    author VARCHAR(100),\n    publish_date DATE,\n    FULLTEXT INDEX ft_idx (title, body)\n) ENGINE=InnoDB;\n\n-- Method 2: Add to existing table\nALTER TABLE articles \nADD FULLTEXT INDEX ft_idx (title, body);\n\n-- Method 3: Create separate index\nCREATE FULLTEXT INDEX ft_title_body \nON articles(title, body);\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#checking_existing_indexes","title":"Checking Existing Indexes:","text":"<pre><code>-- Show all indexes on a table\nSHOW INDEX FROM articles;\n\n-- Check if full-text index exists\nSHOW INDEX FROM articles \nWHERE Index_type = 'FULLTEXT';\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#dropping_a_full-text_index","title":"Dropping a Full-Text Index:","text":"<pre><code>-- Drop by name\nALTER TABLE articles DROP INDEX ft_idx;\n\n-- Or using DROP INDEX\nDROP INDEX ft_idx ON articles;\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#troubleshooting","title":"Troubleshooting","text":""},{"location":"implementations/fts-docs-articles-example/#problem_no_results_returned","title":"Problem: No Results Returned","text":"<pre><code>-- Check 1: Verify index exists\nSHOW INDEX FROM articles WHERE Index_type = 'FULLTEXT';\n\n-- Check 2: Test minimum word length\nSHOW VARIABLES LIKE 'ft_min_word_len';\n\n-- Check 3: Try Boolean mode (bypasses 50% rule)\nSELECT * FROM articles\nWHERE MATCH(body) AGAINST('searchterm' IN BOOLEAN MODE);\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#problem_slow_queries","title":"Problem: Slow Queries","text":"<pre><code>-- Check 1: Use EXPLAIN\nEXPLAIN SELECT * FROM articles\nWHERE MATCH(title, body) AGAINST('mysql');\n\n-- Check 2: Add LIMIT\nSELECT * FROM articles\nWHERE MATCH(title, body) AGAINST('mysql')\nLIMIT 100;\n\n-- Check 3: Query only indexed columns\nSELECT title FROM articles\nWHERE MATCH(title, body) AGAINST('mysql');\n</code></pre>"},{"location":"implementations/fts-docs-articles-example/#problem_unexpected_results","title":"Problem: Unexpected Results","text":"<pre><code>-- Check 1: View relevance scores\nSELECT title, \n       MATCH(title, body) AGAINST('mysql') AS score\nFROM articles\nWHERE MATCH(title, body) AGAINST('mysql')\nORDER BY score DESC;\n\n-- Check 2: Test with Boolean mode for exact control\nSELECT title FROM articles\nWHERE MATCH(title, body) \nAGAINST('+mysql' IN BOOLEAN MODE);\n</code></pre> <p>Remember: Full-Text Search is powerful but requires proper setup and understanding of its modes and limitations. Always test with your actual data to find the best configuration!</p> <p></p>"},{"location":"implementations/products/","title":"WP_PRODUCTS","text":"<p>This is based on the custom wp_products table with associated queries.</p> <pre><code>-- ============================================\n-- FULL TEXT SEARCH SETUP FOR wp_products\n-- ============================================\n\n-- Create the wp_products table with auto-increment ID and GUID product_id\nCREATE TABLE IF NOT EXISTS wp_products (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    product_id CHAR(36) NOT NULL UNIQUE,\n    product_name VARCHAR(255) NOT NULL,\n    product_short_description VARCHAR(500),\n    expanded_description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_product_id (product_id),\n    INDEX idx_product_name (product_name)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n</code></pre> <pre><code>-- 1. CREATE FULL TEXT INDEXES\n-- ============================================\n\n-- Index on product_name only\nALTER TABLE wp_products \nADD FULLTEXT INDEX ft_product_name (product_name);\n\n-- Index on product_short_description only\nALTER TABLE wp_products \nADD FULLTEXT INDEX ft_short_desc (product_short_description);\n\n-- Index on product_short_description only\nALTER TABLE wp_products \nADD FULLTEXT INDEX ft_expanded_description (expanded_description);\n-- Composite index on multiple columns (recommended for comprehensive search)\nALTER TABLE wp_products \nADD FULLTEXT INDEX ft_product_search (product_name, product_short_description, expanded_description);\n</code></pre> <pre><code>-- More ropbust way\n-- Stored procedure to check and create full-text indexes if they don't exist\nDELIMITER $$\n\nDROP PROCEDURE IF EXISTS ensure_wp_products_fulltext_indexes$$\n\nCREATE PROCEDURE ensure_wp_products_fulltext_indexes()\nBEGIN\n    -- ft_product_name\n    IF NOT EXISTS (\n        SELECT 1\n        FROM information_schema.statistics\n        WHERE table_schema = DATABASE()\n          AND table_name = 'wp_products'\n          AND index_name = 'ft_product_name'\n    ) THEN\n        ALTER TABLE wp_products\n        ADD FULLTEXT INDEX ft_product_name (product_name);\n    END IF;\n\n    -- ft_short_desc\n    IF NOT EXISTS (\n        SELECT 1\n        FROM information_schema.statistics\n        WHERE table_schema = DATABASE()\n          AND table_name = 'wp_products'\n          AND index_name = 'ft_short_desc'\n    ) THEN\n        ALTER TABLE wp_products\n        ADD FULLTEXT INDEX ft_short_desc (product_short_description);\n    END IF;\n\n    -- ft_expanded_description\n    IF NOT EXISTS (\n        SELECT 1\n        FROM information_schema.statistics\n        WHERE table_schema = DATABASE()\n          AND table_name = 'wp_products'\n          AND index_name = 'ft_expanded_description'\n    ) THEN\n        ALTER TABLE wp_products\n        ADD FULLTEXT INDEX ft_expanded_description (expanded_description);\n    END IF;\n\n    -- ft_product_search (composite)\n    IF NOT EXISTS (\n        SELECT 1\n        FROM information_schema.statistics\n        WHERE table_schema = DATABASE()\n          AND table_name = 'wp_products'\n          AND index_name = 'ft_product_search'\n    ) THEN\n        ALTER TABLE wp_products\n        ADD FULLTEXT INDEX ft_product_search (\n            product_name,\n            product_short_description,\n            expanded_description\n        );\n    END IF;\nEND$$\n\nDELIMITER ;\n\nCALL ensure_wp_products_fulltext_indexes();\n\n-- Optional: clean up\nDROP PROCEDURE ensure_wp_products_fulltext_indexes;\n</code></pre> <pre><code>-- ============================================\n-- 2. NATURAL LANGUAGE MODE QUERIES\n-- ============================================\n-- Default mode - searches for words in natural text\n-- Results ranked by relevance automaticall\n-- !! There must be an index on the  composite searched columns !!\n-- If you MATCH against multiple columns, ensure a FULLTEXT index exists on all those columns, not just individual columns.\n\n\n-- Basic natural language search\nSELECT id, product_name, product_short_description, expanded_description,\n       MATCH(product_name, product_short_description, expanded_description) \n       AGAINST ('wireless audio') AS relevance_score\nFROM wp_products\nWHERE MATCH(product_name, product_short_description, expanded_description) \n      AGAINST ('wireless audio')\nORDER BY relevance_score DESC;\n</code></pre> <pre><code>-- Search for camera products\nSELECT id, product_name, product_short_description,expanded_description,\n       MATCH(product_name, product_short_description, expanded_description) \n       AGAINST ('camera video recording') AS relevance_score\nFROM wp_products\nWHERE MATCH(product_name, product_short_description, expanded_description) \n      AGAINST ('camera video recording')\nORDER BY relevance_score DESC;\n</code></pre> <pre><code>-- Search for workspace/office products\nSELECT id, product_name, product_short_description,expanded_description,\n       MATCH(product_name, product_short_description, expanded_description) \n       AGAINST ('desk workspace office') AS relevance_score\nFROM wp_products\nWHERE MATCH(product_name, product_short_description, expanded_description) \n      AGAINST ('desk workspace office')\nORDER BY relevance_score DESC;\n</code></pre> <pre><code>-- Combine full-text with regular WHERE clause\nSELECT id, product_name, product_short_description,expanded_description,\n       MATCH(product_name, product_short_description, expanded_description) \n       AGAINST ('smart home') AS relevance_score\nFROM wp_products\nWHERE MATCH(product_name, product_short_description, expanded_description) \n      AGAINST ('smart home')\n  AND created_at &gt;= '2026-01-01'\nORDER BY relevance_score DESC;\n</code></pre> <pre><code>-- ============================================\n-- 3. BOOLEAN MODE QUERIES\n-- ============================================\n-- More control with operators: +required -excluded \"phrase\" *wildcard\n\n-- Search with required terms (+ operator)\n-- Must contain \"smart\" AND \"LED\"\n-- LED is in expanded_description for Smart Indoor Garden Kit\nSELECT id, product_name, product_short_description,expanded_description\nFROM wp_products\nWHERE MATCH(product_name, product_short_description, expanded_description) \n      AGAINST ('+smart +LED' IN BOOLEAN MODE);\n</code></pre> <pre><code>-- Search with excluded terms (- operator)\n-- Contains \"speaker\" and optionally \"bluetooth\"\nSELECT id, product_name, product_short_description,expanded_description\nFROM wp_products\nWHERE MATCH(product_name, product_short_description, expanded_description) \n      AGAINST ('+speaker bluetooth' IN BOOLEAN MODE);\n</code></pre> <pre><code>-- Phrase search with quotes\n-- Exact phrase \"noise cancelling\"\nSELECT product_name, product_short_description\nFROM wp_products\nWHERE MATCH(product_name, product_short_description, expanded_description) \n      AGAINST ('\"noise cancelling\"' IN BOOLEAN MODE);\n</code></pre> <pre><code>-- Wildcard search (* operator)\n-- Matches \"port\", \"portable\", \"portability\", etc.\nSELECT id, product_name, product_short_description,expanded_description\nFROM wp_products\nWHERE MATCH(product_name, product_short_description, expanded_description) \n      AGAINST ('port*' IN BOOLEAN MODE);\n</code></pre> <pre><code>-- Complex boolean query combining operators\n-- Must have \"camera\" OR \"speaker\", must have \"portable\", cannot have \"desk\"\nSELECT id, product_name, product_short_description,expanded_description\nFROM wp_products\nWHERE MATCH(product_name, product_short_description, expanded_description) \n      AGAINST ('+(camera speaker) +portable -desk' IN BOOLEAN MODE);\n</code></pre> <pre><code>-- Optional terms with relevance boosting (&gt; and &lt; operators)\n-- \"wireless\" is more important, \"audio\" is less important\nSELECT id, product_name, product_short_description,expanded_description\nFROM wp_products\nWHERE MATCH(product_name, product_short_description, expanded_description) \n      AGAINST ('&gt;wireless &lt;audio' IN BOOLEAN MODE);\n</code></pre> <pre><code>-- Search for products with specific features\n-- Must contain \"waterproof\" or \"water-resistant\" or \"splash-resistant\"\nSELECT id, product_name, product_short_description,expanded_description\nFROM wp_products\nWHERE MATCH(product_name, product_short_description, expanded_description) \n      AGAINST ('+water* +(proof resistant)' IN BOOLEAN MODE);\n</code></pre> <pre><code>-- ============================================\n-- 4. QUERY EXPANSION MODE\n-- ============================================\n-- Automatically expands search with related terms\n-- Two-pass search: first finds relevant docs, then adds related terms\n\n-- Basic query expansion\n-- Finds \"bluetooth\" and related terms like \"wireless\", \"connectivity\", etc.\nSELECT id, product_name, product_short_description,expanded_description,\n       MATCH(product_name, product_short_description, expanded_description) \n       AGAINST ('bluetooth' WITH QUERY EXPANSION) AS relevance_score\nFROM wp_products\nWHERE MATCH(product_name, product_short_description, expanded_description) \n      AGAINST ('bluetooth' WITH QUERY EXPANSION)\nORDER BY relevance_score DESC;\n</code></pre> <pre><code>-- Search for audio products with expansion\n-- Will find \"audio\", \"sound\", \"speaker\", \"music\", etc.\nSELECT id, product_name, product_short_description,expanded_description,\n       MATCH(product_name, product_short_description, expanded_description) \n       AGAINST ('audio' WITH QUERY EXPANSION) AS relevance_score\nFROM wp_products\nWHERE MATCH(product_name, product_short_description, expanded_description) \n      AGAINST ('audio' WITH QUERY EXPANSION)\nORDER BY relevance_score DESC;\n</code></pre> <pre><code>-- Search for fitness products with expansion\n-- Will find related terms to \"yoga\" like \"exercise\", \"fitness\", \"workout\"\nSELECT id, product_name, product_short_description,expanded_description,\n       MATCH(product_name, product_short_description, expanded_description) \n       AGAINST ('yoga' WITH QUERY EXPANSION) AS relevance_score\nFROM wp_products\nWHERE MATCH(product_name, product_short_description, expanded_description) \n      AGAINST ('yoga' WITH QUERY EXPANSION)\nORDER BY relevance_score DESC;\n</code></pre> <pre><code>-- ============================================\n-- 5. PRACTICAL WORDPRESS INTEGRATION EXAMPLES\n-- ============================================\n\n-- Search with pagination (for WordPress product listings)\nSELECT id, product_name, product_short_description,expanded_description,\n       MATCH(product_name, product_short_description, expanded_description) \n       AGAINST ('smart home' WITH QUERY EXPANSION) AS relevance_score\nFROM wp_products\nWHERE MATCH(product_name, product_short_description, expanded_description) \n      AGAINST ('smart home' WITH QUERY EXPANSION)\nORDER BY relevance_score DESC\nLIMIT 10 OFFSET 0;\n</code></pre> <pre><code>-- Search with minimum relevance threshold\nSELECT id, product_name, product_short_description,expanded_description,\n       MATCH(product_name, product_short_description, expanded_description) \n       AGAINST ('wireless portable') AS relevance_score\nFROM wp_products\nWHERE MATCH(product_name, product_short_description, expanded_description) \n      AGAINST ('wireless portable')\nHAVING relevance_score &gt; 0.5\nORDER BY relevance_score DESC;\n</code></pre> <pre><code>-- Combined search: Full-text + category filter (if you add categories)\n-- This example assumes you might join with a categories table\nSELECT id, product_name, product_short_description,expanded_description,\n       MATCH(p.product_name, p.product_short_description, p.expanded_description) \n       AGAINST ('+audio +wireless' IN BOOLEAN MODE) AS relevance_score\nFROM wp_products p\nWHERE MATCH(p.product_name, p.product_short_description, p.expanded_description) \n      AGAINST ('+audio +wireless' IN BOOLEAN MODE)\nORDER BY relevance_score DESC;\n</code></pre>"},{"location":"implementations/products/#performance_tips_notes","title":"PERFORMANCE TIPS &amp; NOTES","text":"<ol> <li>Minimum word length: By default, MySQL ignores words shorter than 4 characters</li> <li>Configure with ft_min_word_len in my.cnf</li> <li> <p>Rebuild indexes after changing: REPAIR TABLE wp_products QUICK;</p> </li> <li> <p>Stopwords: Common words (the, and, or, etc.) are ignored</p> </li> <li> <p>Configure custom stopword list if needed</p> </li> <li> <p>Boolean operators:</p> </li> <li>: Must contain this word</li> <li>: Must NOT contain this word <p>: Increase relevance    &lt; : Decrease relevance</p> </li> <li> <p>: Wildcard (must be at end of word)    \" : Exact phrase match    () : Grouping</p> </li> <li> <p>Query Expansion:</p> </li> <li>Useful for semantic search</li> <li>Can return more results than expected</li> <li>Slower than natural/boolean mode</li> <li> <p>Best for short queries (1-2 words)</p> </li> <li> <p>Performance:</p> </li> <li>Full-text indexes are fast for searching</li> <li>Can slow down INSERT/UPDATE operations</li> <li> <p>Consider using separate search table for high-volume sites</p> </li> <li> <p>WordPress Integration:</p> </li> <li>Use prepared statements in wpdb</li> <li>Example: $wpdb-&gt;prepare() with %s for search terms</li> <li>Sanitize user input before search queries</li> </ol> <pre><code>-- Check full-text index status\nSHOW INDEX FROM wp_products WHERE Index_type = 'FULLTEXT';\n\n-- Analyze table performance\nANALYZE TABLE wp_products;\n</code></pre> <p></p>"},{"location":"implementations/wp-fts-sql-examples/","title":"Examples","text":"<p>The columns specified in MATCH() must exactly match a FULLTEXT index definition.</p> <p>If you have <code>post_title</code>, <code>post_content</code> in your query ther emust be an FTS index built on these two columns and not two indexes of just one column.</p> <p>MySQL will select FTS indexes based on matching columns in query with index and has its own algorithms to determine which is best if there is more than one possibility, which is not recommended anyway.</p> <p>We\u2019ll cover:</p> <ol> <li>Natural Language Mode </li> <li>Boolean Mode </li> <li>Query Expansion Mode</li> </ol> <p>Each section now includes:</p> <ul> <li>A scenario  </li> <li>Multiple SQL examples  </li> <li>Explanation of why each query behaves the way it does  </li> <li>Notes on how WordPress developers might use it  </li> </ul>"},{"location":"implementations/wp-fts-sql-examples/#natural_language_mode","title":"Natural Language Mode","text":"<p>Natural language mode is MySQL\u2019s \u201cGoogle\u2011like\u201d search. It ranks results by relevance using TF\u2011IDF\u2011style scoring.</p>"},{"location":"implementations/wp-fts-sql-examples/#scenario_searching_blog_posts_about_wordpress_performance","title":"Scenario: Searching blog posts about WordPress performance","text":""},{"location":"implementations/wp-fts-sql-examples/#example_a_simple_multiword_search","title":"Example A \u2014 Simple multi\u2011word search","text":"<p>Create index for all the examples</p> <pre><code>CREATE FULLTEXT INDEX idx_posts_fulltext \nON wp_posts(post_title, post_content);\n</code></pre> <p>Quereis... </p> <pre><code>SELECT ID, post_title,\n       MATCH(post_title, post_content)\n       AGAINST ('wordpress performance caching' IN NATURAL LANGUAGE MODE) AS score\nFROM wp_posts\nWHERE MATCH(post_title, post_content)\n      AGAINST ('wordpress performance caching' IN NATURAL LANGUAGE MODE)\nORDER BY score DESC;\n</code></pre> <p>What happens: - MySQL breaks the query into words - Computes relevance based on frequency - Posts heavily discussing caching rank highest  </p>"},{"location":"implementations/wp-fts-sql-examples/#example_b_ranking_titles_higher_than_content","title":"Example B \u2014 Ranking titles higher than content","text":"<pre><code>SELECT ID, post_title,\n       (MATCH(post_title) AGAINST ('performance tuning') * 3 +\n        MATCH(post_content) AGAINST ('performance tuning')) AS relevance\nFROM wp_posts\nORDER BY relevance DESC;\n</code></pre> <p>Why this matters: - Titles often signal intent - Weighted scoring improves result quality  </p>"},{"location":"implementations/wp-fts-sql-examples/#example_c_searching_longform_content","title":"Example C \u2014 Searching long\u2011form content","text":"<pre><code>SELECT ID, post_title,\n       MATCH(post_content)\n       AGAINST ('object cache redis persistent' IN NATURAL LANGUAGE MODE) AS score\nFROM wp_posts\nORDER BY score DESC;\n</code></pre> <p>Use case: Great for documentation sites or long tutorials.</p>"},{"location":"implementations/wp-fts-sql-examples/#example_d_natural_language_with_stopwords","title":"Example D \u2014 Natural language with stopwords","text":"<pre><code>SELECT ID, post_title\nFROM wp_posts\nWHERE MATCH(post_title, post_content)\n      AGAINST ('how to speed up a wordpress site' IN NATURAL LANGUAGE MODE);\n</code></pre> <p>Note: Words like how, to, a are ignored unless you customize stopwords.</p>"},{"location":"implementations/wp-fts-sql-examples/#boolean_mode","title":"Boolean Mode","text":"<p>Boolean mode gives you precision control using operators.</p> <p>Perfect for admin dashboards, advanced search pages, or custom WP search endpoints.</p>"},{"location":"implementations/wp-fts-sql-examples/#scenario_searching_a_knowledge_base_with_strict_rules","title":"Scenario: Searching a knowledge base with strict rules","text":""},{"location":"implementations/wp-fts-sql-examples/#example_a_required_excluded_terms","title":"Example A \u2014 Required + excluded terms","text":"<pre><code>SELECT ID, post_title\nFROM wp_posts\nWHERE MATCH(post_title, post_content)\n      AGAINST ('+wordpress +cache -plugin' IN BOOLEAN MODE);\n</code></pre> <p>Meaning: - Must contain \u201cwordpress\u201d - Must contain \u201ccache\u201d - Must NOT contain \u201cplugin\u201d  </p> <p>Useful when users want to avoid plugin\u2011related results.</p>"},{"location":"implementations/wp-fts-sql-examples/#example_b_prefix_matching","title":"Example B \u2014 Prefix matching","text":"<pre><code>SELECT ID, post_title\nFROM wp_posts\nWHERE MATCH(post_title, post_content)\n      AGAINST ('optimiz*' IN BOOLEAN MODE);\n</code></pre> <p>Matches:</p> <ul> <li>optimize  </li> <li>optimized  </li> <li>optimization  </li> <li>optimizer  </li> </ul> <p>Great for autocomplete or \u201csearch as you type.\u201d</p>"},{"location":"implementations/wp-fts-sql-examples/#example_c_exact_phrase_search","title":"Example C \u2014 Exact phrase search","text":"<pre><code>SELECT ID, post_title\nFROM wp_posts\nWHERE MATCH(post_title, post_content)\n      AGAINST ('\"object cache\"' IN BOOLEAN MODE);\n</code></pre> <p>Use case: </p> <p>When users want precise technical terms.</p>"},{"location":"implementations/wp-fts-sql-examples/#example_d_combining_phrase_required_terms","title":"Example D \u2014 Combining phrase + required terms","text":"<pre><code>SELECT ID, post_title\nFROM wp_posts\nWHERE MATCH(post_title, post_content)\n      AGAINST ('+\"object cache\" +redis -memcached' IN BOOLEAN MODE);\n</code></pre> <p>Meaning: </p> <ul> <li>Must contain the exact phrase \u201cobject cache\u201d  </li> <li>Must contain \u201credis\u201d  </li> <li>Must NOT contain \u201cmemcached\u201d  </li> </ul>"},{"location":"implementations/wp-fts-sql-examples/#example_e_boosting_relevance_with_tilde","title":"Example E \u2014 Boosting relevance with tilde (~)","text":"<pre><code>SELECT ID, post_title\nFROM wp_posts\nWHERE MATCH(post_title, post_content)\n      AGAINST ('+cache ~redis' IN BOOLEAN MODE);\n</code></pre> <p>Interpretation: </p> <ul> <li>\u201ccache\u201d is required  </li> <li>\u201credis\u201d is optional but increases relevance  </li> </ul>"},{"location":"implementations/wp-fts-sql-examples/#query_expansion_mode","title":"Query Expansion Mode","text":"<p>Query expansion is MySQL\u2019s \u201cfind related topics\u201d mode.</p> <p>It performs:</p> <ol> <li>A first search  </li> <li>Identifies common co\u2011occurring terms  </li> <li>Expands the query  </li> <li>Runs a second search  </li> </ol>"},{"location":"implementations/wp-fts-sql-examples/#scenario_a_user_searches_for_seo_but_your_content_uses_synonyms_like_search_ranking_organic_traffic_etc","title":"Scenario: A user searches for \u201cSEO\u201d but your content uses synonyms like \u201csearch ranking,\u201d \u201corganic traffic,\u201d etc.","text":""},{"location":"implementations/wp-fts-sql-examples/#example_a_basic_query_expansion","title":"Example A \u2014 Basic query expansion","text":"<pre><code>SELECT ID, post_title,\n       MATCH(post_title, post_content)\n       AGAINST ('seo' WITH QUERY EXPANSION) AS score\nFROM wp_posts\nORDER BY score DESC;\n</code></pre> <p>What happens: </p> <p>MySQL may expand \u201cseo\u201d to include:</p> <ul> <li>search engine  </li> <li>ranking  </li> <li>organic  </li> <li>traffic  </li> <li>optimization  </li> </ul>"},{"location":"implementations/wp-fts-sql-examples/#example_b_multiword_query_expansion","title":"Example B \u2014 Multi\u2011word query expansion","text":"<pre><code>SELECT ID, post_title,\n       MATCH(post_title, post_content)\n       AGAINST ('wordpress security' WITH QUERY EXPANSION) AS score\nFROM wp_posts\nORDER BY score DESC;\n</code></pre> <p>Likely expansions: - malware - firewall - brute force - hardening - login protection  </p>"},{"location":"implementations/wp-fts-sql-examples/#example_c_discovering_related_topics","title":"Example C \u2014 Discovering related topics","text":"<pre><code>SELECT ID, post_title,\n       MATCH(post_title, post_content)\n       AGAINST ('speed' WITH QUERY EXPANSION) AS score\nFROM wp_posts;\n</code></pre> <p>Why this is useful: </p> <p>If your content uses synonyms like:</p> <ul> <li>performance  </li> <li>optimization  </li> <li>caching  </li> <li>TTFB  </li> </ul> <p>MySQL will find them.</p>"},{"location":"implementations/wp-fts-sql-examples/#example_d_query_expansion_on_product_reviews","title":"Example D \u2014 Query expansion on product reviews","text":"<pre><code>SELECT ID, post_title\nFROM wp_posts\nWHERE MATCH(post_title, post_content)\n      AGAINST ('hosting' WITH QUERY EXPANSION);\n</code></pre> <p>Possible expansions: </p> <ul> <li>uptime  </li> <li>bandwidth  </li> <li>shared hosting  </li> <li>VPS  </li> <li>CDN  </li> </ul> <p>This is powerful for e\u2011commerce or affiliate sites.</p>"},{"location":"implementations/wp-fts-sql-examples/#summary_table","title":"Summary Table","text":"Mode Best For Examples Natural Language General search, relevance ranking \u201cwordpress caching tutorial\u201d Boolean Mode Precision control <code>+cache -plugin \"object cache\"</code> Query Expansion Discovering related topics <code>AGAINST ('seo' WITH QUERY EXPANSION)</code>"},{"location":"mysql-docs/01-intro/","title":"14.9 Full-Text Search Functions","text":"<p>Rewritten and formatted by AI</p>"},{"location":"mysql-docs/01-intro/#table_of_contents","title":"Table of Contents","text":"<ol> <li>Introduction</li> <li>What is Full-Text Search?</li> <li>Basic Syntax</li> <li>Requirements and Setup</li> <li>The Three Search Modes</li> <li>Practical Examples</li> <li>Performance Tips</li> <li>Important Restrictions</li> </ol>"},{"location":"mysql-docs/01-intro/#introduction","title":"Introduction","text":"<p>Full-text search is a powerful MySQL feature that allows you to search through large amounts of text data efficiently. Unlike simple <code>LIKE</code> queries that scan every row, full-text search uses specialized indexes to find relevant matches quickly\u2014even in tables with millions of rows.</p> <p>When should you use full-text search? - Searching blog posts, articles, or product descriptions - Building search functionality for websites - Finding relevant documents in large databases - Implementing features like autocomplete or \"related content\"</p>"},{"location":"mysql-docs/01-intro/#what_is_full-text_search","title":"What is Full-Text Search?","text":"<p>Think of full-text search like the search feature in your word processor or web browser. Instead of looking for exact character-by-character matches, it understands words and can find relevant results even when the exact phrase doesn't appear.</p>"},{"location":"mysql-docs/01-intro/#traditional_search_vs_full-text_search","title":"Traditional Search vs Full-Text Search","text":"<pre><code>Traditional LIKE Search:\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 WHERE description LIKE '%database%'   \u2502\n\u2502                                       \u2502\n\u2502 \u274c Scans every single row             \u2502\n\u2502 \u274c Slow on large tables              \u2502\n\u2502 \u274c No relevance ranking              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nFull-Text Search:\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 WHERE MATCH(description)                 \u2502\n\u2502       AGAINST('database')                \u2502\n\u2502                                          \u2502\n\u2502 \u2713 Uses specialized index                 \u2502\n\u2502 \u2713 Fast even on millions of rows          \u2502\n\u2502 \u2713 Returns results ranked by relevance    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"mysql-docs/01-intro/#basic_syntax","title":"Basic Syntax","text":"<p>The core syntax for full-text search uses two functions working together:</p> <pre><code>MATCH(column1, column2, ...) AGAINST('search terms' [mode])\n</code></pre>"},{"location":"mysql-docs/01-intro/#breaking_down_the_syntax","title":"Breaking Down the Syntax","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Full Query Structure                                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                                \u2502\n\u2502  SELECT * FROM articles                                                        \u2502\n\u2502  WHERE MATCH(title, content)                                                   \u2502\n\u2502        AGAINST('machine learning' IN NATURAL LANGUAGE MODE)                    \u2502\n\u2502         \u2502      \u2502                \u2502                \u2502                             \u2502\n\u2502         \u2502      \u2502                \u2502                \u2514\u2500 Search mode (optional)\n\u2502         \u2502      \u2502                \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Search terms\n\u2502         \u2502      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Columns to search\n\u2502         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 MATCH function\n\u2502                                                                                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Important components:</p> <ul> <li>MATCH(): Specifies which columns to search (must match your FULLTEXT index)</li> <li>AGAINST(): Contains your search terms and optional search mode</li> <li>Search terms: The text you're looking for (must be a constant string, not a column name)</li> <li>Mode: Determines how the search operates (we'll cover three modes below)</li> </ul>"},{"location":"mysql-docs/01-intro/#requirements_and_setup","title":"Requirements and Setup","text":"<p>Before you can use full-text search, you need to create a special type of index called a FULLTEXT index.</p>"},{"location":"mysql-docs/01-intro/#supported_storage_engines","title":"Supported Storage Engines","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         InnoDB (Recommended)            \u2502\n\u2502  \u2022 Modern and actively developed        \u2502\n\u2502  \u2022 Supports transactions                \u2502\n\u2502  \u2022 Better for most use cases            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              MyISAM                     \u2502\n\u2502  \u2022 Older storage engine                 \u2502\n\u2502  \u2022 No transaction support               \u2502\n\u2502  \u2022 Still supported but not recommended  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"mysql-docs/01-intro/#supported_column_types","title":"Supported Column Types","text":"<p>Full-text indexes work only with text columns:</p> <ul> <li>CHAR - Fixed-length strings</li> <li>VARCHAR - Variable-length strings (most common)</li> <li>TEXT - Large text fields</li> </ul>"},{"location":"mysql-docs/01-intro/#creating_a_fulltext_index","title":"Creating a FULLTEXT Index","text":"<p>Option 1: During table creation</p> <pre><code>CREATE TABLE articles (\n    id INT PRIMARY KEY AUTO_INCREMENT,\n    title VARCHAR(255),\n    content TEXT,\n    author VARCHAR(100),\n    FULLTEXT INDEX ft_title_content (title, content)\n);\n</code></pre> <p>Option 2: Add to existing table</p> <pre><code>-- Using ALTER TABLE\nALTER TABLE articles \nADD FULLTEXT INDEX ft_title_content (title, content);\n\n-- Or using CREATE INDEX\nCREATE FULLTEXT INDEX ft_title_content \nON articles(title, content);\n</code></pre>"},{"location":"mysql-docs/01-intro/#performance_tip_loading_data","title":"Performance Tip: Loading Data","text":"<pre><code>Best Practice for Large Datasets:\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                                                 \u2502\n\u2502  1. Create table WITHOUT FULLTEXT index         \u2502\n\u2502  2. Load all your data (INSERT statements)      \u2502\n\u2502  3. THEN create the FULLTEXT index              \u2502\n\u2502                                                 \u2502\n\u2502  Why? Creating the index after data is loaded   \u2502\n\u2502  is MUCH faster than inserting into an indexed  \u2502\n\u2502  table row by row.                              \u2502\n\u2502                                                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"mysql-docs/01-intro/#the_three_search_modes","title":"The Three Search Modes","text":"<p>MySQL offers three different ways to perform full-text searches, each with its own strengths.</p>"},{"location":"mysql-docs/01-intro/#overview_comparison","title":"Overview Comparison","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Search Mode Comparison                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                  \u2502                                             \u2502\n\u2502  Natural         \u2502  Simple, human-friendly searching           \u2502\n\u2502  Language        \u2502  Best for: Basic search boxes               \u2502\n\u2502  (Default)       \u2502  Example: \"machine learning\"                \u2502\n\u2502                  \u2502                                             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                  \u2502                                             \u2502\n\u2502  Boolean         \u2502  Advanced control with operators            \u2502\n\u2502  Mode            \u2502  Best for: Power users, complex queries     \u2502\n\u2502                  \u2502  Example: \"+machine +learning -neural\"      \u2502\n\u2502                  \u2502                                             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                  \u2502                                             \u2502\n\u2502  Query           \u2502  Finds related content automatically        \u2502\n\u2502  Expansion       \u2502  Best for: \"More like this\" features        \u2502\n\u2502                  \u2502  Example: Expands \"SQL\" to include \"MySQL\"  \u2502\n\u2502                  \u2502                                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"mysql-docs/01-intro/#mode_1_natural_language_search_default","title":"Mode 1: Natural Language Search (Default)","text":"<p>This is the simplest and most common mode. It treats your search string as plain text, just like you'd type into Google.</p> <p>How it works: <pre><code>User searches for: \"machine learning\"\n                    \u2193\nMySQL finds documents containing these words\n                    \u2193\nResults ranked by relevance\n                    \u2193\nMost relevant documents appear first\n</code></pre></p> <p>Syntax: <pre><code>-- These two queries are identical:\nSELECT * FROM articles \nWHERE MATCH(title, content) AGAINST('machine learning');\n\nSELECT * FROM articles \nWHERE MATCH(title, content) AGAINST('machine learning' IN NATURAL LANGUAGE MODE);\n</code></pre></p> <p>Features:</p> <ul> <li>Double quotes create phrase searches: <code>\"machine learning\"</code> finds that exact phrase</li> <li>Stopwords (common words like \"the\", \"a\", \"is\") are automatically ignored</li> <li>Results are automatically ranked by relevance</li> <li>Simple and user-friendly</li> </ul> <p>Example Use Case:</p> <pre><code>-- Find articles about Python programming\nSELECT title, content, \n       MATCH(title, content) AGAINST('Python programming') AS relevance\nFROM articles\nWHERE MATCH(title, content) AGAINST('Python programming')\nORDER BY relevance DESC\nLIMIT 10;\n</code></pre>"},{"location":"mysql-docs/01-intro/#mode_2_boolean_search","title":"Mode 2: Boolean Search","text":"<p>Boolean mode gives you precise control using special operators. It's like using advanced search filters.</p> <p>Syntax:</p> <pre><code>SELECT * FROM articles \nWHERE MATCH(title, content) \nAGAINST('+machine +learning -neural' IN BOOLEAN MODE);\n</code></pre> <p>Boolean Operators:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   Boolean Search Operators                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Operator \u2502 Meaning                         \u2502 Example         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502    +     \u2502 Word MUST be present            \u2502 +machine        \u2502\n\u2502    -     \u2502 Word must NOT be present        \u2502 -neural         \u2502\n\u2502    &gt;     \u2502 Increase word importance        \u2502 &gt;learning       \u2502\n\u2502    &lt;     \u2502 Decrease word importance        \u2502 &lt;basic          \u2502\n\u2502    *     \u2502 Wildcard (word starts with)     \u2502 data*           \u2502\n\u2502   \"...\"  \u2502 Exact phrase                    \u2502 \"deep learning\" \u2502\n\u2502    ()    \u2502 Group words together            \u2502 +(machine AI)   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Practical Examples:</p> <pre><code>-- Must contain \"machine\" AND \"learning\", but NOT \"neural\"\nAGAINST('+machine +learning -neural' IN BOOLEAN MODE)\n\n-- Must contain \"Python\" and at least one of \"Django\" or \"Flask\"\nAGAINST('+Python +(Django Flask)' IN BOOLEAN MODE)\n\n-- Find anything starting with \"data\" (database, dataset, etc.)\nAGAINST('data*' IN BOOLEAN MODE)\n\n-- Exact phrase with importance boost\nAGAINST('\"machine learning\" &gt;Python' IN BOOLEAN MODE)\n</code></pre> <p>When to use Boolean mode:</p> <ul> <li>Advanced search interfaces</li> <li>When users need precise control</li> <li>Filtering out unwanted content</li> <li>Combining multiple search criteria</li> </ul>"},{"location":"mysql-docs/01-intro/#mode_3_query_expansion","title":"Mode 3: Query Expansion","text":"<p>Query expansion is like having MySQL help you find related content. It performs the search twice, using results from the first search to improve the second.</p> <p>How it works:</p> <pre><code>Step 1: Search for \"SQL\"\n        \u2193\n        Finds top matches\n        \u2193\nStep 2: Extracts common words from those matches\n        Example: \"MySQL\", \"database\", \"query\", \"SELECT\"\n        \u2193\nStep 3: Searches again with expanded terms\n        \u2193\n        Returns results from second search\n</code></pre> <p>Syntax:</p> <pre><code>-- Both of these work:\nSELECT * FROM articles \nWHERE MATCH(title, content) \nAGAINST('SQL' WITH QUERY EXPANSION);\n\nSELECT * FROM articles \nWHERE MATCH(title, content) \nAGAINST('SQL' IN NATURAL LANGUAGE MODE WITH QUERY EXPANSION);\n</code></pre> <p>Visual Example:</p> <pre><code>Original Search: \"database\"\n        \u2193\nFirst Pass Results:\n\u251c\u2500 \"Understanding MySQL Databases\"\n\u251c\u2500 \"PostgreSQL vs MySQL Comparison\"  \n\u2514\u2500 \"SQL Query Optimization\"\n        \u2193\nExpansion Terms Extracted:\n- MySQL\n- PostgreSQL\n- SQL\n- query\n- optimization\n        \u2193\nSecond Pass (Final Results):\n\u251c\u2500 Original results PLUS\n\u251c\u2500 \"Advanced SQL Techniques\"\n\u251c\u2500 \"MySQL Performance Tuning\"\n\u2514\u2500 \"Database Design Principles\"\n</code></pre> <p>When to use Query Expansion: - \"More like this\" features - When users might not know the best search terms - Finding related content - Exploratory searches</p> <p>\u26a0\ufe0f Warning: Query expansion can sometimes return less relevant results if your initial search matches poor-quality documents. Use with caution.</p>"},{"location":"mysql-docs/01-intro/#practical_examples","title":"Practical Examples","text":"<p>Let's see full-text search in action with a realistic scenario.</p>"},{"location":"mysql-docs/01-intro/#setup_creating_a_blog_database","title":"Setup: Creating a Blog Database","text":"<pre><code>-- Create a blog articles table\nCREATE TABLE blog_posts (\n    id INT PRIMARY KEY AUTO_INCREMENT,\n    title VARCHAR(255),\n    content TEXT,\n    author VARCHAR(100),\n    published_date DATE,\n    FULLTEXT INDEX ft_search (title, content)\n) ENGINE=InnoDB;\n\n-- Insert sample data\nINSERT INTO blog_posts (title, content, author, published_date) VALUES\n('Introduction to Machine Learning', \n 'Machine learning is a subset of artificial intelligence...', \n 'John Doe', '2024-01-15'),\n('Python Data Science Tutorial', \n 'Learn how to use Python for data analysis and visualization...', \n 'Jane Smith', '2024-02-20'),\n('Deep Neural Networks Explained', \n 'Neural networks are inspired by biological neurons...', \n 'Bob Johnson', '2024-03-10');\n</code></pre>"},{"location":"mysql-docs/01-intro/#example_1_simple_search","title":"Example 1: Simple Search","text":"<pre><code>-- Find all posts about \"machine learning\"\nSELECT title, author,\n       MATCH(title, content) AGAINST('machine learning') AS relevance_score\nFROM blog_posts\nWHERE MATCH(title, content) AGAINST('machine learning')\nORDER BY relevance_score DESC;\n</code></pre> <p>Output: <pre><code>title                              | author    | relevance_score\n-----------------------------------+-----------+----------------\nIntroduction to Machine Learning   | John Doe  | 1.847\nDeep Neural Networks Explained     | Bob J.    | 0.234\n</code></pre></p>"},{"location":"mysql-docs/01-intro/#example_2_boolean_search_with_multiple_criteria","title":"Example 2: Boolean Search with Multiple Criteria","text":"<pre><code>-- Find posts about Python but NOT about neural networks\nSELECT title, author\nFROM blog_posts\nWHERE MATCH(title, content) \nAGAINST('+Python -neural' IN BOOLEAN MODE);\n</code></pre>"},{"location":"mysql-docs/01-intro/#example_3_using_in_select_clause_for_ranking","title":"Example 3: Using in SELECT Clause for Ranking","text":"<pre><code>-- Get relevance scores without filtering\nSELECT title,\n       MATCH(title, content) AGAINST('Python data') AS score\nFROM blog_posts\nORDER BY score DESC\nLIMIT 5;\n</code></pre>"},{"location":"mysql-docs/01-intro/#example_4_combining_with_other_where_conditions","title":"Example 4: Combining with Other WHERE Conditions","text":"<pre><code>-- Recent posts about Python, ranked by relevance\nSELECT title, published_date,\n       MATCH(title, content) AGAINST('Python') AS relevance\nFROM blog_posts\nWHERE MATCH(title, content) AGAINST('Python')\n  AND published_date &gt;= '2024-01-01'\nORDER BY relevance DESC;\n</code></pre>"},{"location":"mysql-docs/01-intro/#performance_tips","title":"Performance Tips","text":""},{"location":"mysql-docs/01-intro/#tip_1_index_creation_timing","title":"Tip 1: Index Creation Timing","text":"<pre><code>\u274c SLOW: Insert \u2192 Insert \u2192 Insert \u2192 Create Index\n\u2713 FAST: Create Index \u2192 Insert \u2192 Insert \u2192 Insert (small tables)\n\u2713 FASTEST: Insert ALL \u2192 Then Create Index (large tables)\n</code></pre> <p>For large datasets (thousands of rows or more), load your data first, then create the FULLTEXT index.</p>"},{"location":"mysql-docs/01-intro/#tip_2_column_selection","title":"Tip 2: Column Selection","text":"<pre><code>-- \u274c Less efficient: Searching columns you don't need\nMATCH(title, content, tags, author) AGAINST('search term')\n\n-- \u2713 More efficient: Only search relevant columns\nMATCH(title, content) AGAINST('search term')\n</code></pre> <p>Only include columns in your FULLTEXT index that users will actually search.</p>"},{"location":"mysql-docs/01-intro/#tip_3_relevance_scoring","title":"Tip 3: Relevance Scoring","text":"<pre><code>-- Use the relevance score to sort results\nSELECT title,\n       MATCH(title, content) AGAINST('keyword') AS relevance\nFROM articles\nWHERE MATCH(title, content) AGAINST('keyword')\nORDER BY relevance DESC\nLIMIT 20;\n</code></pre> <p>MySQL calculates relevance scores automatically\u2014use them to show the best matches first!</p>"},{"location":"mysql-docs/01-intro/#important_restrictions","title":"Important Restrictions","text":""},{"location":"mysql-docs/01-intro/#search_string_must_be_constant","title":"Search String Must Be Constant","text":"<pre><code>-- \u2713 CORRECT: String literal\nWHERE MATCH(title) AGAINST('machine learning')\n\n-- \u274c WRONG: Cannot use column values\nWHERE MATCH(title) AGAINST(other_column)\n\n-- \u274c WRONG: Cannot use variables in this way\nWHERE MATCH(title) AGAINST(CONCAT(var1, ' ', var2))\n</code></pre> <p>The search string must be a constant value, not computed from table data.</p>"},{"location":"mysql-docs/01-intro/#limitations_with_group_by_and_rollup","title":"Limitations with GROUP BY and ROLLUP","text":"<p>MySQL has specific restrictions when combining MATCH() with <code>GROUP BY ... WITH ROLLUP</code>:</p> <pre><code>-- \u274c NOT ALLOWED: MATCH() in SELECT with ROLLUP\nSELECT MATCH(title) AGAINST('text') FROM articles \nGROUP BY category WITH ROLLUP;\n\n-- \u274c NOT ALLOWED: MATCH() in HAVING with ROLLUP\nSELECT category FROM articles \nGROUP BY category WITH ROLLUP \nHAVING MATCH(title) AGAINST('text');\n\n-- \u274c NOT ALLOWED: MATCH() in ORDER BY with ROLLUP\nSELECT category FROM articles \nGROUP BY category WITH ROLLUP \nORDER BY MATCH(title) AGAINST('text');\n\n-- \u2713 ALLOWED: MATCH() in WHERE clause with ROLLUP\nSELECT category FROM articles \nWHERE MATCH(title) AGAINST('text')\nGROUP BY category WITH ROLLUP;\n</code></pre> <p>Simple rule: With ROLLUP, only use MATCH() in the WHERE clause.</p>"},{"location":"mysql-docs/01-intro/#storage_engine_requirements","title":"Storage Engine Requirements","text":"<ul> <li>Must use InnoDB or MyISAM - Other storage engines don't support FULLTEXT indexes</li> <li>Column types: Only CHAR, VARCHAR, and TEXT columns can be indexed</li> </ul>"},{"location":"mysql-docs/01-intro/#stopwords","title":"Stopwords","text":"<p>Common words (called \"stopwords\") are ignored in searches:</p> <ul> <li>Examples: \"the\", \"a\", \"an\", \"is\", \"at\", \"which\"</li> <li>These are filtered out automatically to improve performance</li> <li>You can customize the stopword list if needed</li> </ul>"},{"location":"mysql-docs/01-intro/#international_language_support","title":"International Language Support","text":"<p>MySQL provides specialized parsers for different languages:</p>"},{"location":"mysql-docs/01-intro/#ngram_parser_chinese_japanese_korean","title":"ngram Parser (Chinese, Japanese, Korean)","text":"<pre><code>-- Create index with ngram parser\nCREATE FULLTEXT INDEX ft_content ON articles(content) \nWITH PARSER ngram;\n</code></pre> <p>Useful for CJK languages that don't use spaces between words.</p>"},{"location":"mysql-docs/01-intro/#mecab_parser_japanese","title":"MeCab Parser (Japanese)","text":"<pre><code>-- Create index with MeCab parser\nCREATE FULLTEXT INDEX ft_content ON articles(content) \nWITH PARSER mecab;\n</code></pre> <p>Provides more accurate parsing for Japanese text.</p>"},{"location":"mysql-docs/01-intro/#debugging_and_utilities","title":"Debugging and Utilities","text":""},{"location":"mysql-docs/01-intro/#myisam_ftdump_utility","title":"myisam_ftdump Utility","text":"<p>For MyISAM tables, you can use the <code>myisam_ftdump</code> utility to inspect full-text indexes:</p> <pre><code>myisam_ftdump table_name index_number\n</code></pre> <p>This is helpful for debugging and understanding how your full-text index stores data.</p>"},{"location":"mysql-docs/01-intro/#summary_quick_reference_card","title":"Summary: Quick Reference Card","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              MySQL Full-Text Search Cheat Sheet              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                              \u2502\n\u2502 CREATE INDEX:                                                \u2502\n\u2502   CREATE FULLTEXT INDEX name ON table(col1, col2);           \u2502\n\u2502                                                              \u2502\n\u2502 NATURAL LANGUAGE (default):                                  \u2502\n\u2502   WHERE MATCH(cols) AGAINST('search terms')                  \u2502\n\u2502                                                              \u2502\n\u2502 BOOLEAN MODE:                                                \u2502\n\u2502   WHERE MATCH(cols) AGAINST('+word -exclude' IN BOOLEAN MODE)\u2502\n\u2502                                                              \u2502\n\u2502 QUERY EXPANSION:                                             \u2502\n\u2502   WHERE MATCH(cols) AGAINST('term' WITH QUERY EXPANSION)     \u2502\n\u2502                                                              \u2502\n\u2502 OPERATORS (Boolean mode):                                    \u2502\n\u2502   +   must have        -   must not have                     \u2502\n\u2502   &gt;   boost            &lt;   reduce importance                 \u2502\n\u2502   *   wildcard         \"\"  exact phrase                      \u2502\n\u2502                                                              \u2502\n\u2502 REQUIREMENTS:                                                \u2502\n\u2502   \u2022 InnoDB or MyISAM engine                                  \u2502\n\u2502   \u2022 CHAR, VARCHAR, or TEXT columns only                      \u2502\n\u2502   \u2022 Search string must be constant (not a column)            \u2502\n\u2502                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"mysql-docs/02-natural-search/","title":"14.9.1 Natural Language Full-Text Searches","text":"<p>By default or with the IN NATURAL LANGUAGE MODE modifier, the MATCH() function performs a natural language search for a string against a text collection. A collection is a set of one or more columns included in a FULLTEXT index. The search string is given as the argument to AGAINST(). For each row in the table, MATCH() returns a relevance value; that is, a similarity measure between the search string and the text in that row in the columns named in the MATCH() list.</p> <pre><code>CREATE TABLE articles (\n id INT UNSIGNED AUTO_INCREMENT NOT NULL PRIMARY KEY,\n title VARCHAR(200),\n body TEXT,\n FULLTEXT (title,body)\n) ENGINE=InnoDB;\n</code></pre> <p>Query OK, 0 rows affected (0.08 sec)</p> <pre><code>INSERT INTO articles (title,body) VALUES\n ('MySQL Tutorial','DBMS stands for DataBase ...'),\n ('How To Use MySQL Well','After you went through a ...'),\n ('Optimizing MySQL','In this tutorial, we show ...'),\n ('1001 MySQL Tricks','1. Never run mysqld as root. 2. ...'),\n ('MySQL vs. YourSQL','In the following database comparison ...'),\n ('MySQL Security','When configured properly, MySQL ...');\n</code></pre> <p>Query OK, 6 rows affected (0.01 sec)</p> <p>Records: 6  Duplicates: 0  Warnings: 0</p> <pre><code>SELECT * FROM articles\nWHERE MATCH (title,body)\nAGAINST ('database' IN NATURAL LANGUAGE MODE);\n</code></pre> <pre><code>+----+-------------------+------------------------------------------+\n| id | title             | body                                     |\n+----+-------------------+------------------------------------------+\n|  1 | MySQL Tutorial    | DBMS stands for DataBase ...             |\n|  5 | MySQL vs. YourSQL | In the following database comparison ... |\n+----+-------------------+------------------------------------------+\n2 rows in set (0.00 sec)\n</code></pre> <p>By default, the search is performed in case-insensitive fashion. To perform a case-sensitive full-text search, use a case-sensitive or binary collation for the indexed columns. For example, a column that uses the utf8mb4 character set of can be assigned a collation of utf8mb4_0900_as_cs or utf8mb4_bin to make it case-sensitive for full-text searches.</p> <p>When MATCH() is used in a WHERE clause, as in the example shown earlier, the rows returned are automatically sorted with the highest relevance first as long as the following conditions are met:</p> <p>There must be no explicit ORDER BY clause.</p> <p>The search must be performed using a full-text index scan rather than a table scan.</p> <p>If the query joins tables, the full-text index scan must be the leftmost non-constant table in the join.</p> <p>Given the conditions just listed, it is usually less effort to specify using ORDER BY an explicit sort order when one is necessary or desired.</p> <p>Relevance values are nonnegative floating-point numbers. Zero relevance means no similarity. Relevance is computed based on the number of words in the row (document), the number of unique words in the row, the total number of words in the collection, and the number of rows that contain a particular word.</p> <p>Note</p> <p>The term \u201cdocument\u201d may be used interchangeably with the term \u201crow\u201d, and both terms refer to the indexed part of the row. The term \u201ccollection\u201d refers to the indexed columns and encompasses all rows.</p> <p>To simply count matches, you could use a query like this:</p> <pre><code>SELECT COUNT(*) FROM articles\nWHERE MATCH (title,body)\nAGAINST ('database' IN NATURAL LANGUAGE MODE);\n</code></pre> <p><pre><code>+----------+\n| COUNT(*) |\n+----------+\n|        2 |\n+----------+\n1 row in set (0.00 sec)\n</code></pre> You might find it quicker to rewrite the query as follows:</p> <pre><code>SELECT\nCOUNT(IF(MATCH (title,body) AGAINST ('database' IN NATURAL LANGUAGE MODE), 1, NULL))\nAS count\nFROM articles;\n</code></pre> <pre><code>+-------+\n| count |\n+-------+\n|     2 |\n+-------+\n1 row in set (0.03 sec)\n</code></pre> <p>The first query does some extra work (sorting the results by relevance) but also can use an index lookup based on the WHERE clause. The index lookup might make the first query faster if the search matches few rows. The second query performs a full table scan, which might be faster than the index lookup if the search term was present in most rows.</p> <p>For natural-language full-text searches, the columns named in the MATCH() function must be the same columns included in some FULLTEXT index in your table. For the preceding query, note that the columns named in the MATCH() function (title and body) are the same as those named in the definition of the article table's FULLTEXT index. To search the title or body separately, you would create separate FULLTEXT indexes for each column.</p> <p>You can also perform a boolean search or a search with query expansion. These search types are described in Section 14.9.2, \u201cBoolean Full-Text Searches\u201d, and Section 14.9.3, \u201cFull-Text Searches with Query Expansion\u201d.</p> <p>A full-text search that uses an index can name columns only from a single table in the MATCH() clause because an index cannot span multiple tables. For MyISAM tables, a boolean search can be done in the absence of an index (albeit more slowly), in which case it is possible to name columns from multiple tables.</p> <p>The preceding example is a basic illustration that shows how to use the MATCH() function where rows are returned in order of decreasing relevance. The next example shows how to retrieve the relevance values explicitly. Returned rows are not ordered because the SELECT statement includes neither WHERE nor ORDER BY clauses:</p> <pre><code>SELECT id, MATCH (title,body)\nAGAINST ('Tutorial' IN NATURAL LANGUAGE MODE) AS score\nFROM articles;\n</code></pre> <pre><code>+----+---------------------+\n| id | score               |\n+----+---------------------+\n|  1 | 0.22764469683170319 |\n|  2 |                   0 |\n|  3 | 0.22764469683170319 |\n|  4 |                   0 |\n|  5 |                   0 |\n|  6 |                   0 |\n+----+---------------------+\n6 rows in set (0.00 sec)\n</code></pre> <p>The following example is more complex. The query returns the relevance values and it also sorts the rows in order of decreasing relevance. To achieve this result, specify MATCH() twice: once in the SELECT list and once in the WHERE clause. This causes no additional overhead, because the MySQL optimizer notices that the two MATCH() calls are identical and invokes the full-text search code only once.</p> <pre><code>SELECT id, body, MATCH (title,body)\nAGAINST ('Security implications of running MySQL as root'\nIN NATURAL LANGUAGE MODE) AS score\nFROM articles\nWHERE MATCH (title,body) \nAGAINST('Security implications of running MySQL as root'\nIN NATURAL LANGUAGE MODE);\n</code></pre> <pre><code>+----+-------------------------------------+-----------------+\n| id | body                                | score           |\n+----+-------------------------------------+-----------------+\n|  4 | 1. Never run mysqld as root. 2. ... | 1.5219271183014 |\n|  6 | When configured properly, MySQL ... | 1.3114095926285 |\n+----+-------------------------------------+-----------------+\n2 rows in set (0.00 sec)\n</code></pre> <p>A phrase that is enclosed within double quote (\") characters matches only rows that contain the phrase literally, as it was typed. The full-text engine splits the phrase into words and performs a search in the FULLTEXT index for the words. Nonword characters need not be matched exactly: Phrase searching requires only that matches contain exactly the same words as the phrase and in the same order. For example, \"test phrase\" matches \"test, phrase\". If the phrase contains no words that are in the index, the result is empty. For example, if all words are either stopwords or shorter than the minimum length of indexed words, the result is empty.</p> <p>The MySQL FULLTEXT implementation regards any sequence of true word characters (letters, digits, and underscores) as a word. That sequence may also contain apostrophes ('), but not more than one in a row. This means that aaa'bbb is regarded as one word, but aaa''bbb is regarded as two words. Apostrophes at the beginning or the end of a word are stripped by the FULLTEXT parser; 'aaa'bbb' would be parsed as aaa'bbb.</p> <p>The built-in FULLTEXT parser determines where words start and end by looking for certain delimiter characters; for example,   (space), , (comma), and . (period). If words are not separated by delimiters (as in, for example, Chinese), the built-in FULLTEXT parser cannot determine where a word begins or ends. To be able to add words or other indexed terms in such languages to a FULLTEXT index that uses the built-in FULLTEXT parser, you must preprocess them so that they are separated by some arbitrary delimiter. Alternatively, you can create FULLTEXT indexes using the ngram parser plugin (for Chinese, Japanese, or Korean) or the MeCab parser plugin (for Japanese).</p> <p>It is possible to write a plugin that replaces the built-in full-text parser. For details, see The MySQL Plugin API. For example parser plugin source code, see the plugin/fulltext directory of a MySQL source distribution.</p> <p>Some words are ignored in full-text searches:</p> <p>Any word that is too short is ignored. The default minimum length of words that are found by full-text searches is three characters for InnoDB search indexes, or four characters for MyISAM. You can control the cutoff by setting a configuration option before creating the index: innodb_ft_min_token_size configuration option for InnoDB search indexes, or ft_min_word_len for MyISAM.</p> <p>Note</p> <p>This behavior does not apply to FULLTEXT indexes that use the ngram parser. For the ngram parser, token length is defined by the ngram_token_size option.</p> <p>Words in the stopword list are ignored. A stopword is a word such as \u201cthe\u201d or \u201csome\u201d that is so common that it is considered to have zero semantic value. There is a built-in stopword list, but it can be overridden by a user-defined list. The stopword lists and related configuration options are different for InnoDB search indexes and MyISAM ones. Stopword processing is controlled by the configuration options innodb_ft_enable_stopword, innodb_ft_server_stopword_table, and innodb_ft_user_stopword_table for InnoDB search indexes, and ft_stopword_file for MyISAM ones.</p> <p>See Section 14.9.4, \u201cFull-Text Stopwords\u201d to view default stopword lists and how to change them. The default minimum word length can be changed as described in Section 14.9.6, \u201cFine-Tuning MySQL Full-Text Search\u201d.</p> <p>Every correct word in the collection and in the query is weighted according to its significance in the collection or query. Thus, a word that is present in many documents has a lower weight, because it has lower semantic value in this particular collection. Conversely, if the word is rare, it receives a higher weight. The weights of the words are combined to compute the relevance of the row. This technique works best with large collections.</p> <p>MyISAM Limitation For very small tables, word distribution does not adequately reflect their semantic value, and this model may sometimes produce bizarre results for search indexes on MyISAM tables. For example, although the word \u201cMySQL\u201d is present in every row of the articles table shown earlier, a search for the word in a MyISAM search index produces no results:</p> <pre><code>SELECT * FROM articles\nWHERE MATCH (title,body)\nAGAINST ('MySQL' IN NATURAL LANGUAGE MODE);\n</code></pre> <p>Empty set (0.00 sec)</p> <p>The search result is empty because the word \u201cMySQL\u201d is present in at least 50% of the rows, and so is effectively treated as a stopword. This filtering technique is more suitable for large data sets, where you might not want the result set to return every second row from a 1GB table, than for small data sets where it might cause poor results for popular terms.</p> <p>The 50% threshold can surprise you when you first try full-text searching to see how it works, and makes InnoDB tables more suited to experimentation with full-text searches. If you create a MyISAM table and insert only one or two rows of text into it, every word in the text occurs in at least 50% of the rows. As a result, no search returns any results until the table contains more rows. Users who need to bypass the 50% limitation can build search indexes on InnoDB tables, or use the boolean search mode explained in Section 14.9.2, \u201cBoolean Full-Text Searches\u201d.</p> <p></p>"},{"location":"mysql-docs/03-boolean-search/","title":"14.9.2 Boolean Full-Text Searches","text":"<p>MySQL can perform boolean full-text searches using the IN BOOLEAN MODE modifier. With this modifier, certain characters have special meaning at the beginning or end of words in the search string. In the following query, the + and - operators indicate that a word must be present or absent, respectively, for a match to occur. Thus, the query retrieves all the rows that contain the word \u201cMySQL\u201d but that do not contain the word \u201cYourSQL\u201d:</p> <pre><code>SELECT * FROM articles WHERE MATCH (title,body)\nAGAINST ('+MySQL -YourSQL' IN BOOLEAN MODE);\n</code></pre> <pre><code>+----+-----------------------+-------------------------------------+\n| id | title                 | body                                |\n+----+-----------------------+-------------------------------------+\n|  1 | MySQL Tutorial        | DBMS stands for DataBase ...        |\n|  2 | How To Use MySQL Well | After you went through a ...        |\n|  3 | Optimizing MySQL      | In this tutorial, we show ...       |\n|  4 | 1001 MySQL Tricks     | 1. Never run mysqld as root. 2. ... |\n|  6 | MySQL Security        | When configured properly, MySQL ... |\n+----+-----------------------+-------------------------------------+\n</code></pre>"},{"location":"mysql-docs/03-boolean-search/#ai_generated_queries","title":"AI generated queries","text":"<pre><code>-- 1. REQUIRED WORD: Find rows containing \"MySQL\"\nSELECT * FROM articles \nWHERE MATCH(title, body) AGAINST('+MySQL' IN BOOLEAN MODE);\n\n-- 2. EXCLUDE WORD: Find rows with \"database\" but NOT \"MySQL\"\nSELECT * FROM articles \nWHERE MATCH(title, body) AGAINST('+database -MySQL' IN BOOLEAN MODE);\n\n-- 3. MULTIPLE REQUIRED WORDS: Must contain both \"MySQL\" AND \"tutorial\"\nSELECT * FROM articles \nWHERE MATCH(title, body) AGAINST('+MySQL +tutorial' IN BOOLEAN MODE);\n\n-- 4. EITHER/OR: Contains \"MySQL\" OR \"database\"\nSELECT * FROM articles \nWHERE MATCH(title, body) AGAINST('MySQL database' IN BOOLEAN MODE);\n\n-- 5. EXACT PHRASE: Find exact phrase \"configured properly\"\nSELECT * FROM articles \nWHERE MATCH(title, body) AGAINST('\"configured properly\"' IN BOOLEAN MODE);\n\n-- 6. WILDCARD: Words starting with \"data\" (database, data, etc.)\nSELECT * FROM articles \nWHERE MATCH(title, body) AGAINST('data*' IN BOOLEAN MODE);\n\n-- 7. WORD MUST BE PRESENT, ANOTHER OPTIONAL: \"MySQL\" required, \"security\" increases rank\nSELECT * FROM articles \nWHERE MATCH(title, body) AGAINST('+MySQL security' IN BOOLEAN MODE);\n\n-- 8. COMPLEX: \"MySQL\" required, prefer \"tutorial\", exclude \"tricks\"\nSELECT * FROM articles \nWHERE MATCH(title, body) AGAINST('+MySQL tutorial -tricks' IN BOOLEAN MODE);\n\n-- 9. DECREASE RANK: \"MySQL\" required, downrank if contains \"tricks\"\nSELECT * FROM articles \nWHERE MATCH(title, body) AGAINST('+MySQL ~tricks' IN BOOLEAN MODE);\n\n-- 10. PHRASE WITH REQUIRED WORD: \"MySQL\" AND exact phrase \"properly configured\"\nSELECT * FROM articles \nWHERE MATCH(title, body) AGAINST('+MySQL +\"properly configured\"' IN BOOLEAN MODE);\n\n-- 11. MULTIPLE PHRASES: Either phrase must match\nSELECT * FROM articles \nWHERE MATCH(title, body) AGAINST('\"MySQL Tutorial\" \"MySQL Security\"' IN BOOLEAN MODE);\n\n-- 12. WILDCARD WITH EXCLUSION: Words starting with \"optim\" but not \"optimizer\"\nSELECT * FROM articles \nWHERE MATCH(title, body) AGAINST('+optim* -optimizer' IN BOOLEAN MODE);\n\n-- 13. GROUPED LOGIC: (MySQL OR database) AND tutorial\nSELECT * FROM articles \nWHERE MATCH(title, body) AGAINST('+(MySQL database) +tutorial' IN BOOLEAN MODE);\n\n-- 14. PROXIMITY-LIKE: Required words with phrase bonus\nSELECT * FROM articles \nWHERE MATCH(title, body) AGAINST('+MySQL +configured \"MySQL configured\"' IN BOOLEAN MODE);\n\n-- 15. INCREASE RELEVANCE: Make \"security\" highly weighted\nSELECT * FROM articles \nWHERE MATCH(title, body) AGAINST('+MySQL +security &gt;security' IN BOOLEAN MODE);\n</code></pre>"},{"location":"mysql-docs/03-boolean-search/#boolean_operators_summary","title":"Boolean Operators Summary:","text":"<ul> <li> <ul> <li>Word MUST be present</li> </ul> </li> <li> <ul> <li>Word MUST NOT be present (no operator) - Word is optional (increases relevance if present) <ul> <li>Increases word's contribution to relevance &lt; - Decreases word's contribution to relevance ~ - Negates word's contribution (downranks if present)</li> </ul> </li> </ul> </li> <li> <ul> <li>Wildcard (matches words starting with prefix) \"...\" - Exact phrase match () - Group words into subexpressions</li> </ul> </li> </ul> <p>InnoDB full-text search does not support the use of the @ symbol in boolean full-text searches. The @ symbol is reserved for use by the @distance proximity search operator.</p>"},{"location":"mysql-docs/03-boolean-search/#distance","title":"@distance","text":"<pre><code>-- 1. EXACT PHRASE: Words must be adjacent (distance = 0)\nSELECT * FROM articles \nWHERE MATCH(title, body) AGAINST('\"MySQL Tutorial\"' IN BOOLEAN MODE);\n-- Matches: \"MySQL Tutorial\"\n-- Doesn't match: \"MySQL Advanced Tutorial\"\n\n-- 2. DISTANCE OF 1: Allow 1 word between\nSELECT * FROM articles \nWHERE MATCH(title, body) AGAINST('\"MySQL Tutorial\" @1' IN BOOLEAN MODE);\n-- Matches: \"MySQL Tutorial\", \"MySQL Advanced Tutorial\"\n-- Doesn't match: \"MySQL Database Management Tutorial\"\n\n-- 3. DISTANCE OF 3: Allow up to 3 words between\nSELECT * FROM articles \nWHERE MATCH(title, body) AGAINST('\"MySQL security\" @3' IN BOOLEAN MODE);\n-- Matches: \"MySQL security\"\n-- Matches: \"MySQL and database security\"\n-- Matches: \"MySQL server installation and security\"\n-- Doesn't match: \"MySQL is a powerful database management system with excellent security\"\n\n-- 4. MULTIPLE TERMS WITH DISTANCE\nSELECT * FROM articles \nWHERE MATCH(title, body) AGAINST('\"properly configured\" @2' IN BOOLEAN MODE);\n-- Matches: \"properly configured\"\n-- Matches: \"properly and correctly configured\"\n-- Matches: \"properly MySQL configured\" (2 words max between)\n\n-- 5. COMBINING WITH OTHER OPERATORS\nSELECT * FROM articles \nWHERE MATCH(title, body) AGAINST('+MySQL +\"configured properly\" @3' IN BOOLEAN MODE);\n-- \"MySQL\" required anywhere\n-- \"configured properly\" within 3 words distance\n\n-- 6. ORDER MATTERS: Distance respects word order\nSELECT * FROM articles \nWHERE MATCH(title, body) AGAINST('\"MySQL tutorial\" @2' IN BOOLEAN MODE);\n-- Matches: \"MySQL beginner tutorial\"\n-- Doesn't match: \"tutorial for MySQL\" (wrong order)\n</code></pre> <p>The wildcarded word is considered as a prefix that must be present at the start of one or more words. If the minimum word length is 4, a search for '+word +the*' could return fewer rows than a search for '+word +the', because the second query ignores the too-short search term the.</p> <p>InnoDB uses a variation of the \u201cterm frequency-inverse document frequency\u201d (TF-IDF) weighting system to rank a document's relevance for a given full-text search query. The TF-IDF weighting is based on how frequently a word appears in a document, offset by how frequently the word appears in all documents in the collection. In other words, the more frequently a word appears in a document, and the less frequently the word appears in the document collection, the higher the document is ranked.</p>"},{"location":"mysql-docs/03-boolean-search/#how_relevancy_ranking_is_calculated","title":"How Relevancy Ranking is Calculated","text":"<p>The term frequency (TF) value is the number of times that a word appears in a document. The inverse document frequency (IDF) value of a word is calculated using the following formula, where total_records is the number of records in the collection, and matching_records is the number of records that the search term appears in.</p> <pre><code>${IDF} = log10( ${total_records} / ${matching_records} )\nWhen a document contains a word multiple times, the IDF value is multiplied by the TF value:\n\n${TF} * ${IDF}\nUsing the TF and IDF values, the relevancy ranking for a document is calculated using this formula:\n\n${rank} = ${TF} * ${IDF} * ${IDF}\nThe formula is demonstrated in the following examples.\n\nRelevancy Ranking for a Single Word Search\nThis example demonstrates the relevancy ranking calculation for a single-word search.\n</code></pre> <p><pre><code>CREATE TABLE articles (\n  id INT UNSIGNED AUTO_INCREMENT NOT NULL PRIMARY KEY,\n  title VARCHAR(200),\n  body TEXT,\n  FULLTEXT (title,body)\n )  ENGINE=InnoDB;\n</code></pre> Query OK, 0 rows affected (1.04 sec)</p> <pre><code>INSERT INTO articles (title,body) VALUES\n('MySQL Tutorial','This database tutorial ...'),\n(\"How To Use MySQL\",'After you went through a ...'),\n('Optimizing Your Database','In this database tutorial ...'),\n('MySQL vs. YourSQL','When comparing databases ...'),\n('MySQL Security','When configured properly, MySQL ...'),\n('Database, Database, Database','database database database'),\n('1001 MySQL Tricks','1. Never run mysqld as root. 2. ...'),\n('MySQL Full-Text Indexes', 'MySQL fulltext indexes use a ..');\n</code></pre> <p>Query OK, 8 rows affected (0.06 sec) Records: 8  Duplicates: 0  Warnings: 0</p> <pre><code>SELECT id, title, body, \nMATCH (title,body) AGAINST ('database' IN BOOLEAN MODE) AS score\nFROM articles ORDER BY score DESC;\n</code></pre> <pre><code>+----+------------------------------+-------------------------------------+---------------------+\n| id | title                        | body                                | score               |\n+----+------------------------------+-------------------------------------+---------------------+\n|  6 | Database, Database, Database | database database database          |  1.0886961221694946 |\n|  3 | Optimizing Your Database     | In this database tutorial ...       | 0.36289870738983154 |\n|  1 | MySQL Tutorial               | This database tutorial ...          | 0.18144935369491577 |\n|  2 | How To Use MySQL             | After you went through a ...        |                   0 |\n|  4 | MySQL vs. YourSQL            | When comparing databases ...        |                   0 |\n|  5 | MySQL Security               | When configured properly, MySQL ... |                   0 |\n|  7 | 1001 MySQL Tricks            | 1. Never run mysqld as root. 2. ... |                   0 |\n|  8 | MySQL Full-Text Indexes      | MySQL fulltext indexes use a ..     |                   0 |\n+----+------------------------------+-------------------------------------+---------------------+\n8 rows in set (0.00 sec)\n</code></pre> <p>There are 8 records in total, with 3 that match the \u201cdatabase\u201d search term. The first record (id 6) contains the search term 6 times and has a relevancy ranking of 1.0886961221694946. This ranking value is calculated using a TF value of 6 (the \u201cdatabase\u201d search term appears 6 times in record id 6) and an IDF value of 0.42596873216370745, which is calculated as follows (where 8 is the total number of records and 3 is the number of records that the search term appears in):</p> <pre><code>${IDF} = LOG10( 8 / 3 ) = 0.42596873216370745\nThe TF and IDF values are then entered into the ranking formula:\n\n${rank} = ${TF} * ${IDF} * ${IDF}\nPerforming the calculation in the MySQL command-line client returns a ranking value of 1.088696164686938.\n</code></pre> <pre><code>SELECT 6*LOG10(8/3)*LOG10(8/3);\n</code></pre> <pre><code>+-------------------------+\n| 6*LOG10(8/3)*LOG10(8/3) |\n+-------------------------+\n|       1.088696164686938 |\n+-------------------------+\n1 row in set (0.00 sec)\n</code></pre> <p>Note</p> <p>You may notice a slight difference in the ranking values returned by the SELECT ... MATCH ... AGAINST statement and the MySQL command-line client (1.0886961221694946 versus 1.088696164686938). The difference is due to how the casts between integers and floats/doubles are performed internally by InnoDB (along with related precision and rounding decisions), and how they are performed elsewhere, such as in the MySQL command-line client or other types of calculators.</p>"},{"location":"mysql-docs/03-boolean-search/#relevancy_ranking_for_a_multiple_word_search","title":"Relevancy Ranking for a Multiple Word Search","text":"<p>This example demonstrates the relevancy ranking calculation for a multiple-word full-text search based on the articles table and data used in the previous example.</p> <p>If you search on more than one word, the relevancy ranking value is a sum of the relevancy ranking value for each word, as shown in this formula:</p> <pre><code>${rank} = ${TF} * ${IDF} * ${IDF} + ${TF} * ${IDF} * ${IDF}\nPerforming a search on two terms ('mysql tutorial') returns the following results:\n</code></pre> <pre><code>SELECT id, title, body, MATCH (title,body)  \nAGAINST ('mysql tutorial' IN BOOLEAN MODE) AS score\nFROM articles ORDER BY score DESC;\n</code></pre> <pre><code>+----+------------------------------+-------------------------------------+----------------------+\n| id | title                        | body                                | score                |\n+----+------------------------------+-------------------------------------+----------------------+\n|  1 | MySQL Tutorial               | This database tutorial ...          |   0.7405621409416199 |\n|  3 | Optimizing Your Database     | In this database tutorial ...       |   0.3624762296676636 |\n|  5 | MySQL Security               | When configured properly, MySQL ... | 0.031219376251101494 |\n|  8 | MySQL Full-Text Indexes      | MySQL fulltext indexes use a ..     | 0.031219376251101494 |\n|  2 | How To Use MySQL             | After you went through a ...        | 0.015609688125550747 |\n|  4 | MySQL vs. YourSQL            | When comparing databases ...        | 0.015609688125550747 |\n|  7 | 1001 MySQL Tricks            | 1. Never run mysqld as root. 2. ... | 0.015609688125550747 |\n|  6 | Database, Database, Database | database database database          |                    0 |\n+----+------------------------------+-------------------------------------+----------------------+\n8 rows in set (0.00 sec)\n</code></pre> <p>In the first record (id 8), 'mysql' appears once and 'tutorial' appears twice. There are six matching records for 'mysql' and two matching records for 'tutorial'. The MySQL command-line client returns the expected ranking value when inserting these values into the ranking formula for a multiple word search:</p> <pre><code>SELECT (1*log10(8/6)*log10(8/6)) + (2*log10(8/2)*log10(8/2));\n</code></pre> <pre><code>+-------------------------------------------------------+\n| (1*log10(8/6)*log10(8/6)) + (2*log10(8/2)*log10(8/2)) |\n+-------------------------------------------------------+\n|                                    0.7405621541938003 |\n+-------------------------------------------------------+\n1 row in set (0.00 sec)\n</code></pre>"},{"location":"mysql-docs/03-boolean-search/#note","title":"Note","text":"<p>The slight difference in the ranking values returned by the SELECT ... MATCH ... AGAINST statement and the MySQL command-line client is explained in the preceding example.</p> <p></p>"},{"location":"mysql-docs/04-query-expansion/","title":"14.9.3 Full-Text Searches with Query Expansion","text":"<p>Full-text search supports query expansion (and in particular, its variant \u201cblind query expansion\u201d). This is generally useful when a search phrase is too short, which often means that the user is relying on implied knowledge that the full-text search engine lacks. </p> <p>For example, a user searching for \u201cdatabase\u201d may really mean that \u201cMySQL\u201d, \u201cOracle\u201d, \u201cDB2\u201d, and \u201cRDBMS\u201d all are phrases that should match \u201cdatabases\u201d and should be returned, too. This is implied knowledge.</p> <p>Blind query expansion (also known as automatic relevance feedback) is enabled by adding WITH QUERY EXPANSION or IN NATURAL LANGUAGE MODE WITH QUERY EXPANSION following the search phrase. </p> <p>It works by performing the search twice, where the search phrase for the second search is the original search phrase concatenated with the few most highly relevant documents from the first search. </p> <p>Thus, if one of these documents contains the word \u201cdatabases\u201d and the word \u201cMySQL\u201d, the second search finds the documents that contain the word \u201cMySQL\u201d even if they do not contain the word \u201cdatabase\u201d. The following example shows this difference:</p> <pre><code>SELECT * FROM articles\nWHERE MATCH (title,body)\nAGAINST ('database' IN NATURAL LANGUAGE MODE);\n</code></pre> <pre><code>+----+-------------------+------------------------------------------+\n| id | title             | body                                     |\n+----+-------------------+------------------------------------------+\n|  1 | MySQL Tutorial    | DBMS stands for DataBase ...             |\n|  5 | MySQL vs. YourSQL | In the following database comparison ... |\n+----+-------------------+------------------------------------------+\n2 rows in set (0.00 sec)\n</code></pre> <pre><code>SELECT * FROM articles\nWHERE MATCH (title,body)\nAGAINST ('database' WITH QUERY EXPANSION);\n</code></pre> <pre><code>+----+-----------------------+------------------------------------------+\n| id | title                 | body                                     |\n+----+-----------------------+------------------------------------------+\n|  5 | MySQL vs. YourSQL     | In the following database comparison ... |\n|  1 | MySQL Tutorial        | DBMS stands for DataBase ...             |\n|  3 | Optimizing MySQL      | In this tutorial we show ...             |\n|  6 | MySQL Security        | When configured properly, MySQL ...      |\n|  2 | How To Use MySQL Well | After you went through a ...             |\n|  4 | 1001 MySQL Tricks     | 1. Never run mysqld as root. 2. ...      |\n+----+-----------------------+------------------------------------------+\n6 rows in set (0.00 sec)\n</code></pre> <p>Another example could be searching for books by Georges Simenon about Maigret, when a user is not sure how to spell \u201cMaigret\u201d. A search for \u201cMegre and the reluctant witnesses\u201d finds only \u201cMaigret and the Reluctant Witnesses\u201d without query expansion. A search with query expansion finds all books with the word \u201cMaigret\u201d on the second pass.</p>"},{"location":"mysql-docs/04-query-expansion/#note","title":"Note","text":"<p>Because blind query expansion tends to increase noise significantly by returning nonrelevant documents, use it only when a search phrase is short.</p> <p></p>"},{"location":"mysql-docs/05-stop-words/","title":"14.9.4 Full-Text Stopwords","text":"<p>The stopword list is loaded and searched for full-text queries using the server character set and collation (the values of the character_set_server and collation_server system variables). False hits or misses might occur for stopword lookups if the stopword file or columns used for full-text indexing or searches have a character set or collation different from character_set_server or collation_server.</p> <p>Case sensitivity of stopword lookups depends on the server collation. For example, lookups are case-insensitive if the collation is utf8mb4_0900_ai_ci, whereas lookups are case-sensitive if the collation is utf8mb4_0900_as_cs or utf8mb4_bin.</p>"},{"location":"mysql-docs/05-stop-words/#stopwords_for_innodb_search_indexes","title":"Stopwords for InnoDB Search Indexes","text":"<p>InnoDB has a relatively short list of default stopwords, because documents from technical, literary, and other sources often use short words as keywords or in significant phrases. For example, you might search for \"to be or not to be\" and expect to get a sensible result, rather than having all those words ignored.</p> <p>To see the default InnoDB stopword list, query the Information Schema INNODB_FT_DEFAULT_STOPWORD table.</p> <pre><code>SELECT * FROM INFORMATION_SCHEMA.INNODB_FT_DEFAULT_STOPWORD;\n</code></pre> <pre><code>+-------+\n| value |\n+-------+\n| a     |\n| about |\n| an    |\n| are   |\n| as    |\n| at    |\n| be    |\n| by    |\n| com   |\n| de    |\n| en    |\n| for   |\n| from  |\n| how   |\n| i     |\n| in    |\n| is    |\n| it    |\n| la    |\n| of    |\n| on    |\n| or    |\n| that  |\n| the   |\n| this  |\n| to    |\n| was   |\n| what  |\n| when  |\n| where |\n| who   |\n| will  |\n| with  |\n| und   |\n| the   |\n| www   |\n+-------+\n36 rows in set (0.00 sec)\n</code></pre> <p>To define your own stopword list for all InnoDB tables, define a table with the same structure as the INNODB_FT_DEFAULT_STOPWORD table, populate it with stopwords, and set the value of the innodb_ft_server_stopword_table option to a value in the form db_name/table_name before creating the full-text index. </p> <p>The stopword table must have a single VARCHAR column named value. The following example demonstrates creating and configuring a new global stopword table for InnoDB.</p>"},{"location":"mysql-docs/05-stop-words/#create_a_new_stopword_table","title":"Create a new stopword table","text":"<p><pre><code>CREATE TABLE my_stopwords(value VARCHAR(30)) ENGINE = INNODB;\n</code></pre> <pre><code>Query OK, 0 rows affected (0.01 sec)\n</code></pre> <pre><code>-- Insert stopwords (for simplicity, a single stopword is used in this example)\nINSERT INTO my_stopwords(value) VALUES ('Ishmael');\n</code></pre></p> <pre><code>Query OK, 1 row affected (0.00 sec)\n</code></pre> <p><pre><code>-- Create the table\nCREATE TABLE opening_lines (\nid INT UNSIGNED AUTO_INCREMENT NOT NULL PRIMARY KEY,\nopening_line TEXT(500),\nauthor VARCHAR(200),\ntitle VARCHAR(200)\n) ENGINE=InnoDB;\n</code></pre> <pre><code>Query OK, 0 rows affected (0.01 sec)\n</code></pre></p> <pre><code>-- Insert data into the table\nINSERT INTO opening_lines(opening_line,author,title) VALUES\n('Call me Ishmael.','Herman Melville','Moby-Dick'),\n('A screaming comes across the sky.','Thomas Pynchon','Gravity\\'s Rainbow'),\n('I am an invisible man.','Ralph Ellison','Invisible Man'),\n('Where now? Who now? When now?','Samuel Beckett','The Unnamable'),\n('It was love at first sight.','Joseph Heller','Catch-22'),\n('All this happened, more or less.','Kurt Vonnegut','Slaughterhouse-Five'),\n('Mrs. Dalloway said she would buy the flowers herself.','Virginia Woolf','Mrs. Dalloway'),\n('It was a pleasure to burn.','Ray Bradbury','Fahrenheit 451');\n</code></pre> <pre><code>Query OK, 8 rows affected (0.00 sec)\nRecords: 8  Duplicates: 0  Warnings: 0\n</code></pre> <pre><code>-- Set the innodb_ft_server_stopword_table option to the new stopword table\nSET GLOBAL innodb_ft_server_stopword_table = 'test/my_stopwords';\n</code></pre> <pre><code>Query OK, 0 rows affected (0.00 sec)\n</code></pre> <pre><code>-- Create the full-text index (which rebuilds the table if no FTS_DOC_ID column is defined)\nCREATE FULLTEXT INDEX idx ON opening_lines(opening_line);\n</code></pre> <pre><code>Query OK, 0 rows affected, 1 warning (1.17 sec)\nRecords: 0  Duplicates: 0  Warnings: 1\n</code></pre> <p>Verify that the specified stopword ('Ishmael') does not appear by querying the Information Schema INNODB_FT_INDEX_TABLE table.</p>"},{"location":"mysql-docs/05-stop-words/#note","title":"Note","text":"<p>By default, words less than 3 characters in length or greater than 84 characters in length do not appear in an InnoDB full-text search index. </p> <p>Maximum and minimum word length values are configurable using the innodb_ft_max_token_size and innodb_ft_min_token_size variables. This default behavior does not apply to the ngram parser plugin. ngram token size is defined by the ngram_token_size option.</p> <p><pre><code>SET GLOBAL innodb_ft_aux_table='test/opening_lines';\n</code></pre> <pre><code>Query OK, 0 rows affected (0.00 sec)\n</code></pre> <pre><code>SELECT word FROM INFORMATION_SCHEMA.INNODB_FT_INDEX_TABLE LIMIT 15;\n</code></pre></p> <pre><code>+-----------+\n| word      |\n+-----------+\n| across    |\n| all       |\n| burn      |\n| buy       |\n| call      |\n| comes     |\n| dalloway  |\n| first     |\n| flowers   |\n| happened  |\n| herself   |\n| invisible |\n| less      |\n| love      |\n| man       |\n+-----------+\n15 rows in set (0.00 sec)\n</code></pre> <p>To create stopword lists on a table-by-table basis, create other stopword tables and use the innodb_ft_user_stopword_table option to specify the stopword table that you want to use before you create the full-text index.</p>"},{"location":"mysql-docs/05-stop-words/#stopwords_for_myisam_search_indexes","title":"Stopwords for MyISAM Search Indexes","text":"<p>The stopword file is loaded and searched using latin1 if character_set_server is ucs2, utf16, utf16le, or utf32.</p> <p>To override the default stopword list for MyISAM tables, set the ft_stopword_file system variable. (See Section 7.1.8, \"Server System Variables\".) The variable value should be the path name of the file containing the stopword list, or the empty string to disable stopword filtering. The server looks for the file in the data directory unless an absolute path name is given to specify a different directory. </p> <p>After changing the value of this variable or the contents of the stopword file, restart the server and rebuild your FULLTEXT indexes.</p> <p>The stopword list is free-form, separating stopwords with any nonalphanumeric character such as newline, space, or comma. Exceptions are the underscore character (_) and a single apostrophe (') which are treated as part of a word. The character set of the stopword list is the server's default character set; see Section 12.3.2, \"Server Character Set and Collation\".</p> <p>The following list shows the default stopwords for MyISAM search indexes. In a MySQL source distribution, you can find this list in the storage/myisam/ft_static.c file.</p> <pre><code>a's           able          about         above         according\naccordingly   across        actually      after         afterwards\nagain         against       ain't         all           allow\nallows        almost        alone         along         already\nalso          although      always        am            among\namongst       an            and           another       any\nanybody       anyhow        anyone        anything      anyway\nanyways       anywhere      apart         appear        appreciate\nappropriate   are           aren't        around        as\naside         ask           asking        associated    at\navailable     away          awfully       be            became\nbecause       become        becomes       becoming      been\nbefore        beforehand    behind        being         believe\nbelow         beside        besides       best          better\nbetween       beyond        both          brief         but\nby            c'mon         c's           came          can\ncan't         cannot        cant          cause         causes\ncertain       certainly     changes       clearly       co\ncom           come          comes         concerning    consequently\nconsider      considering   contain       containing    contains\ncorresponding could         couldn't      course        currently\ndefinitely    described     despite       did           didn't\ndifferent     do            does          doesn't       doing\ndon't         done          down          downwards     during\neach          edu           eg            eight         either\nelse          elsewhere     enough        entirely      especially\net            etc           even          ever          every\neverybody     everyone      everything    everywhere    ex\nexactly       example       except        far           few\nfifth         first         five          followed      following\nfollows       for           former        formerly      forth\nfour          from          further       furthermore   get\ngets          getting       given         gives         go\ngoes          going         gone          got           gotten\ngreetings     had           hadn't        happens       hardly\nhas           hasn't        have          haven't       having\nhe            he's          hello         help          hence\nher           here          here's        hereafter     hereby\nherein        hereupon      hers          herself       hi\nhim           himself       his           hither        hopefully\nhow           howbeit       however       i'd           i'll\ni'm           i've          ie            if            ignored\nimmediate     in            inasmuch      inc           indeed\nindicate      indicated     indicates     inner         insofar\ninstead       into          inward        is            isn't\nit            it'd          it'll         it's          its\nitself        just          keep          keeps         kept\nknow          known         knows         last          lately\nlater         latter        latterly      least         less\nlest          let           let's         like          liked\nlikely        little        look          looking       looks\nltd           mainly        many          may           maybe\nme            mean          meanwhile     merely        might\nmore          moreover      most          mostly        much\nmust          my            myself        name          namely\nnd            near          nearly        necessary     need\nneeds         neither       never         nevertheless  new\nnext          nine          no            nobody        non\nnone          noone         nor           normally      not\nnothing       novel         now           nowhere       obviously\nof            off           often         oh            ok\nokay          old           on            once          one\nones          only          onto          or            other\nothers        otherwise     ought         our           ours\nourselves     out           outside       over          overall\nown           particular    particularly  per           perhaps\nplaced        please        plus          possible      presumably\nprobably      provides      que           quite         qv\nrather        rd            re            really        reasonably\nregarding     regardless    regards       relatively    respectively\nright         said          same          saw           say\nsaying        says          second        secondly      see\nseeing        seem          seemed        seeming       seems\nseen          self          selves        sensible      sent\nserious       seriously     seven         several       shall\nshe           should        shouldn't     since         six\nso            some          somebody      somehow       someone\nsomething     sometime      sometimes     somewhat      somewhere\nsoon          sorry         specified     specify       specifying\nstill         sub           such          sup           sure\nt's           take          taken         tell          tends\nth            than          thank         thanks        thanx\nthat          that's        thats         the           their\ntheirs        them          themselves    then          thence\nthere         there's       thereafter    thereby       therefore\ntherein       theres        thereupon     these         they\nthey'd        they'll       they're       they've       think\nthird         this          thorough      thoroughly    those\nthough        three         through       throughout    thru\nthus          to            together      too           took\ntoward        towards       tried         tries         truly\ntry           trying        twice         two           un\nunder         unfortunately unless        unlikely      until\nunto          up            upon          us            use\nused          useful        uses          using         usually\nvalue         various       very          via           viz\nvs            want          wants         was           wasn't\nway           we            we'd          we'll         we're\nwe've         welcome       well          went          were\nweren't       what          what's        whatever      when\nwhence        whenever      where         where's       whereafter\nwhereas       whereby       wherein       whereupon     wherever\nwhether       which         while         whither       who\nwho's         whoever       whole         whom          whose\nwhy           will          willing       wish          with\nwithin        without       won't         wonder        would\nwouldn't      yes           yet           you           you'd\nyou'll        you're        you've        your          yours\nyourself      yourselves    zero\n</code></pre>"},{"location":"mysql-docs/06-restrictions/","title":"14.9.5 Full-Text Restrictions","text":"<p>Rewritten and formatted by AI.</p>"},{"location":"mysql-docs/06-restrictions/#mysql_full-text_search_restrictions","title":"MySQL Full-Text Search Restrictions","text":""},{"location":"mysql-docs/06-restrictions/#overview","title":"Overview","text":"<p>Full-text search in MySQL has several important limitations and restrictions you should be aware of before implementing it in your database. This guide summarizes the key restrictions.</p>"},{"location":"mysql-docs/06-restrictions/#storage_engine_limitations","title":"Storage Engine Limitations","text":""},{"location":"mysql-docs/06-restrictions/#supported_engines","title":"Supported Engines","text":"<ul> <li>InnoDB - Fully supported \u2713</li> <li>MyISAM - Fully supported \u2713</li> <li>All other engines - Not supported \u2717</li> </ul>"},{"location":"mysql-docs/06-restrictions/#partitioned_tables","title":"Partitioned Tables","text":"<p>Full-text searches are not supported on partitioned tables. If you need partitioning, you cannot use FULLTEXT indexes on those tables.</p>"},{"location":"mysql-docs/06-restrictions/#character_set_and_language_support","title":"Character Set and Language Support","text":""},{"location":"mysql-docs/06-restrictions/#supported_character_sets","title":"Supported Character Sets","text":"<p>Unicode Support:</p> <ul> <li>utf8mb3 - Supported \u2713</li> <li>utf8mb4 - Supported \u2713</li> <li>ucs2 - Not supported for FULLTEXT indexes \u2717</li> <li>utf16 - Not supported for FULLTEXT indexes \u2717</li> <li>utf16le - Not supported for FULLTEXT indexes \u2717</li> <li>utf32 - Not supported for FULLTEXT indexes \u2717</li> </ul> <p>Important Exception:</p> <p>You can perform <code>IN BOOLEAN MODE</code> searches on ucs2 columns even without a FULLTEXT index, though performance will be slower.</p>"},{"location":"mysql-docs/06-restrictions/#same_character_set_required","title":"Same Character Set Required","text":"<p>All columns in a single FULLTEXT index must use:</p> <ul> <li>The same character set</li> <li>The same collation</li> </ul> <p>You cannot mix different character sets within one FULLTEXT index.</p>"},{"location":"mysql-docs/06-restrictions/#ideographic_language_support","title":"Ideographic Language Support","text":""},{"location":"mysql-docs/06-restrictions/#the_challenge","title":"The Challenge","text":"<p>Languages like Chinese, Japanese, and Korean (CJK) don't use spaces to separate words. This creates problems for the built-in full-text parser, which relies on word delimiters.</p> <p>Example:</p> <pre><code>English:   \"machine learning tutorial\"  (clear word boundaries)\nChinese:   \"\u673a\u5668\u5b66\u4e60\u6559\u7a0b\"                  (no spaces between concepts)\n</code></pre>"},{"location":"mysql-docs/06-restrictions/#solutions","title":"Solutions","text":"<p>MySQL provides specialized parsers for these languages:</p> <p>1. ngram Parser (Character-based)</p> <ul> <li>Supports: Chinese, Japanese, Korean</li> <li>Works with: InnoDB and MyISAM</li> <li>Approach: Breaks text into fixed-length character sequences</li> </ul> <p>2. MeCab Parser (Word-based)</p> <ul> <li>Supports: Japanese only</li> <li>Works with: InnoDB and MyISAM</li> <li>Approach: Uses dictionary-based word segmentation</li> </ul>"},{"location":"mysql-docs/06-restrictions/#query_restrictions","title":"Query Restrictions","text":""},{"location":"mysql-docs/06-restrictions/#match_column_list_rules","title":"MATCH() Column List Rules","text":"<p>The columns specified in <code>MATCH()</code> must exactly match a FULLTEXT index definition.</p> <p>Example: <pre><code>-- You have this index:\nCREATE FULLTEXT INDEX ft_idx ON articles(title, content);\n\n-- \u2713 CORRECT: Matches the index exactly\nWHERE MATCH(title, content) AGAINST('search term')\n\n-- \u2717 WRONG: Doesn't match any index\nWHERE MATCH(title) AGAINST('search term')\n\n-- \u2717 WRONG: Doesn't match any index\nWHERE MATCH(content, title) AGAINST('search term')  -- Order matters!\n</code></pre></p> <p>Exception for MyISAM: MyISAM tables can use <code>IN BOOLEAN MODE</code> on non-indexed columns, but performance will be poor: <pre><code>-- Works on MyISAM, but slow:\nWHERE MATCH(non_indexed_column) AGAINST('term' IN BOOLEAN MODE)\n</code></pre></p>"},{"location":"mysql-docs/06-restrictions/#against_argument_must_be_constant","title":"AGAINST() Argument Must Be Constant","text":"<p>The search string in <code>AGAINST()</code> must be a constant value at query time.</p> <pre><code>-- \u2713 CORRECT: String literal\nWHERE MATCH(title) AGAINST('machine learning')\n\n-- \u2713 CORRECT: Variable/parameter (constant per query execution)\nWHERE MATCH(title) AGAINST(?)\n\n-- \u2717 WRONG: Cannot use column values\nWHERE MATCH(title) AGAINST(description)\n\n-- \u2717 WRONG: Cannot use values that vary by row\nWHERE MATCH(title) AGAINST(CONCAT(prefix_col, ' ', suffix_col))\n</code></pre> <p>Why? The search term must be the same for all rows being evaluated, not computed differently for each row.</p>"},{"location":"mysql-docs/06-restrictions/#rollup_column_restriction","title":"Rollup Column Restriction","text":"<p>You cannot use a rollup column as an argument to <code>MATCH()</code>.</p> <pre><code>-- \u2717 NOT ALLOWED\nSELECT category, MATCH(category) AGAINST('tech') \nFROM articles \nGROUP BY category WITH ROLLUP;\n</code></pre>"},{"location":"mysql-docs/06-restrictions/#index_hints_limitation","title":"Index Hints Limitation","text":"<p>Index hints (like <code>USE INDEX</code>, <code>FORCE INDEX</code>, <code>IGNORE INDEX</code>) are more limited with FULLTEXT searches compared to regular indexes.</p> <p>What this means:</p> <p>You have less control over query optimization when using full-text searches. MySQL's query optimizer makes most decisions automatically.</p>"},{"location":"mysql-docs/06-restrictions/#innodb_transaction_behavior","title":"InnoDB Transaction Behavior","text":""},{"location":"mysql-docs/06-restrictions/#dml_operations_processed_at_commit_time","title":"DML Operations Processed at Commit Time","text":"<p>For InnoDB tables, full-text index updates happen when transactions commit, not immediately.</p> <p>How it works:</p> <pre><code>1. You INSERT a row with text\n   \u2193\n2. Text is tokenized into individual words\n   \u2193\n3. Words are added to FULLTEXT index tables\n   \u2193\n4. BUT this only happens when you COMMIT\n</code></pre> <p>Important Implications:</p> <pre><code>BEGIN;\nINSERT INTO articles (title, content) VALUES \n    ('New Article', 'This is about machine learning');\n-- At this point, the text is NOT yet in the full-text index\n\n-- Other users searching won't find this article yet\nSELECT * FROM articles WHERE MATCH(title, content) AGAINST('machine learning');\n-- Returns nothing for the new article\n\nCOMMIT;\n-- NOW the text is tokenized and added to the index\n-- NOW other users can find it in searches\n</code></pre> <p>Key Point: Full-text searches only return committed data. Uncommitted changes are not searchable, even within the same transaction.</p>"},{"location":"mysql-docs/06-restrictions/#wildcard_restrictions","title":"Wildcard Restrictions","text":""},{"location":"mysql-docs/06-restrictions/#the_character_is_not_supported","title":"The '%' Character Is Not Supported","text":"<p>Unlike <code>LIKE</code> queries, the <code>%</code> wildcard does not work in full-text searches.</p> <pre><code>-- \u2717 WRONG: '%' doesn't work in full-text search\nWHERE MATCH(title) AGAINST('machine%')\n\n-- \u2713 CORRECT: Use the asterisk wildcard in BOOLEAN MODE\nWHERE MATCH(title) AGAINST('machine*' IN BOOLEAN MODE)\n</code></pre> <p>Available Wildcard:</p> <p>Only the asterisk (<code>*</code>) works as a wildcard in <code>IN BOOLEAN MODE</code>:</p> <pre><code>-- Finds: machine, machines, machinery, etc.\nWHERE MATCH(content) AGAINST('machin*' IN BOOLEAN MODE)\n</code></pre>"},{"location":"mysql-docs/06-restrictions/#quick_reference_common_mistakes","title":"Quick Reference: Common Mistakes","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Common Mistakes to Avoid                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                 \u2502\n\u2502 \u2717 Using with partitioned tables                                 \u2502\n\u2502 \u2717 Mixing character sets in one FULLTEXT index                   \u2502\n\u2502 \u2717 MATCH() columns not matching an index exactly                 \u2502\n\u2502 \u2717 Using column values in AGAINST()                              \u2502\n\u2502 \u2717 Using '%' as a wildcard                                       \u2502\n\u2502 \u2717 Expecting uncommitted data to be searchable (InnoDB)          \u2502\n\u2502 \u2717 Using ucs2/utf16/utf32 without understanding the limitations  \u2502\n\u2502                                                                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"mysql-docs/06-restrictions/#best_practices","title":"Best Practices","text":""},{"location":"mysql-docs/06-restrictions/#1_choose_the_right_storage_engine","title":"1. Choose the Right Storage Engine","text":"<ul> <li>Use InnoDB for most applications (transactions, better concurrency)</li> <li>Use MyISAM only if you need boolean searches on non-indexed columns</li> </ul>"},{"location":"mysql-docs/06-restrictions/#2_plan_your_character_sets","title":"2. Plan Your Character Sets","text":"<ul> <li>Use utf8mb4 for full Unicode support</li> <li>Ensure all columns in a FULLTEXT index use the same character set</li> <li>For CJK languages, use ngram or MeCab parsers</li> </ul>"},{"location":"mysql-docs/06-restrictions/#3_design_indexes_carefully","title":"3. Design Indexes Carefully","text":"<ul> <li>Create FULLTEXT indexes that match your query patterns</li> <li>Remember that <code>MATCH()</code> must exactly match an index definition</li> <li>Consider creating multiple indexes for different search scenarios</li> </ul>"},{"location":"mysql-docs/06-restrictions/#4_understand_transaction_behavior_innodb","title":"4. Understand Transaction Behavior (InnoDB)","text":"<ul> <li>Remember that new data isn't searchable until committed</li> <li>Plan for this in real-time applications</li> <li>Consider the delay between INSERT and searchability</li> </ul>"},{"location":"mysql-docs/06-restrictions/#5_use_correct_wildcards","title":"5. Use Correct Wildcards","text":"<ul> <li>Use <code>*</code> (asterisk) in BOOLEAN MODE, not <code>%</code></li> <li>Only the asterisk wildcard is supported</li> </ul>"},{"location":"mysql-docs/06-restrictions/#summary_checklist","title":"Summary Checklist","text":"<p>Before implementing full-text search, verify:</p> <ul> <li>[ ] You're using InnoDB or MyISAM</li> <li>[ ] Table is not partitioned</li> <li>[ ] All FULLTEXT index columns use the same character set</li> <li>[ ] Your MATCH() columns exactly match a FULLTEXT index</li> <li>[ ] Your AGAINST() arguments are constants, not column references</li> <li>[ ] You're not using '%' as a wildcard</li> <li>[ ] You understand the transaction commit behavior (InnoDB)</li> <li>[ ] You've considered ngram/MeCab parsers for CJK languages</li> </ul>"},{"location":"mysql-docs/06-restrictions/#related_documentation","title":"Related Documentation","text":"<ul> <li>Section 26.6: Restrictions and Limitations on Partitioning</li> <li>Section 10.9.4: Index Hints</li> <li>Section 14.9.8: ngram Full-Text Parser</li> <li>Section 14.9.9: MeCab Full-Text Parser Plugin</li> </ul>"},{"location":"mysql-docs/07-fts-tuning/","title":"MySQL Full-Text Search (FTS) Fine-Tuning Guide","text":""},{"location":"mysql-docs/07-fts-tuning/#introduction","title":"Introduction","text":"<p>Full-Text Search (FTS) in MySQL allows you to efficiently search text content in your database. While the default settings work well for most applications, MySQL provides several configuration options to optimize search behavior for your specific needs.</p> <p>Important Note: MySQL's FTS is already well-tuned out of the box. Only modify these settings if you have a specific reason and understand the implications. Most changes require rebuilding your FULLTEXT indexes and restarting the server.</p>"},{"location":"mysql-docs/07-fts-tuning/#1_word_length_configuration","title":"1. Word Length Configuration","text":""},{"location":"mysql-docs/07-fts-tuning/#what_it_does","title":"What It Does","text":"<p>Controls which words get indexed based on their length. By default, very short words (like \"a\", \"in\") and extremely long words are excluded from the index.</p>"},{"location":"mysql-docs/07-fts-tuning/#configuration_variables","title":"Configuration Variables","text":"<p>For InnoDB tables:</p> <ul> <li><code>innodb_ft_min_token_size</code> - Minimum word length (default: 3)</li> <li><code>innodb_ft_max_token_size</code> - Maximum word length (default: 84)</li> </ul> <p>For MyISAM tables:</p> <ul> <li><code>ft_min_word_len</code> - Minimum word length (default: 4)</li> <li><code>ft_max_word_len</code> - Maximum word length (default: 84)</li> </ul>"},{"location":"mysql-docs/07-fts-tuning/#example_use_case","title":"Example Use Case","text":"<p>If you need to search for two-letter words like \"AI\" or \"UK\", you'd need to lower the minimum token size.</p>"},{"location":"mysql-docs/07-fts-tuning/#how_to_configure","title":"How to Configure","text":"<p>Add to your MySQL configuration file (e.g., <code>/etc/my.cnf</code> or <code>my.ini</code> on Windows):</p> <pre><code>[mysqld]\ninnodb_ft_min_token_size=2\nft_min_word_len=2\n</code></pre> <p>Important: After changing these settings:</p> <ol> <li>Restart the MySQL server</li> <li>Rebuild all FULLTEXT indexes (see Rebuilding Indexes section)</li> </ol>"},{"location":"mysql-docs/07-fts-tuning/#php_example_-_rebuilding_index_after_configuration_change","title":"PHP Example - Rebuilding Index After Configuration Change","text":"<pre><code>&lt;?php\n// Connect to MySQL\n$mysqli = new mysqli(\"localhost\", \"root\", \"password\", \"mydb\");\n\nif ($mysqli-&gt;connect_error) {\n    die(\"Connection failed: \" . $mysqli-&gt;connect_error);\n}\n\n// Rebuild the FULLTEXT index\n// Step 1: Drop the existing index\n$sql = \"ALTER TABLE articles DROP INDEX content_idx\";\nif ($mysqli-&gt;query($sql)) {\n    echo \"Index dropped successfully.\\n\";\n} else {\n    echo \"Error dropping index: \" . $mysqli-&gt;error . \"\\n\";\n}\n\n// Step 2: Recreate the index\n$sql = \"ALTER TABLE articles ADD FULLTEXT INDEX content_idx (content)\";\nif ($mysqli-&gt;query($sql)) {\n    echo \"Index recreated successfully.\\n\";\n} else {\n    echo \"Error creating index: \" . $mysqli-&gt;error . \"\\n\";\n}\n\n$mysqli-&gt;close();\n?&gt;\n</code></pre>"},{"location":"mysql-docs/07-fts-tuning/#php_example_-_searching_with_new_configuration","title":"PHP Example - Searching with New Configuration","text":"<pre><code>&lt;?php\n$mysqli = new mysqli(\"localhost\", \"root\", \"password\", \"mydb\");\n\n// Now you can search for 2-letter words like \"AI\"\n$search_term = \"AI technology\";\n$sql = \"SELECT * FROM articles \n        WHERE MATCH(title, content) AGAINST(? IN NATURAL LANGUAGE MODE)\";\n\n$stmt = $mysqli-&gt;prepare($sql);\n$stmt-&gt;bind_param(\"s\", $search_term);\n$stmt-&gt;execute();\n$result = $stmt-&gt;get_result();\n\nwhile ($row = $result-&gt;fetch_assoc()) {\n    echo \"Title: \" . htmlspecialchars($row['title']) . \"&lt;br&gt;\";\n    echo \"Content: \" . htmlspecialchars($row['content']) . \"&lt;br&gt;&lt;br&gt;\";\n}\n\n$stmt-&gt;close();\n$mysqli-&gt;close();\n?&gt;\n</code></pre>"},{"location":"mysql-docs/07-fts-tuning/#2_stopword_configuration","title":"2. Stopword Configuration","text":""},{"location":"mysql-docs/07-fts-tuning/#what_it_does_1","title":"What It Does","text":"<p>Stopwords are common words (like \"the\", \"and\", \"is\") that are excluded from the search index because they appear so frequently they're not useful for searching.</p>"},{"location":"mysql-docs/07-fts-tuning/#configuration_variables_1","title":"Configuration Variables","text":"<p>For InnoDB:</p> <ul> <li><code>innodb_ft_enable_stopword</code> - Enable/disable stopword filtering (default: ON)</li> <li><code>innodb_ft_server_stopword_table</code> - Custom server-level stopword table</li> <li><code>innodb_ft_user_stopword_table</code> - Custom session-level stopword table</li> </ul> <p>For MyISAM:</p> <ul> <li><code>ft_stopword_file</code> - Path to custom stopword file</li> </ul>"},{"location":"mysql-docs/07-fts-tuning/#example_use_case_1","title":"Example Use Case","text":"<p>If you're building a search engine for legal documents where words like \"the\" and \"and\" might be significant, you might want to disable stopwords or create a custom list.</p>"},{"location":"mysql-docs/07-fts-tuning/#php_example_-_creating_custom_stopword_table_innodb","title":"PHP Example - Creating Custom Stopword Table (InnoDB)","text":"<pre><code>&lt;?php\n$mysqli = new mysqli(\"localhost\", \"root\", \"password\", \"mydb\");\n\nif ($mysqli-&gt;connect_error) {\n    die(\"Connection failed: \" . $mysqli-&gt;connect_error);\n}\n\n// Step 1: Create a custom stopword table\n$sql = \"CREATE TABLE IF NOT EXISTS custom_stopwords (\n    value VARCHAR(30)\n) ENGINE = INNODB\";\n\nif ($mysqli-&gt;query($sql)) {\n    echo \"Stopword table created successfully.\\n\";\n} else {\n    echo \"Error creating table: \" . $mysqli-&gt;error . \"\\n\";\n}\n\n// Step 2: Add your custom stopwords\n$stopwords = ['the', 'and', 'or', 'but', 'is', 'are', 'was', 'were'];\n\n$stmt = $mysqli-&gt;prepare(\"INSERT INTO custom_stopwords (value) VALUES (?)\");\nforeach ($stopwords as $word) {\n    $stmt-&gt;bind_param(\"s\", $word);\n    $stmt-&gt;execute();\n}\n$stmt-&gt;close();\n\necho \"Custom stopwords added.\\n\";\n\n// Step 3: Configure MySQL to use the custom stopword table\n// (This requires appropriate privileges and a server restart)\n$sql = \"SET GLOBAL innodb_ft_user_stopword_table = 'mydb/custom_stopwords'\";\nif ($mysqli-&gt;query($sql)) {\n    echo \"Stopword table configured.\\n\";\n} else {\n    echo \"Error setting stopword table: \" . $mysqli-&gt;error . \"\\n\";\n}\n\n$mysqli-&gt;close();\n?&gt;\n</code></pre>"},{"location":"mysql-docs/07-fts-tuning/#php_example_-_disabling_stopwords_temporarily","title":"PHP Example - Disabling Stopwords Temporarily","text":"<pre><code>&lt;?php\n$mysqli = new mysqli(\"localhost\", \"root\", \"password\", \"mydb\");\n\n// Disable stopwords for the current session\n$mysqli-&gt;query(\"SET SESSION innodb_ft_enable_stopword = OFF\");\n\n// Now create a FULLTEXT index without stopword filtering\n$mysqli-&gt;query(\"CREATE TABLE temp_articles (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    content TEXT,\n    FULLTEXT(content)\n) ENGINE=InnoDB\");\n\n// After creating the index, you can re-enable stopwords\n$mysqli-&gt;query(\"SET SESSION innodb_ft_enable_stopword = ON\");\n\n$mysqli-&gt;close();\n?&gt;\n</code></pre> <p>Note: After changing stopword settings, rebuild your FULLTEXT indexes.</p>"},{"location":"mysql-docs/07-fts-tuning/#3_natural_language_search_threshold_myisam_only","title":"3. Natural Language Search Threshold (MyISAM Only)","text":""},{"location":"mysql-docs/07-fts-tuning/#what_it_does_2","title":"What It Does","text":"<p>By default, MyISAM ignores words that appear in more than 50% of rows. This prevents common words from dominating search results.</p>"},{"location":"mysql-docs/07-fts-tuning/#why_this_exists","title":"Why This Exists","text":"<p>If a word appears in more than half your documents, it's not useful for distinguishing between documents.</p>"},{"location":"mysql-docs/07-fts-tuning/#example","title":"Example","text":"<p>If you have 1000 articles and the word \"MySQL\" appears in 600 of them, natural language search will ignore \"MySQL\" in queries.</p>"},{"location":"mysql-docs/07-fts-tuning/#php_example_-_understanding_the_50_threshold","title":"PHP Example - Understanding the 50% Threshold","text":"<pre><code>&lt;?php\n$mysqli = new mysqli(\"localhost\", \"root\", \"password\", \"mydb\");\n\n// Check how many rows contain a specific word\n$word = \"mysql\";\n$sql = \"SELECT COUNT(*) as count FROM articles WHERE content LIKE ?\";\n$stmt = $mysqli-&gt;prepare($sql);\n$like_term = \"%$word%\";\n$stmt-&gt;bind_param(\"s\", $like_term);\n$stmt-&gt;execute();\n$result = $stmt-&gt;get_result();\n$row = $result-&gt;fetch_assoc();\n$word_count = $row['count'];\n\n// Get total row count\n$total_result = $mysqli-&gt;query(\"SELECT COUNT(*) as total FROM articles\");\n$total_row = $total_result-&gt;fetch_assoc();\n$total_count = $total_row['total'];\n\n$percentage = ($word_count / $total_count) * 100;\n\necho \"Word '$word' appears in $word_count out of $total_count articles ($percentage%).\\n\";\n\nif ($percentage &gt; 50) {\n    echo \"This word will be ignored in natural language search!\\n\";\n    echo \"Use IN BOOLEAN MODE instead.\\n\";\n}\n\n$stmt-&gt;close();\n$mysqli-&gt;close();\n?&gt;\n</code></pre>"},{"location":"mysql-docs/07-fts-tuning/#php_example_-_using_boolean_mode_to_bypass_threshold","title":"PHP Example - Using Boolean Mode to Bypass Threshold","text":"<p>Option 1: Boolean Mode Search (Recommended)</p> <p>Boolean mode doesn't apply the 50% threshold:</p> <pre><code>&lt;?php\n$mysqli = new mysqli(\"localhost\", \"root\", \"password\", \"mydb\");\n\n$search_term = \"mysql\";\n\n// Boolean search ignores the 50% threshold\n$sql = \"SELECT *, MATCH(content) AGAINST(? IN BOOLEAN MODE) AS relevance \n        FROM articles \n        WHERE MATCH(content) AGAINST(? IN BOOLEAN MODE)\n        ORDER BY relevance DESC\";\n\n$stmt = $mysqli-&gt;prepare($sql);\n$stmt-&gt;bind_param(\"ss\", $search_term, $search_term);\n$stmt-&gt;execute();\n$result = $stmt-&gt;get_result();\n\necho \"&lt;h2&gt;Search Results for: \" . htmlspecialchars($search_term) . \"&lt;/h2&gt;\";\n\nwhile ($row = $result-&gt;fetch_assoc()) {\n    echo \"&lt;div&gt;\";\n    echo \"&lt;h3&gt;\" . htmlspecialchars($row['title']) . \"&lt;/h3&gt;\";\n    echo \"&lt;p&gt;\" . htmlspecialchars(substr($row['content'], 0, 200)) . \"...&lt;/p&gt;\";\n    echo \"&lt;small&gt;Relevance: \" . $row['relevance'] . \"&lt;/small&gt;\";\n    echo \"&lt;/div&gt;&lt;hr&gt;\";\n}\n\n$stmt-&gt;close();\n$mysqli-&gt;close();\n?&gt;\n</code></pre>"},{"location":"mysql-docs/07-fts-tuning/#4_boolean_search_operators_myisam_only","title":"4. Boolean Search Operators (MyISAM Only)","text":""},{"location":"mysql-docs/07-fts-tuning/#what_it_does_3","title":"What It Does","text":"<p>Allows you to customize the operators used in Boolean full-text searches.</p>"},{"location":"mysql-docs/07-fts-tuning/#default_operators","title":"Default Operators","text":"<ul> <li><code>+</code> - Word must be present (AND)</li> <li><code>-</code> - Word must not be present (NOT)</li> <li><code>&gt;</code> - Increase word's relevance</li> <li><code>&lt;</code> - Decrease word's relevance</li> <li><code>()</code> - Group words into subexpressions</li> <li><code>~</code> - Negate word's contribution to relevance</li> <li><code>*</code> - Wildcard (must be at end of word)</li> <li><code>\"\"</code> - Phrase search (exact match)</li> </ul>"},{"location":"mysql-docs/07-fts-tuning/#configuration_variable","title":"Configuration Variable","text":"<p><code>ft_boolean_syntax</code> - Can be changed at runtime (no restart needed)</p>"},{"location":"mysql-docs/07-fts-tuning/#php_example_-_viewing_current_boolean_syntax","title":"PHP Example - Viewing Current Boolean Syntax","text":"<pre><code>&lt;?php\n$mysqli = new mysqli(\"localhost\", \"root\", \"password\", \"mydb\");\n\n// View current boolean syntax\n$result = $mysqli-&gt;query(\"SHOW VARIABLES LIKE 'ft_boolean_syntax'\");\n$row = $result-&gt;fetch_assoc();\n\necho \"Current boolean syntax: \" . $row['Value'] . \"\\n\";\n\n$mysqli-&gt;close();\n?&gt;\n</code></pre>"},{"location":"mysql-docs/07-fts-tuning/#php_example_-_advanced_boolean_searches","title":"PHP Example - Advanced Boolean Searches","text":"<pre><code>&lt;?php\n$mysqli = new mysqli(\"localhost\", \"root\", \"password\", \"mydb\");\n\n// Example 1: Must include \"mysql\", must exclude \"oracle\"\n$search1 = \"+mysql -oracle\";\necho \"&lt;h3&gt;Search: $search1&lt;/h3&gt;\";\n$sql = \"SELECT * FROM articles \n        WHERE MATCH(content) AGAINST(? IN BOOLEAN MODE)\";\n$stmt = $mysqli-&gt;prepare($sql);\n$stmt-&gt;bind_param(\"s\", $search1);\n$stmt-&gt;execute();\n$result = $stmt-&gt;get_result();\nwhile ($row = $result-&gt;fetch_assoc()) {\n    echo \"- \" . htmlspecialchars($row['title']) . \"&lt;br&gt;\";\n}\n$stmt-&gt;close();\n\necho \"&lt;br&gt;\";\n\n// Example 2: Phrase search\n$search2 = '\"full text search\"';\necho \"&lt;h3&gt;Search: $search2&lt;/h3&gt;\";\n$stmt = $mysqli-&gt;prepare($sql);\n$stmt-&gt;bind_param(\"s\", $search2);\n$stmt-&gt;execute();\n$result = $stmt-&gt;get_result();\nwhile ($row = $result-&gt;fetch_assoc()) {\n    echo \"- \" . htmlspecialchars($row['title']) . \"&lt;br&gt;\";\n}\n$stmt-&gt;close();\n\necho \"&lt;br&gt;\";\n\n// Example 3: Wildcard search\n$search3 = \"data*\"; // matches data, database, databases, etc.\necho \"&lt;h3&gt;Search: $search3&lt;/h3&gt;\";\n$stmt = $mysqli-&gt;prepare($sql);\n$stmt-&gt;bind_param(\"s\", $search3);\n$stmt-&gt;execute();\n$result = $stmt-&gt;get_result();\nwhile ($row = $result-&gt;fetch_assoc()) {\n    echo \"- \" . htmlspecialchars($row['title']) . \"&lt;br&gt;\";\n}\n$stmt-&gt;close();\n\necho \"&lt;br&gt;\";\n\n// Example 4: Complex boolean query\n$search4 = \"+(mysql database) -oracle\";\necho \"&lt;h3&gt;Search: $search4&lt;/h3&gt;\";\n$stmt = $mysqli-&gt;prepare($sql);\n$stmt-&gt;bind_param(\"s\", $search4);\n$stmt-&gt;execute();\n$result = $stmt-&gt;get_result();\nwhile ($row = $result-&gt;fetch_assoc()) {\n    echo \"- \" . htmlspecialchars($row['title']) . \"&lt;br&gt;\";\n}\n$stmt-&gt;close();\n\n$mysqli-&gt;close();\n?&gt;\n</code></pre>"},{"location":"mysql-docs/07-fts-tuning/#5_character_set_modifications","title":"5. Character Set Modifications","text":""},{"location":"mysql-docs/07-fts-tuning/#what_it_does_4","title":"What It Does","text":"<p>Defines which characters are considered \"word characters\" versus delimiters. By default, hyphens and most punctuation split words.</p>"},{"location":"mysql-docs/07-fts-tuning/#example_problem","title":"Example Problem","text":"<p>By default, \"full-text\" is treated as two words: \"full\" and \"text\". If you want to treat hyphens as part of words, you need to modify the character set configuration.</p>"},{"location":"mysql-docs/07-fts-tuning/#three_methods_to_modify","title":"Three Methods to Modify","text":""},{"location":"mysql-docs/07-fts-tuning/#method_1_modify_mysql_source_code_advanced","title":"Method 1: Modify MySQL Source Code (Advanced)","text":"<p>Edit <code>storage/innobase/handler/ha_innodb.cc</code> (InnoDB) or <code>storage/myisam/ftdefs.h</code> (MyISAM) and recompile MySQL.</p>"},{"location":"mysql-docs/07-fts-tuning/#method_2_modify_character_set_xml_files_no_recompilation","title":"Method 2: Modify Character Set XML Files (No Recompilation)","text":"<p>Edit the character set definition files to include additional characters as \"letters\".</p>"},{"location":"mysql-docs/07-fts-tuning/#method_3_add_custom_collation_recommended","title":"Method 3: Add Custom Collation (Recommended)","text":"<p>Create a new collation for full-text indexing with custom character definitions.</p>"},{"location":"mysql-docs/07-fts-tuning/#php_example_-_working_with_hyphenated_words","title":"PHP Example - Working with Hyphenated Words","text":"<pre><code>&lt;?php\n$mysqli = new mysqli(\"localhost\", \"root\", \"password\", \"mydb\");\n\n// Problem: Searching for \"full-text\" might not work as expected\n$search = \"full-text\";\n$sql = \"SELECT * FROM articles \n        WHERE MATCH(content) AGAINST(? IN BOOLEAN MODE)\";\n\n$stmt = $mysqli-&gt;prepare($sql);\n$stmt-&gt;bind_param(\"s\", $search);\n$stmt-&gt;execute();\n$result = $stmt-&gt;get_result();\n\necho \"&lt;h3&gt;Results for 'full-text' (may be treated as two words):&lt;/h3&gt;\";\nwhile ($row = $result-&gt;fetch_assoc()) {\n    echo \"- \" . htmlspecialchars($row['title']) . \"&lt;br&gt;\";\n}\n\n// Workaround: Search for both variations\n$search2 = '+full +text';\necho \"&lt;h3&gt;Workaround - searching for both words:&lt;/h3&gt;\";\n$stmt = $mysqli-&gt;prepare($sql);\n$stmt-&gt;bind_param(\"s\", $search2);\n$stmt-&gt;execute();\n$result = $stmt-&gt;get_result();\n\nwhile ($row = $result-&gt;fetch_assoc()) {\n    echo \"- \" . htmlspecialchars($row['title']) . \"&lt;br&gt;\";\n}\n\n$stmt-&gt;close();\n$mysqli-&gt;close();\n?&gt;\n</code></pre>"},{"location":"mysql-docs/07-fts-tuning/#6_optimizing_innodb_full-text_indexes","title":"6. Optimizing InnoDB Full-Text Indexes","text":""},{"location":"mysql-docs/07-fts-tuning/#what_it_does_5","title":"What It Does","text":"<p>Removes deleted Document IDs and consolidates multiple entries for the same word, improving search performance.</p>"},{"location":"mysql-docs/07-fts-tuning/#when_to_optimize","title":"When to Optimize","text":"<ul> <li>After bulk DELETE operations</li> <li>After many INSERT/UPDATE operations</li> <li>Periodically for maintenance</li> </ul>"},{"location":"mysql-docs/07-fts-tuning/#php_example_-_optimizing_full-text_index","title":"PHP Example - Optimizing Full-Text Index","text":"<pre><code>&lt;?php\n$mysqli = new mysqli(\"localhost\", \"root\", \"password\", \"mydb\");\n\n// Enable full-text only optimization\n$mysqli-&gt;query(\"SET GLOBAL innodb_optimize_fulltext_only = ON\");\n\n// Run optimization\n$result = $mysqli-&gt;query(\"OPTIMIZE TABLE articles\");\n$row = $result-&gt;fetch_assoc();\n\necho \"Optimization result: \" . $row['Msg_text'] . \"\\n\";\n\n// Disable full-text only optimization (return to normal)\n$mysqli-&gt;query(\"SET GLOBAL innodb_optimize_fulltext_only = OFF\");\n\n$mysqli-&gt;close();\n?&gt;\n</code></pre>"},{"location":"mysql-docs/07-fts-tuning/#php_example_-_staged_optimization_for_large_tables","title":"PHP Example - Staged Optimization for Large Tables","text":"<pre><code>&lt;?php\n$mysqli = new mysqli(\"localhost\", \"root\", \"password\", \"mydb\");\n\n// For very large tables, optimize in stages\n// This optimizes 2000 words at a time (default)\n$mysqli-&gt;query(\"SET GLOBAL innodb_optimize_fulltext_only = ON\");\n\n// You can adjust how many words to optimize per run\n$mysqli-&gt;query(\"SET GLOBAL innodb_ft_num_word_optimize = 500\");\n\n// Run OPTIMIZE multiple times to process the full index\nfor ($i = 1; $i &lt;= 5; $i++) {\n    echo \"Optimization run $i...\\n\";\n    $mysqli-&gt;query(\"OPTIMIZE TABLE articles\");\n    sleep(1); // Brief pause between runs\n}\n\n// Reset to defaults\n$mysqli-&gt;query(\"SET GLOBAL innodb_ft_num_word_optimize = 2000\");\n$mysqli-&gt;query(\"SET GLOBAL innodb_optimize_fulltext_only = OFF\");\n\n$mysqli-&gt;close();\n?&gt;\n</code></pre>"},{"location":"mysql-docs/07-fts-tuning/#7_rebuilding_full-text_indexes","title":"7. Rebuilding Full-Text Indexes","text":""},{"location":"mysql-docs/07-fts-tuning/#when_to_rebuild","title":"When to Rebuild","text":"<p>You must rebuild FULLTEXT indexes after changing:</p> <ul> <li><code>innodb_ft_min_token_size</code> or <code>ft_min_word_len</code></li> <li><code>innodb_ft_max_token_size</code> or <code>ft_max_word_len</code></li> <li><code>innodb_ft_server_stopword_table</code> or <code>innodb_ft_user_stopword_table</code></li> <li><code>innodb_ft_enable_stopword</code> or <code>ft_stopword_file</code></li> <li><code>ngram_token_size</code></li> </ul>"},{"location":"mysql-docs/07-fts-tuning/#php_example_-_complete_rebuild_process","title":"PHP Example - Complete Rebuild Process","text":"<pre><code>&lt;?php\n$mysqli = new mysqli(\"localhost\", \"root\", \"password\", \"mydb\");\n\nif ($mysqli-&gt;connect_error) {\n    die(\"Connection failed: \" . $mysqli-&gt;connect_error);\n}\n\n$table = \"articles\";\n$column = \"content\";\n$index_name = \"content_idx\";\n\necho \"Starting index rebuild process...\\n\";\n\n// Step 1: Drop the existing FULLTEXT index\necho \"Dropping existing index...\\n\";\n$sql = \"ALTER TABLE $table DROP INDEX $index_name\";\nif ($mysqli-&gt;query($sql)) {\n    echo \"\u2713 Index dropped successfully.\\n\";\n} else {\n    echo \"\u2717 Error dropping index: \" . $mysqli-&gt;error . \"\\n\";\n    exit;\n}\n\n// Step 2: Recreate the FULLTEXT index\necho \"Creating new index...\\n\";\n$sql = \"ALTER TABLE $table ADD FULLTEXT INDEX $index_name ($column)\";\nif ($mysqli-&gt;query($sql)) {\n    echo \"\u2713 Index created successfully.\\n\";\n} else {\n    echo \"\u2717 Error creating index: \" . $mysqli-&gt;error . \"\\n\";\n    exit;\n}\n\necho \"\\nIndex rebuild complete!\\n\";\n\n$mysqli-&gt;close();\n?&gt;\n</code></pre>"},{"location":"mysql-docs/07-fts-tuning/#php_example_-_rebuilding_multiple_indexes","title":"PHP Example - Rebuilding Multiple Indexes","text":"<pre><code>&lt;?php\n$mysqli = new mysqli(\"localhost\", \"root\", \"password\", \"mydb\");\n\n// Define all tables and indexes that need rebuilding\n$indexes = [\n    ['table' =&gt; 'articles', 'index' =&gt; 'content_idx', 'columns' =&gt; 'title, content'],\n    ['table' =&gt; 'blog_posts', 'index' =&gt; 'post_idx', 'columns' =&gt; 'body'],\n    ['table' =&gt; 'products', 'index' =&gt; 'description_idx', 'columns' =&gt; 'description']\n];\n\nforeach ($indexes as $idx) {\n    echo \"Processing {$idx['table']}...\\n\";\n\n    // Drop index\n    $sql = \"ALTER TABLE {$idx['table']} DROP INDEX {$idx['index']}\";\n    if ($mysqli-&gt;query($sql)) {\n        echo \"  \u2713 Dropped {$idx['index']}\\n\";\n    } else {\n        echo \"  \u2717 Error: \" . $mysqli-&gt;error . \"\\n\";\n        continue;\n    }\n\n    // Recreate index\n    $sql = \"ALTER TABLE {$idx['table']} ADD FULLTEXT INDEX {$idx['index']} ({$idx['columns']})\";\n    if ($mysqli-&gt;query($sql)) {\n        echo \"  \u2713 Created {$idx['index']}\\n\";\n    } else {\n        echo \"  \u2717 Error: \" . $mysqli-&gt;error . \"\\n\";\n    }\n\n    echo \"\\n\";\n}\n\necho \"All indexes rebuilt!\\n\";\n\n$mysqli-&gt;close();\n?&gt;\n</code></pre>"},{"location":"mysql-docs/07-fts-tuning/#8_practical_full-text_search_examples","title":"8. Practical Full-Text Search Examples","text":""},{"location":"mysql-docs/07-fts-tuning/#php_example_-_building_a_simple_search_function","title":"PHP Example - Building a Simple Search Function","text":"<pre><code>&lt;?php\nclass FullTextSearch {\n    private $mysqli;\n\n    public function __construct($host, $user, $pass, $db) {\n        $this-&gt;mysqli = new mysqli($host, $user, $pass, $db);\n        if ($this-&gt;mysqli-&gt;connect_error) {\n            die(\"Connection failed: \" . $this-&gt;mysqli-&gt;connect_error);\n        }\n    }\n\n    /**\n     * Natural language search\n     */\n    public function naturalSearch($query, $table, $columns) {\n        $sql = \"SELECT *, \n                MATCH($columns) AGAINST(? IN NATURAL LANGUAGE MODE) AS relevance \n                FROM $table \n                WHERE MATCH($columns) AGAINST(? IN NATURAL LANGUAGE MODE)\n                ORDER BY relevance DESC\";\n\n        $stmt = $this-&gt;mysqli-&gt;prepare($sql);\n        $stmt-&gt;bind_param(\"ss\", $query, $query);\n        $stmt-&gt;execute();\n        return $stmt-&gt;get_result()-&gt;fetch_all(MYSQLI_ASSOC);\n    }\n\n    /**\n     * Boolean search with operators\n     */\n    public function booleanSearch($query, $table, $columns) {\n        $sql = \"SELECT *, \n                MATCH($columns) AGAINST(? IN BOOLEAN MODE) AS relevance \n                FROM $table \n                WHERE MATCH($columns) AGAINST(? IN BOOLEAN MODE)\n                ORDER BY relevance DESC\";\n\n        $stmt = $this-&gt;mysqli-&gt;prepare($sql);\n        $stmt-&gt;bind_param(\"ss\", $query, $query);\n        $stmt-&gt;execute();\n        return $stmt-&gt;get_result()-&gt;fetch_all(MYSQLI_ASSOC);\n    }\n\n    /**\n     * Search with query expansion (finds related terms)\n     */\n    public function queryExpansion($query, $table, $columns) {\n        $sql = \"SELECT *, \n                MATCH($columns) AGAINST(? WITH QUERY EXPANSION) AS relevance \n                FROM $table \n                WHERE MATCH($columns) AGAINST(? WITH QUERY EXPANSION)\n                ORDER BY relevance DESC\";\n\n        $stmt = $this-&gt;mysqli-&gt;prepare($sql);\n        $stmt-&gt;bind_param(\"ss\", $query, $query);\n        $stmt-&gt;execute();\n        return $stmt-&gt;get_result()-&gt;fetch_all(MYSQLI_ASSOC);\n    }\n\n    /**\n     * Get search relevance score without filtering\n     */\n    public function getRelevanceScores($query, $table, $columns, $limit = 10) {\n        $sql = \"SELECT *, \n                MATCH($columns) AGAINST(? IN NATURAL LANGUAGE MODE) AS relevance \n                FROM $table \n                ORDER BY relevance DESC \n                LIMIT ?\";\n\n        $stmt = $this-&gt;mysqli-&gt;prepare($sql);\n        $stmt-&gt;bind_param(\"si\", $query, $limit);\n        $stmt-&gt;execute();\n        return $stmt-&gt;get_result()-&gt;fetch_all(MYSQLI_ASSOC);\n    }\n\n    public function close() {\n        $this-&gt;mysqli-&gt;close();\n    }\n}\n\n// Usage example\n$search = new FullTextSearch(\"localhost\", \"root\", \"password\", \"mydb\");\n\n// Natural language search\n$results = $search-&gt;naturalSearch(\"mysql database optimization\", \"articles\", \"title, content\");\necho \"&lt;h2&gt;Natural Language Results:&lt;/h2&gt;\";\nforeach ($results as $row) {\n    echo \"&lt;div&gt;\";\n    echo \"&lt;h3&gt;\" . htmlspecialchars($row['title']) . \"&lt;/h3&gt;\";\n    echo \"&lt;p&gt;Relevance: \" . $row['relevance'] . \"&lt;/p&gt;\";\n    echo \"&lt;/div&gt;\";\n}\n\n// Boolean search\n$results = $search-&gt;booleanSearch(\"+mysql +performance -oracle\", \"articles\", \"title, content\");\necho \"&lt;h2&gt;Boolean Search Results:&lt;/h2&gt;\";\nforeach ($results as $row) {\n    echo \"&lt;div&gt;\";\n    echo \"&lt;h3&gt;\" . htmlspecialchars($row['title']) . \"&lt;/h3&gt;\";\n    echo \"&lt;p&gt;Relevance: \" . $row['relevance'] . \"&lt;/p&gt;\";\n    echo \"&lt;/div&gt;\";\n}\n\n$search-&gt;close();\n?&gt;\n</code></pre>"},{"location":"mysql-docs/07-fts-tuning/#php_example_-_search_with_pagination","title":"PHP Example - Search with Pagination","text":"<pre><code>&lt;?php\nfunction paginatedSearch($mysqli, $query, $page = 1, $per_page = 10) {\n    $offset = ($page - 1) * $per_page;\n\n    // Get total count\n    $count_sql = \"SELECT COUNT(*) as total FROM articles \n                  WHERE MATCH(title, content) AGAINST(? IN BOOLEAN MODE)\";\n    $stmt = $mysqli-&gt;prepare($count_sql);\n    $stmt-&gt;bind_param(\"s\", $query);\n    $stmt-&gt;execute();\n    $total = $stmt-&gt;get_result()-&gt;fetch_assoc()['total'];\n    $stmt-&gt;close();\n\n    // Get paginated results\n    $sql = \"SELECT *, \n            MATCH(title, content) AGAINST(? IN BOOLEAN MODE) AS relevance \n            FROM articles \n            WHERE MATCH(title, content) AGAINST(? IN BOOLEAN MODE)\n            ORDER BY relevance DESC\n            LIMIT ? OFFSET ?\";\n\n    $stmt = $mysqli-&gt;prepare($sql);\n    $stmt-&gt;bind_param(\"ssii\", $query, $query, $per_page, $offset);\n    $stmt-&gt;execute();\n    $results = $stmt-&gt;get_result()-&gt;fetch_all(MYSQLI_ASSOC);\n    $stmt-&gt;close();\n\n    return [\n        'results' =&gt; $results,\n        'total' =&gt; $total,\n        'page' =&gt; $page,\n        'per_page' =&gt; $per_page,\n        'total_pages' =&gt; ceil($total / $per_page)\n    ];\n}\n\n// Usage\n$mysqli = new mysqli(\"localhost\", \"root\", \"password\", \"mydb\");\n$search_query = \"+mysql +performance\";\n$page = isset($_GET['page']) ? (int)$_GET['page'] : 1;\n\n$data = paginatedSearch($mysqli, $search_query, $page, 10);\n\necho \"&lt;h2&gt;Search Results (Page {$data['page']} of {$data['total_pages']})&lt;/h2&gt;\";\necho \"&lt;p&gt;Found {$data['total']} results&lt;/p&gt;\";\n\nforeach ($data['results'] as $row) {\n    echo \"&lt;div&gt;\";\n    echo \"&lt;h3&gt;\" . htmlspecialchars($row['title']) . \"&lt;/h3&gt;\";\n    echo \"&lt;p&gt;\" . htmlspecialchars(substr($row['content'], 0, 200)) . \"...&lt;/p&gt;\";\n    echo \"&lt;small&gt;Relevance: \" . $row['relevance'] . \"&lt;/small&gt;\";\n    echo \"&lt;/div&gt;&lt;hr&gt;\";\n}\n\n// Pagination links\necho \"&lt;div&gt;\";\nfor ($i = 1; $i &lt;= $data['total_pages']; $i++) {\n    if ($i == $page) {\n        echo \"&lt;strong&gt;$i&lt;/strong&gt; \";\n    } else {\n        echo \"&lt;a href='?page=$i'&gt;$i&lt;/a&gt; \";\n    }\n}\necho \"&lt;/div&gt;\";\n\n$mysqli-&gt;close();\n?&gt;\n</code></pre>"},{"location":"mysql-docs/07-fts-tuning/#9_common_issues_and_solutions","title":"9. Common Issues and Solutions","text":""},{"location":"mysql-docs/07-fts-tuning/#issue_1_search_returns_no_results_for_short_words","title":"Issue 1: Search Returns No Results for Short Words","text":"<p>Problem: Searching for \"AI\" or \"UK\" returns nothing.</p> <p>Solution: Lower the minimum token size (requires server restart and index rebuild).</p> <pre><code>// After configuration change, rebuild index\n$mysqli-&gt;query(\"ALTER TABLE articles DROP INDEX content_idx\");\n$mysqli-&gt;query(\"ALTER TABLE articles ADD FULLTEXT INDEX content_idx (content)\");\n</code></pre>"},{"location":"mysql-docs/07-fts-tuning/#issue_2_common_words_are_ignored","title":"Issue 2: Common Words Are Ignored","text":"<p>Problem: Searching for \"the best database\" ignores \"the\" and \"best\".</p> <p>Solution: Use boolean mode or create custom stopword list.</p> <pre><code>// Use boolean mode\n$query = \"+the +best +database\";\n$sql = \"SELECT * FROM articles \n        WHERE MATCH(content) AGAINST(? IN BOOLEAN MODE)\";\n</code></pre>"},{"location":"mysql-docs/07-fts-tuning/#issue_3_50_threshold_blocks_results_myisam","title":"Issue 3: 50% Threshold Blocks Results (MyISAM)","text":"<p>Problem: Word appears in too many documents and is ignored.</p> <p>Solution: Always use IN BOOLEAN MODE for common terms.</p> <pre><code>// Boolean mode bypasses the 50% threshold\n$sql = \"SELECT * FROM articles \n        WHERE MATCH(content) AGAINST(? IN BOOLEAN MODE)\";\n</code></pre>"},{"location":"mysql-docs/07-fts-tuning/#issue_4_slow_search_performance","title":"Issue 4: Slow Search Performance","text":"<p>Problem: Full-text searches are slow on large tables.</p> <p>Solution: Optimize the full-text index regularly.</p> <pre><code>$mysqli-&gt;query(\"SET GLOBAL innodb_optimize_fulltext_only = ON\");\n$mysqli-&gt;query(\"OPTIMIZE TABLE articles\");\n$mysqli-&gt;query(\"SET GLOBAL innodb_optimize_fulltext_only = OFF\");\n</code></pre>"},{"location":"mysql-docs/07-fts-tuning/#10_best_practices","title":"10. Best Practices","text":""},{"location":"mysql-docs/07-fts-tuning/#1_always_use_prepared_statements","title":"1. Always Use Prepared Statements","text":"<pre><code>// \u2713 GOOD - Protected against SQL injection\n$stmt = $mysqli-&gt;prepare(\"SELECT * FROM articles \n                          WHERE MATCH(content) AGAINST(? IN BOOLEAN MODE)\");\n$stmt-&gt;bind_param(\"s\", $user_input);\n$stmt-&gt;execute();\n\n// \u2717 BAD - Vulnerable to SQL injection\n$sql = \"SELECT * FROM articles \n        WHERE MATCH(content) AGAINST('$user_input' IN BOOLEAN MODE)\";\n</code></pre>"},{"location":"mysql-docs/07-fts-tuning/#2_sanitize_boolean_operators_from_user_input","title":"2. Sanitize Boolean Operators from User Input","text":"<pre><code>function sanitizeBooleanQuery($query) {\n    // Remove potentially problematic characters\n    // while keeping valid boolean operators\n    $query = preg_replace('/[^\\w\\s+\\-\"*()]/', '', $query);\n    return trim($query);\n}\n\n$user_query = sanitizeBooleanQuery($_GET['q']);\n</code></pre>"},{"location":"mysql-docs/07-fts-tuning/#3_add_minimum_query_length","title":"3. Add Minimum Query Length","text":"<pre><code>function search($query) {\n    // Require at least 2 characters\n    if (strlen($query) &lt; 2) {\n        return ['error' =&gt; 'Query too short. Minimum 2 characters.'];\n    }\n\n    // Perform search...\n}\n</code></pre>"},{"location":"mysql-docs/07-fts-tuning/#4_cache_search_results","title":"4. Cache Search Results","text":"<pre><code>function cachedSearch($mysqli, $query, $cache_time = 300) {\n    $cache_key = 'search_' . md5($query);\n    $cache_file = \"/tmp/$cache_key\";\n\n    // Check if cache exists and is fresh\n    if (file_exists($cache_file) &amp;&amp; (time() - filemtime($cache_file)) &lt; $cache_time) {\n        return unserialize(file_get_contents($cache_file));\n    }\n\n    // Perform actual search\n    $stmt = $mysqli-&gt;prepare(\"SELECT * FROM articles \n                              WHERE MATCH(content) AGAINST(? IN BOOLEAN MODE)\");\n    $stmt-&gt;bind_param(\"s\", $query);\n    $stmt-&gt;execute();\n    $results = $stmt-&gt;get_result()-&gt;fetch_all(MYSQLI_ASSOC);\n    $stmt-&gt;close();\n\n    // Cache results\n    file_put_contents($cache_file, serialize($results));\n\n    return $results;\n}\n</code></pre>"},{"location":"mysql-docs/07-fts-tuning/#5_log_slow_queries","title":"5. Log Slow Queries","text":"<pre><code>function logSlowQuery($query, $execution_time) {\n    if ($execution_time &gt; 1.0) { // Log queries taking more than 1 second\n        $log_entry = date('Y-m-d H:i:s') . \" - Slow query ($execution_time s): $query\\n\";\n        file_put_contents('/var/log/mysql_slow_searches.log', $log_entry, FILE_APPEND);\n    }\n}\n\n$start = microtime(true);\n// ... perform search ...\n$execution_time = microtime(true) - $start;\nlogSlowQuery($search_query, $execution_time);\n</code></pre>"},{"location":"mysql-docs/07-fts-tuning/#11_summary_checklist","title":"11. Summary Checklist","text":"<p>Before making changes to FTS configuration:</p> <ul> <li>[ ] Understand the default behavior and why you need to change it</li> <li>[ ] Back up your database</li> <li>[ ] Test configuration changes on a development server first</li> <li>[ ] Plan for server downtime if restart is required</li> <li>[ ] Budget time for index rebuilding (can take hours on large tables)</li> <li>[ ] Document all configuration changes</li> <li>[ ] Monitor search performance after changes</li> </ul> <p>Configuration changes that require restart and rebuild: - [ ] Word length settings (<code>innodb_ft_min_token_size</code>, etc.) - [ ] Stopword tables - [ ] Token size for ngram parser</p> <p>Configuration changes that don't require restart: - [ ] Boolean syntax operators (MyISAM only) - [ ] Session-level stopword settings</p>"},{"location":"mysql-docs/07-fts-tuning/#resources","title":"Resources","text":"<ul> <li>MySQL 8.4 Full-Text Search Documentation: https://dev.mysql.com/doc/refman/8.4/en/fulltext-search.html</li> <li>MySQL 8.4 Fine-Tuning Guide: https://dev.mysql.com/doc/refman/8.4/en/fulltext-fine-tuning.html</li> <li>InnoDB Full-Text Indexes: https://dev.mysql.com/doc/refman/8.4/en/innodb-fulltext-index.html</li> </ul> <p>Remember: Full-text search is powerful, but it's not a replacement for specialized search engines like Elasticsearch or Solr for very large datasets or complex search requirements. Use FTS for moderate-sized applications where you want search functionality without additional infrastructure.</p> <p></p>"},{"location":"rag/agentic-rag/","title":"Agentic RAG:","text":""},{"location":"rag/agentic-rag/#what_is_rag_first","title":"What is RAG First?","text":"<p>RAG stands for Retrieval-Augmented Generation</p> <p>Think of it like an open-book exam: - Traditional AI: Answers only from what it memorized (like a closed-book exam) - RAG: Can look up information in documents before answering (like an open-book exam)</p>"},{"location":"rag/agentic-rag/#basic_rag_flow","title":"Basic RAG Flow:","text":"<ol> <li>User asks a question: \"What was our Q3 revenue?\"</li> <li>Retrieval: System searches documents and finds relevant information</li> <li>Augmentation: Adds the retrieved info to the AI's context</li> <li>Generation: AI generates an answer using both its knowledge AND the retrieved documents</li> </ol>"},{"location":"rag/agentic-rag/#what_is_agentic_rag","title":"What is Agentic RAG?","text":"<p>Agentic RAG = RAG + Agency (autonomous decision-making)</p> <p>Instead of just one simple retrieve-and-answer step, the AI acts like an intelligent agent that: - Plans its approach - Decides which sources to check - Determines if it needs more information - Iteratively refines its search - Validates its findings</p>"},{"location":"rag/agentic-rag/#the_key_difference","title":"The Key Difference:","text":"<p>Basic RAG (Passive): <pre><code>Question \u2192 Retrieve docs \u2192 Generate answer\n</code></pre></p> <p>Agentic RAG (Active): <pre><code>Question \u2192 Plan approach \u2192 Retrieve \u2192 Evaluate \u2192 Need more? \u2192 Retrieve again \u2192 Synthesize \u2192 Verify \u2192 Answer\n</code></pre></p>"},{"location":"rag/agentic-rag/#real-world_example","title":"Real-World Example","text":""},{"location":"rag/agentic-rag/#scenario_student_asks_compare_the_economic_policies_of_the_last_three_presidents","title":"Scenario: Student asks \"Compare the economic policies of the last three presidents\"","text":"<p>Basic RAG would: 1. Search for \"economic policies presidents\" 2. Retrieve top 5 documents 3. Generate answer from those documents 4. Done \u2713</p> <p>Agentic RAG would: 1. Plan: \"I need info on 3 different presidents, so I should search for each separately\" 2. Execute searches:    - Search \"Biden economic policy\"    - Search \"Trump economic policy\"    - Search \"Obama economic policy\" 3. Evaluate: \"Do I have enough detail on fiscal policy? What about trade?\" 4. Refine searches:    - Search \"Biden fiscal policy tax\"    - Search \"Trump trade tariffs\" 5. Synthesize: Organize findings into coherent comparison 6. Verify: Check if any claims conflict, cross-reference sources 7. Generate: Produce comprehensive answer</p>"},{"location":"rag/agentic-rag/#core_components_of_agentic_rag","title":"Core Components of Agentic RAG","text":""},{"location":"rag/agentic-rag/#1_planning_reasoning","title":"1. Planning &amp; Reasoning","text":"<p>The agent breaks down complex questions into sub-tasks</p> <pre><code>Question: \"How has remote work affected tech company productivity?\"\n\nAgent's Plan:\n- Sub-task 1: Find data on remote work adoption in tech\n- Sub-task 2: Find productivity metrics before/after\n- Sub-task 3: Find expert opinions on causation\n- Sub-task 4: Synthesize findings\n</code></pre>"},{"location":"rag/agentic-rag/#2_tool_use","title":"2. Tool Use","text":"<p>The agent can use multiple tools, not just simple search</p> <p>Available Tools: - Semantic search (find similar concepts) - Keyword search (find exact terms) - SQL queries (structured data) - Web search (current info) - Calculator (compute statistics) - Code execution (analyze data)</p>"},{"location":"rag/agentic-rag/#3_iterative_retrieval","title":"3. Iterative Retrieval","text":"<p>The agent can retrieve multiple times based on what it learns</p> <pre><code>Initial query \u2192 Find gap in knowledge \u2192 Targeted follow-up query \u2192 Still missing something? \u2192 Another query\n</code></pre>"},{"location":"rag/agentic-rag/#4_self-reflection","title":"4. Self-Reflection","text":"<p>The agent evaluates its own answers</p> <p>Questions the agent asks itself: - \"Did I answer the full question?\" - \"Do I have enough evidence?\" - \"Are there contradictions I need to resolve?\" - \"Should I search for more recent information?\"</p>"},{"location":"rag/agentic-rag/#5_source_validation","title":"5. Source Validation","text":"<p>The agent checks credibility and consistency</p> <p>Agent might: - Cross-reference multiple sources - Prioritize peer-reviewed sources - Flag conflicting information - Note when sources are outdated</p>"},{"location":"rag/agentic-rag/#architecture_comparison","title":"Architecture Comparison","text":""},{"location":"rag/agentic-rag/#traditional_rag_architecture","title":"Traditional RAG Architecture:","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 User Query  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502\n       \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Embed Query    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502\n       \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Retrieve Docs   \u2502 (One-shot retrieval)\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502\n       \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Generate Answer \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"rag/agentic-rag/#agentic_rag_architecture","title":"Agentic RAG Architecture:","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 User Query  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502\n       \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Agent Planner  \u2502 \u2190 Plans multi-step approach\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502\n       \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502     Reasoning Loop              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u2502\n\u2502  \u2502 1. Choose Tool      \u2502       \u2502\n\u2502  \u2502 2. Execute Action   \u2502\u25c4\u2500\u2500\u2510   \u2502\n\u2502  \u2502 3. Evaluate Result  \u2502   \u2502   \u2502\n\u2502  \u2502 4. Need more? \u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502   \u2502\n\u2502                             \u2502   \u2502\n\u2502  Tools Available:           \u2502   \u2502\n\u2502  \u2022 Semantic Search          \u2502   \u2502\n\u2502  \u2022 Keyword Search           \u2502   \u2502\n\u2502  \u2022 Web Search              \u2502   \u2502\n\u2502  \u2022 SQL Query               \u2502   \u2502\n\u2502  \u2022 Calculator              \u2502   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n              \u2502\n              \u25bc\n     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n     \u2502 Synthesize &amp;    \u2502\n     \u2502 Generate Answer \u2502\n     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"rag/agentic-rag/#key_advantages_of_agentic_rag","title":"Key Advantages of Agentic RAG","text":""},{"location":"rag/agentic-rag/#1_handles_complex_queries","title":"1. Handles Complex Queries","text":"<p>Can break down multi-part questions and answer them systematically</p> <p>Example: - Question: \"What are the pros and cons of our competitor's pricing strategy, and how should we respond?\" - Agent: Searches for competitor pricing \u2192 Analyzes pros/cons \u2192 Searches for our pricing \u2192 Formulates recommendations</p>"},{"location":"rag/agentic-rag/#2_reduces_hallucinations","title":"2. Reduces Hallucinations","text":"<p>Can verify its own answers and search for contradictory evidence</p>"},{"location":"rag/agentic-rag/#3_adapts_to_context","title":"3. Adapts to Context","text":"<p>Chooses different strategies based on the question type</p> <ul> <li>Factual question \u2192 Quick keyword search</li> <li>Analytical question \u2192 Multiple searches + synthesis</li> <li>Recent events \u2192 Web search first</li> <li>Technical question \u2192 Look in specific documentation</li> </ul>"},{"location":"rag/agentic-rag/#4_provides_better_transparency","title":"4. Provides Better Transparency","text":"<p>Shows its reasoning process and which sources it used</p>"},{"location":"rag/agentic-rag/#5_self-corrects","title":"5. Self-Corrects","text":"<p>If initial retrieval doesn't answer the question, it can try different approaches</p>"},{"location":"rag/agentic-rag/#common_agentic_rag_patterns","title":"Common Agentic RAG Patterns","text":""},{"location":"rag/agentic-rag/#pattern_1_react_reasoning_acting","title":"Pattern 1: ReAct (Reasoning + Acting)","text":"<p>The agent alternates between reasoning about what to do next and taking actions</p> <pre><code>Thought: I need to find the latest sales data\nAction: search_documents(\"Q4 2024 sales\")\nObservation: Found revenue numbers but not profit margins\nThought: I need profit data too\nAction: search_documents(\"Q4 2024 profit margin\")\nObservation: Found profit margins\nThought: Now I can calculate the answer\nAction: calculate(revenue, margin)\nAnswer: [Final response]\n</code></pre>"},{"location":"rag/agentic-rag/#pattern_2_plan-and-execute","title":"Pattern 2: Plan-and-Execute","text":"<p>Agent makes a complete plan first, then executes it</p> <pre><code>Plan:\n  Step 1: Get historical data (2020-2024)\n  Step 2: Get current quarter data\n  Step 3: Calculate growth rate\n  Step 4: Compare to industry average\n\nExecute each step...\n</code></pre>"},{"location":"rag/agentic-rag/#pattern_3_self-ask","title":"Pattern 3: Self-Ask","text":"<p>Agent generates and answers sub-questions</p> <pre><code>Main Question: \"Why did our customer churn increase?\"\n\nSub-Q1: What was the churn rate? \u2192 Search &amp; Answer\nSub-Q2: When did it start increasing? \u2192 Search &amp; Answer  \nSub-Q3: What changed around that time? \u2192 Search &amp; Answer\nSub-Q4: What do customers say? \u2192 Search reviews \u2192 Answer\n\nFinal Answer: [Synthesized from all sub-answers]\n</code></pre>"},{"location":"rag/agentic-rag/#building_a_simple_agentic_rag_conceptual","title":"Building a Simple Agentic RAG (Conceptual)","text":"<p>Here's a simplified Python-like pseudocode:</p> <pre><code>class AgenticRAG:\n    def __init__(self):\n        self.tools = {\n            'search': self.search_documents,\n            'web_search': self.search_web,\n            'calculate': self.calculator\n        }\n\n    def answer_question(self, question):\n        # 1. Plan\n        plan = self.create_plan(question)\n\n        # 2. Execute with reasoning loop\n        context = []\n        for step in plan:\n            # Reason about what to do\n            thought = self.reason(step, context)\n\n            # Choose and use a tool\n            tool = self.choose_tool(thought)\n            result = self.tools[tool](step)\n\n            # Evaluate if we have enough\n            context.append(result)\n            if self.evaluate_sufficiency(question, context):\n                break\n\n            # Otherwise, refine and continue\n            plan = self.refine_plan(plan, context)\n\n        # 3. Synthesize final answer\n        answer = self.generate_answer(question, context)\n\n        # 4. Verify answer quality\n        if not self.verify_answer(answer, context):\n            # Try a different approach\n            return self.answer_question(question)  # Retry\n\n        return answer\n\n    def reason(self, step, context):\n        \"\"\"Think about what information we need\"\"\"\n        return f\"To complete {step}, I need to...\"\n\n    def choose_tool(self, thought):\n        \"\"\"Decide which tool to use\"\"\"\n        if \"recent\" in thought:\n            return 'web_search'\n        elif \"calculate\" in thought:\n            return 'calculate'\n        else:\n            return 'search'\n\n    def evaluate_sufficiency(self, question, context):\n        \"\"\"Do we have enough information?\"\"\"\n        # Check if all parts of question are covered\n        return self.coverage_check(question, context) &gt; 0.9\n</code></pre>"},{"location":"rag/agentic-rag/#when_to_use_agentic_rag_vs_basic_rag","title":"When to Use Agentic RAG vs. Basic RAG","text":""},{"location":"rag/agentic-rag/#use_basic_rag_when","title":"Use Basic RAG when:","text":"<ul> <li>Simple factual lookups (\"What is the capital of France?\")</li> <li>Single-source answers (\"What does page 5 of the manual say?\")</li> <li>Speed is critical</li> <li>Questions are straightforward</li> </ul>"},{"location":"rag/agentic-rag/#use_agentic_rag_when","title":"Use Agentic RAG when:","text":"<ul> <li>Complex, multi-part questions</li> <li>Comparative analysis needed</li> <li>Answer requires synthesis from multiple sources</li> <li>Query is ambiguous and needs clarification</li> <li>Need to verify conflicting information</li> <li>Research-style questions</li> </ul>"},{"location":"rag/agentic-rag/#real-world_applications","title":"Real-World Applications","text":""},{"location":"rag/agentic-rag/#1_customer_support","title":"1. Customer Support","text":"<ul> <li>Agentic RAG can search FAQs, product docs, ticket history</li> <li>Self-corrects if first answer doesn't match the issue</li> <li>Escalates if it can't find solution</li> </ul>"},{"location":"rag/agentic-rag/#2_research_assistant","title":"2. Research Assistant","text":"<ul> <li>Breaks down research questions</li> <li>Searches multiple databases</li> <li>Cross-references findings</li> <li>Produces literature review</li> </ul>"},{"location":"rag/agentic-rag/#3_legal_document_analysis","title":"3. Legal Document Analysis","text":"<ul> <li>Searches case law, statutes, precedents</li> <li>Identifies contradictions</li> <li>Builds comprehensive legal argument</li> </ul>"},{"location":"rag/agentic-rag/#4_business_intelligence","title":"4. Business Intelligence","text":"<ul> <li>Queries multiple data sources</li> <li>Performs calculations</li> <li>Generates insights with supporting evidence</li> </ul>"},{"location":"rag/agentic-rag/#challenges_limitations","title":"Challenges &amp; Limitations","text":""},{"location":"rag/agentic-rag/#1_latency","title":"1. Latency","text":"<p>Multiple retrieval steps take more time than single retrieval</p> <p>Solution: Balance between thoroughness and speed</p>"},{"location":"rag/agentic-rag/#2_cost","title":"2. Cost","text":"<p>More LLM calls = higher API costs</p> <p>Solution: Set limits on reasoning iterations</p>"},{"location":"rag/agentic-rag/#3_complexity","title":"3. Complexity","text":"<p>Harder to debug and predict behavior</p> <p>Solution: Log agent's reasoning process</p>"},{"location":"rag/agentic-rag/#4_looping","title":"4. Looping","text":"<p>Agent might get stuck in repetitive searches</p> <p>Solution: Set maximum iterations, detect loops</p>"},{"location":"rag/agentic-rag/#future_of_agentic_rag","title":"Future of Agentic RAG","text":"<p>Emerging trends: - Multi-agent systems (multiple specialized agents working together) - Memory systems (agents remember past interactions) - Fine-tuned models for specific reasoning tasks - Better evaluation metrics for agent performance - Integration with external APIs and tools</p>"},{"location":"rag/agentic-rag/#key_takeaways","title":"Key Takeaways","text":"<ol> <li>Basic RAG = Retrieve once, generate answer</li> <li>Agentic RAG = Plan, retrieve iteratively, reason, verify, then answer</li> <li>Agency means the AI makes autonomous decisions about how to find information</li> <li>Best for complex questions requiring multi-step reasoning</li> <li>Trade-off between answer quality and speed/cost</li> </ol>"},{"location":"rag/agentic-rag/#practice_questions_for_students","title":"Practice Questions for Students","text":"<ol> <li> <p>Scenario Analysis: Given the question \"Compare our product reviews to competitors\", describe how an agentic RAG system would approach this vs. basic RAG.</p> </li> <li> <p>Design Challenge: Design an agentic RAG system for a medical diagnosis assistant. What tools would it need? What safety measures?</p> </li> <li> <p>Critical Thinking: When might agentic RAG make things worse instead of better? What questions are better suited for basic RAG?</p> </li> <li> <p>Implementation: Sketch out the agent's reasoning loop for: \"Why did our website traffic drop last month?\"</p> </li> </ol>"},{"location":"rag/agentic-rag/#additional_resources","title":"Additional Resources","text":"<ul> <li>LangChain: Popular framework for building agentic RAG systems</li> <li>LlamaIndex: Another framework with built-in agent capabilities  </li> <li>Papers: \"ReAct: Synergizing Reasoning and Acting in Language Models\"</li> <li>Tools: OpenAI Assistants API, Anthropic's Claude with tools</li> </ul>"},{"location":"rag/rag-overview/","title":"RAG (Retrieval-Augmented Generation)","text":""},{"location":"rag/rag-overview/#what_is_rag","title":"What is RAG?","text":"<p>RAG stands for Retrieval-Augmented Generation</p> <p>It's a technique that enhances AI language models by giving them access to external information sources. Instead of relying solely on their training data, RAG systems can look up relevant information before generating responses.</p>"},{"location":"rag/rag-overview/#the_core_idea","title":"The Core Idea","text":"<p>Think of RAG like the difference between: - Closed-book exam: You only know what you memorized - Open-book exam: You can look things up in textbooks before answering</p> <p>Traditional AI models work like closed-book exams. RAG makes them work like open-book exams.</p>"},{"location":"rag/rag-overview/#why_do_we_need_rag","title":"Why Do We Need RAG?","text":""},{"location":"rag/rag-overview/#problems_with_traditional_llms_large_language_models","title":"Problems with Traditional LLMs (Large Language Models)","text":"<ol> <li>Knowledge Cutoff: Models only know information from their training data</li> <li> <p>GPT-4 trained on data up to April 2023 doesn't know what happened yesterday</p> </li> <li> <p>Hallucinations: Models sometimes make up plausible-sounding but incorrect information</p> </li> <li> <p>\"The Eiffel Tower is 500 meters tall\" (it's actually 330m)</p> </li> <li> <p>No Domain-Specific Knowledge: Can't access your company's private documents</p> </li> <li> <p>Your internal policies, procedures, customer data</p> </li> <li> <p>Can't Update Easily: Retraining models is expensive and time-consuming</p> </li> <li>Would need billions of dollars and months to update knowledge</li> </ol>"},{"location":"rag/rag-overview/#how_rag_solves_these_problems","title":"How RAG Solves These Problems","text":"<p>\u2705 Up-to-date information: Retrieve from current sources \u2705 Grounded answers: Responses based on actual documents, not made-up facts \u2705 Domain expertise: Access your private knowledge base \u2705 Easy updates: Just update your document database, no model retraining needed \u2705 Source attribution: Can cite where information came from  </p>"},{"location":"rag/rag-overview/#how_rag_works_the_complete_flow","title":"How RAG Works: The Complete Flow","text":""},{"location":"rag/rag-overview/#step-by-step_process","title":"Step-by-Step Process","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                     1. INDEXING PHASE                    \u2502\n\u2502                   (Done once, offline)                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                            \u2502\n                            \u25bc\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502   Collect Documents               \u2502\n        \u2502   (PDFs, websites, databases)     \u2502\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2502\n                    \u25bc\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502   Split into Chunks               \u2502\n        \u2502   (Break into smaller pieces)     \u2502\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2502\n                    \u25bc\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502   Create Embeddings               \u2502\n        \u2502   (Convert text to numbers)       \u2502\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2502\n                    \u25bc\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502   Store in Vector Database        \u2502\n        \u2502   (Save for fast searching)       \u2502\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   2. QUERY PHASE                         \u2502\n\u2502                  (Done every query)                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                            \u2502\n                            \u25bc\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502   User asks a question            \u2502\n        \u2502   \"What is our refund policy?\"    \u2502\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2502\n                    \u25bc\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502   Convert question to embedding   \u2502\n        \u2502   (Same process as documents)     \u2502\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2502\n                    \u25bc\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502   Search Vector Database          \u2502\n        \u2502   (Find most similar chunks)      \u2502\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2502\n                    \u25bc\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502   Retrieve Top K Documents        \u2502\n        \u2502   (e.g., top 5 most relevant)     \u2502\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2502\n                    \u25bc\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502   Combine Question + Documents    \u2502\n        \u2502   (Create augmented prompt)       \u2502\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2502\n                    \u25bc\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502   Send to LLM                     \u2502\n        \u2502   (GPT, Claude, etc.)             \u2502\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2502\n                    \u25bc\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502   Generate Answer                 \u2502\n        \u2502   (Based on retrieved context)    \u2502\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"rag/rag-overview/#deep_dive_each_component","title":"Deep Dive: Each Component","text":""},{"location":"rag/rag-overview/#1_document_preparation","title":"1. Document Preparation","text":"<p>Document Sources: - PDF files - Word documents - Websites/web pages - Databases - APIs - Email archives - Chat logs</p> <p>Chunking Strategy:</p> <p>Why chunk? Because: - LLMs have token limits (can't process entire books) - Smaller chunks = more precise retrieval - Better matching between questions and relevant text</p> <p>Common chunking methods:</p> <pre><code># Fixed-size chunking (simple)\nchunk_size = 500 words\noverlap = 50 words  # Prevent cutting sentences\n\n# Semantic chunking (smarter)\n# Split by paragraphs, sections, or topics\n# Keeps related information together\n</code></pre> <p>Example: <pre><code>Original Document (2000 words)\n        \u2193\nChunk 1 (words 1-500)\nChunk 2 (words 450-950)    \u2190 50 word overlap\nChunk 3 (words 900-1400)   \u2190 50 word overlap\nChunk 4 (words 1350-1850)\n...\n</code></pre></p>"},{"location":"rag/rag-overview/#2_embeddings_the_magic_behind_rag","title":"2. Embeddings: The Magic Behind RAG","text":"<p>What are embeddings?</p> <p>Embeddings convert text into numbers (vectors) that capture meaning.</p> <pre><code>\"dog\" \u2192 [0.2, 0.8, 0.1, 0.4, ...]  (768 numbers)\n\"puppy\" \u2192 [0.25, 0.75, 0.15, 0.42, ...]  (similar numbers!)\n\"car\" \u2192 [0.9, 0.1, 0.7, 0.2, ...]  (different numbers)\n</code></pre> <p>Key property: Similar meanings = similar numbers</p> <p>This means we can find similar text by comparing numbers!</p> <p>Popular embedding models: - OpenAI's text-embedding-ada-002 - Sentence-BERT - Google's Universal Sentence Encoder - Cohere embeddings</p> <p>Dimensions matter: - Small (384): Fast, less accurate - Medium (768): Good balance - Large (1536): More accurate, slower</p>"},{"location":"rag/rag-overview/#3_vector_database","title":"3. Vector Database","text":"<p>What is it?</p> <p>A specialized database optimized for storing and searching vectors (embeddings).</p> <p>Why not use regular databases?</p> <p>Finding similar vectors requires comparing millions of numbers. Vector databases use clever algorithms (like HNSW, IVF) to search quickly.</p> <p>Popular vector databases: - Pinecone: Managed, cloud-based - Weaviate: Open-source, feature-rich - Chroma: Simple, lightweight - Qdrant: Fast, written in Rust - FAISS: Facebook's library, very fast - Milvus: Scalable, open-source</p> <p>What they store: <pre><code>{\n  \"id\": \"doc_123_chunk_5\",\n  \"embedding\": [0.2, 0.8, ...],\n  \"text\": \"Our refund policy allows...\",\n  \"metadata\": {\n    \"source\": \"policy_doc.pdf\",\n    \"page\": 5,\n    \"date\": \"2024-01-15\"\n  }\n}\n</code></pre></p>"},{"location":"rag/rag-overview/#4_retrieval_process","title":"4. Retrieval Process","text":"<p>Similarity Search:</p> <p>When user asks: \"What is your refund policy?\"</p> <ol> <li>Convert question to embedding: [0.21, 0.79, ...]</li> <li>Find nearest neighbor vectors in database</li> <li>Return top K most similar chunks</li> </ol> <p>Distance metrics: - Cosine similarity: Measures angle between vectors (most common) - Euclidean distance: Straight-line distance - Dot product: Fast, works well for normalized vectors</p> <p>Example retrieval: <pre><code>Query: \"refund policy\"\n\nTop 3 Results:\n1. Score: 0.92 \u2192 \"Our refund policy allows returns within 30 days...\"\n2. Score: 0.87 \u2192 \"To request a refund, please email support@...\"\n3. Score: 0.81 \u2192 \"Refunds are processed within 5-7 business days...\"\n</code></pre></p>"},{"location":"rag/rag-overview/#5_augmented_generation","title":"5. Augmented Generation","text":"<p>Building the Prompt:</p> <p>The retrieved documents are added to the LLM prompt:</p> <pre><code>System: You are a helpful assistant. Answer based on the provided context.\n\nContext:\n---\nDocument 1: Our refund policy allows returns within 30 days of purchase...\nDocument 2: To request a refund, please email support@company.com...\nDocument 3: Refunds are processed within 5-7 business days...\n---\n\nUser Question: What is your refund policy?\n\nInstructions: Answer the question using ONLY the information in the context above.\nIf the context doesn't contain the answer, say \"I don't have that information.\"\n</code></pre> <p>The LLM then generates:</p> <p>\"Our refund policy allows returns within 30 days of purchase. To request a refund,  email support@company.com. Refunds are typically processed within 5-7 business days.\"</p>"},{"location":"rag/rag-overview/#rag_architecture_patterns","title":"RAG Architecture Patterns","text":""},{"location":"rag/rag-overview/#pattern_1_naive_rag_basic","title":"Pattern 1: Naive RAG (Basic)","text":"<pre><code>Query \u2192 Embed \u2192 Search \u2192 Retrieve \u2192 Augment Prompt \u2192 Generate\n</code></pre> <p>Pros: Simple, fast Cons: May retrieve irrelevant docs, no refinement</p>"},{"location":"rag/rag-overview/#pattern_2_advanced_rag","title":"Pattern 2: Advanced RAG","text":"<p>Adds pre-retrieval and post-retrieval processing:</p> <pre><code>Query \n  \u2192 Query Rewriting (improve search)\n  \u2192 Embed\n  \u2192 Search\n  \u2192 Retrieve\n  \u2192 Re-rank Results (reorder by relevance)\n  \u2192 Filter &amp; Deduplicate\n  \u2192 Augment Prompt\n  \u2192 Generate\n  \u2192 Cite Sources\n</code></pre> <p>Improvements: - Query rewriting: \"refund policy\" \u2192 \"return and refund procedures\" - Re-ranking: Use a more powerful model to re-score results - Filtering: Remove low-quality or redundant chunks - Citation: Link answer to specific sources</p>"},{"location":"rag/rag-overview/#pattern_3_modular_rag","title":"Pattern 3: Modular RAG","text":"<p>Mix and match components for specific needs:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Query Module      \u2502 \u2190 Query expansion, decomposition\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Retrieval Module   \u2502 \u2190 Multiple retrievers (semantic, keyword, SQL)\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Ranking Module    \u2502 \u2190 Re-rank, filter, diversify\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Generation Module   \u2502 \u2190 Generate with citations\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"rag/rag-overview/#implementation_example_python","title":"Implementation Example (Python)","text":""},{"location":"rag/rag-overview/#simple_rag_with_langchain","title":"Simple RAG with LangChain","text":"<pre><code>from langchain.document_loaders import PyPDFLoader\nfrom langchain.text_splitter import RecursiveCharacterTextSplitter\nfrom langchain.embeddings import OpenAIEmbeddings\nfrom langchain.vectorstores import Chroma\nfrom langchain.chains import RetrievalQA\nfrom langchain.llms import OpenAI\n\n# 1. Load documents\nloader = PyPDFLoader(\"company_policy.pdf\")\ndocuments = loader.load()\n\n# 2. Split into chunks\ntext_splitter = RecursiveCharacterTextSplitter(\n    chunk_size=1000,\n    chunk_overlap=200\n)\nchunks = text_splitter.split_documents(documents)\n\n# 3. Create embeddings and store in vector DB\nembeddings = OpenAIEmbeddings()\nvectorstore = Chroma.from_documents(\n    documents=chunks,\n    embedding=embeddings\n)\n\n# 4. Create retrieval chain\nqa_chain = RetrievalQA.from_chain_type(\n    llm=OpenAI(temperature=0),\n    chain_type=\"stuff\",\n    retriever=vectorstore.as_retriever(search_kwargs={\"k\": 3})\n)\n\n# 5. Ask questions\nquestion = \"What is the refund policy?\"\nanswer = qa_chain.run(question)\nprint(answer)\n</code></pre>"},{"location":"rag/rag-overview/#simple_rag_from_scratch","title":"Simple RAG from Scratch","text":"<pre><code>import numpy as np\nfrom sentence_transformers import SentenceTransformer\nimport openai\n\n# 1. Initialize embedding model\nembedder = SentenceTransformer('all-MiniLM-L6-v2')\n\n# 2. Prepare documents\ndocuments = [\n    \"Our refund policy allows returns within 30 days.\",\n    \"Shipping takes 3-5 business days.\",\n    \"Customer service is available 24/7.\"\n]\n\n# 3. Create embeddings\ndoc_embeddings = embedder.encode(documents)\n\n# 4. User query\nquery = \"What is the return policy?\"\nquery_embedding = embedder.encode([query])[0]\n\n# 5. Find most similar documents (cosine similarity)\nsimilarities = np.dot(doc_embeddings, query_embedding)\ntop_k = 2\ntop_indices = np.argsort(similarities)[-top_k:][::-1]\n\n# 6. Retrieve relevant docs\nretrieved_docs = [documents[i] for i in top_indices]\n\n# 7. Create augmented prompt\ncontext = \"\\n\".join(retrieved_docs)\nprompt = f\"\"\"Answer the question based on the context below.\n\nContext:\n{context}\n\nQuestion: {query}\n\nAnswer:\"\"\"\n\n# 8. Generate answer\nresponse = openai.ChatCompletion.create(\n    model=\"gpt-3.5-turbo\",\n    messages=[{\"role\": \"user\", \"content\": prompt}]\n)\n\nprint(response.choices[0].message.content)\n</code></pre>"},{"location":"rag/rag-overview/#advanced_rag_techniques","title":"Advanced RAG Techniques","text":""},{"location":"rag/rag-overview/#1_hybrid_search","title":"1. Hybrid Search","text":"<p>Combine semantic search with keyword search:</p> <pre><code># Semantic search (embeddings)\nsemantic_results = vectorstore.similarity_search(query, k=5)\n\n# Keyword search (BM25)\nkeyword_results = bm25.search(query, k=5)\n\n# Combine and re-rank\nfinal_results = rerank(semantic_results + keyword_results)\n</code></pre> <p>Why? Semantic search understands meaning, keyword search finds exact matches.</p>"},{"location":"rag/rag-overview/#2_query_transformation","title":"2. Query Transformation","text":"<p>Improve retrieval by rewriting queries:</p> <p>Original: \"How do I return stuff?\" Rewritten: \"What is the product return and refund process?\"</p> <p>Techniques: - Query expansion (add synonyms) - Query decomposition (break complex queries into sub-queries) - Step-back prompting (ask more general question first)</p>"},{"location":"rag/rag-overview/#3_re-ranking","title":"3. Re-ranking","text":"<p>Use a more sophisticated model to re-score retrieved documents:</p> <pre><code># Initial retrieval (fast, lower quality)\ninitial_results = vectorstore.similarity_search(query, k=20)\n\n# Re-rank with better model (slower, higher quality)\nreranked = cross_encoder.rank(query, initial_results)\nfinal_results = reranked[:5]  # Take top 5\n</code></pre>"},{"location":"rag/rag-overview/#4_multi-query_rag","title":"4. Multi-Query RAG","text":"<p>Generate multiple variations of the user's question:</p> <pre><code>Original: \"What's the refund policy?\"\n\nGenerated queries:\n- \"How do I get a refund?\"\n- \"What is the return procedure?\"\n- \"Can I get my money back?\"\n\n\u2192 Retrieve docs for all queries\n\u2192 Combine and deduplicate\n\u2192 Generate answer from broader context\n</code></pre>"},{"location":"rag/rag-overview/#5_contextual_compression","title":"5. Contextual Compression","text":"<p>Remove irrelevant parts of retrieved documents:</p> <pre><code># Retrieved chunk (500 words)\nchunk = \"Our company was founded in 1990... [lots of text] ...Our refund \n         policy allows 30-day returns...\"\n\n# Compress to relevant parts only\ncompressed = compressor.compress(chunk, query)\n# Result: \"Our refund policy allows 30-day returns...\"\n</code></pre>"},{"location":"rag/rag-overview/#6_metadata_filtering","title":"6. Metadata Filtering","text":"<p>Add filters to retrieval:</p> <pre><code># Filter by date\nresults = vectorstore.similarity_search(\n    query,\n    filter={\"date\": {\"$gte\": \"2024-01-01\"}}\n)\n\n# Filter by source\nresults = vectorstore.similarity_search(\n    query,\n    filter={\"source\": \"official_policy.pdf\"}\n)\n</code></pre>"},{"location":"rag/rag-overview/#evaluation_metrics_for_rag","title":"Evaluation Metrics for RAG","text":""},{"location":"rag/rag-overview/#retrieval_quality","title":"Retrieval Quality","text":"<p>1. Recall@K - What % of relevant documents are in the top K results? - Recall@5 = 80% means 4 out of 5 relevant docs were retrieved</p> <p>2. Precision@K - What % of retrieved documents are actually relevant? - Precision@5 = 60% means 3 out of 5 retrieved docs were relevant</p> <p>3. Mean Reciprocal Rank (MRR) - Average position of the first relevant document - Higher is better</p> <p>4. NDCG (Normalized Discounted Cumulative Gain) - Considers ranking quality (better docs should rank higher)</p>"},{"location":"rag/rag-overview/#generation_quality","title":"Generation Quality","text":"<p>1. Faithfulness - Is the answer supported by the retrieved documents? - No hallucinations</p> <p>2. Answer Relevance - Does the answer address the question?</p> <p>3. Context Relevance - Are the retrieved documents actually relevant?</p> <p>4. BLEU/ROUGE - Compare generated answer to reference answer</p>"},{"location":"rag/rag-overview/#end-to-end_evaluation","title":"End-to-End Evaluation","text":"<p>RAGAS (RAG Assessment) - Combines multiple metrics - Evaluates retrieval and generation together</p> <pre><code>from ragas import evaluate\nfrom ragas.metrics import faithfulness, answer_relevance\n\nresult = evaluate(\n    dataset=test_dataset,\n    metrics=[faithfulness, answer_relevance]\n)\n</code></pre>"},{"location":"rag/rag-overview/#common_rag_challenges_solutions","title":"Common RAG Challenges &amp; Solutions","text":""},{"location":"rag/rag-overview/#challenge_1_poor_retrieval_quality","title":"Challenge 1: Poor Retrieval Quality","text":"<p>Problem: System retrieves irrelevant documents</p> <p>Solutions: - Improve chunking strategy (smaller/larger chunks) - Use better embedding models - Implement hybrid search (semantic + keyword) - Add metadata filtering - Fine-tune embedding model on your domain</p>"},{"location":"rag/rag-overview/#challenge_2_lost_in_the_middle","title":"Challenge 2: Lost in the Middle","text":"<p>Problem: LLMs pay more attention to beginning/end of context, ignore middle</p> <p>Solutions: - Re-order chunks (put most relevant first and last) - Reduce number of retrieved documents - Use summarization before generation</p>"},{"location":"rag/rag-overview/#challenge_3_hallucinations_despite_context","title":"Challenge 3: Hallucinations Despite Context","text":"<p>Problem: LLM still makes things up even with retrieved docs</p> <p>Solutions: - Stronger system prompt: \"ONLY use provided context\" - Ask LLM to quote sources - Use structured output format - Implement fact-checking step</p>"},{"location":"rag/rag-overview/#challenge_4_outdated_information","title":"Challenge 4: Outdated Information","text":"<p>Problem: Vector DB contains old information</p> <p>Solutions: - Regular re-indexing schedule - Add timestamps to documents - Implement cache invalidation - Hybrid approach: RAG + web search for recent info</p>"},{"location":"rag/rag-overview/#challenge_5_scalability","title":"Challenge 5: Scalability","text":"<p>Problem: Slow with millions of documents</p> <p>Solutions: - Use approximate nearest neighbor search (ANN) - Implement hierarchical indexing - Use metadata pre-filtering - Distributed vector databases - GPU acceleration</p>"},{"location":"rag/rag-overview/#challenge_6_multi-hop_questions","title":"Challenge 6: Multi-hop Questions","text":"<p>Problem: Answer requires combining info from multiple documents</p> <p>Solutions: - Increase number of retrieved documents - Implement iterative retrieval - Use graph-based RAG - Decompose question into sub-questions</p>"},{"location":"rag/rag-overview/#rag_vs_fine-tuning","title":"RAG vs. Fine-tuning","text":""},{"location":"rag/rag-overview/#when_to_use_rag","title":"When to use RAG:","text":"<p>\u2705 Need to incorporate new information frequently \u2705 Large knowledge base that changes often \u2705 Want source attribution \u2705 Limited budget (cheaper than fine-tuning) \u2705 Need to update without retraining  </p>"},{"location":"rag/rag-overview/#when_to_use_fine-tuning","title":"When to use Fine-tuning:","text":"<p>\u2705 Teaching model a new style or format \u2705 Domain-specific language or terminology \u2705 Information is stable (won't change frequently) \u2705 Need extremely fast responses (no retrieval overhead) \u2705 Small, focused knowledge set  </p>"},{"location":"rag/rag-overview/#best_of_both_rag_fine-tuning","title":"Best of Both: RAG + Fine-tuning","text":"<p>Fine-tune the model on your domain, then use RAG for up-to-date facts:</p> <pre><code>Fine-tuned Model (knows medical terminology)\n        +\nRAG (retrieves latest research papers)\n        =\nMedical assistant with current knowledge\n</code></pre>"},{"location":"rag/rag-overview/#real-world_applications","title":"Real-World Applications","text":""},{"location":"rag/rag-overview/#1_customer_support","title":"1. Customer Support","text":"<pre><code>Knowledge Base: FAQs, manuals, ticket history\nQuery: \"My printer won't connect to WiFi\"\nRetrieved: Troubleshooting steps for WiFi connection\nAnswer: Step-by-step instructions specific to user's printer model\n</code></pre>"},{"location":"rag/rag-overview/#2_legal_research","title":"2. Legal Research","text":"<pre><code>Knowledge Base: Case law, statutes, regulations\nQuery: \"Precedents for data privacy violations in California\"\nRetrieved: Relevant cases, CCPA regulations\nAnswer: Summarized legal precedent with citations\n</code></pre>"},{"location":"rag/rag-overview/#3_enterprise_search","title":"3. Enterprise Search","text":"<pre><code>Knowledge Base: Internal docs, emails, Slack messages\nQuery: \"What was decided in the Q3 strategy meeting?\"\nRetrieved: Meeting notes, follow-up emails\nAnswer: Summary of key decisions and action items\n</code></pre>"},{"location":"rag/rag-overview/#4_educational_tutoring","title":"4. Educational Tutoring","text":"<pre><code>Knowledge Base: Textbooks, lecture notes, solved problems\nQuery: \"How do I solve quadratic equations?\"\nRetrieved: Relevant textbook sections, example problems\nAnswer: Explanation with step-by-step examples\n</code></pre>"},{"location":"rag/rag-overview/#5_medical_diagnosis_support","title":"5. Medical Diagnosis Support","text":"<pre><code>Knowledge Base: Medical literature, patient records\nQuery: \"Treatment options for Type 2 diabetes\"\nRetrieved: Latest clinical guidelines, research papers\nAnswer: Evidence-based treatment recommendations with sources\n</code></pre>"},{"location":"rag/rag-overview/#best_practices","title":"Best Practices","text":""},{"location":"rag/rag-overview/#1_document_preparation_1","title":"1. Document Preparation","text":"<ul> <li>Clean and normalize text</li> <li>Maintain metadata (source, date, author)</li> <li>Remove duplicate content</li> <li>Structure documents logically</li> </ul>"},{"location":"rag/rag-overview/#2_chunking","title":"2. Chunking","text":"<ul> <li>Experiment with chunk size (start with 500-1000 tokens)</li> <li>Use overlap (10-20%) to preserve context</li> <li>Respect semantic boundaries (don't split mid-sentence)</li> <li>Include surrounding context in metadata</li> </ul>"},{"location":"rag/rag-overview/#3_retrieval","title":"3. Retrieval","text":"<ul> <li>Start with k=3-5 documents</li> <li>Use hybrid search for better coverage</li> <li>Implement re-ranking for quality</li> <li>Filter by metadata when possible</li> </ul>"},{"location":"rag/rag-overview/#4_generation","title":"4. Generation","text":"<ul> <li>Clear system prompts</li> <li>Instruct to cite sources</li> <li>Handle \"I don't know\" gracefully</li> <li>Validate against retrieved context</li> </ul>"},{"location":"rag/rag-overview/#5_monitoring","title":"5. Monitoring","text":"<ul> <li>Track retrieval quality metrics</li> <li>Monitor for hallucinations</li> <li>Log failed queries</li> <li>Collect user feedback</li> </ul>"},{"location":"rag/rag-overview/#tools_frameworks","title":"Tools &amp; Frameworks","text":""},{"location":"rag/rag-overview/#complete_rag_frameworks","title":"Complete RAG Frameworks","text":"<p>LangChain - Most popular, extensive integrations - Good documentation - Python and JavaScript</p> <p>LlamaIndex - Specialized for RAG - Advanced indexing strategies - Great for complex queries</p> <p>Haystack - Enterprise-focused - Production-ready - Flexible pipelines</p>"},{"location":"rag/rag-overview/#vector_databases","title":"Vector Databases","text":"<p>Managed/Cloud: - Pinecone (easiest to start) - Weaviate Cloud - Qdrant Cloud</p> <p>Self-hosted: - Chroma (lightweight, great for dev) - Milvus (scalable, enterprise) - FAISS (fast, in-memory)</p>"},{"location":"rag/rag-overview/#embedding_models","title":"Embedding Models","text":"<p>Closed-source: - OpenAI text-embedding-ada-002 - Cohere embeddings - Google Vertex AI embeddings</p> <p>Open-source: - sentence-transformers - instructor-xl - BGE embeddings</p>"},{"location":"rag/rag-overview/#future_of_rag","title":"Future of RAG","text":"<p>Emerging trends:</p> <ol> <li>Multimodal RAG: Retrieve images, tables, charts, not just text</li> <li>Graph RAG: Use knowledge graphs for better reasoning</li> <li>Corrective RAG: Self-correcting retrieval loops</li> <li>Adaptive RAG: Dynamically choose retrieval strategy</li> <li>Long-context RAG: As LLMs handle more tokens, retrieval strategies evolve</li> </ol>"},{"location":"rag/rag-overview/#summary_key_takeaways","title":"Summary: Key Takeaways","text":"<ol> <li> <p>RAG = Retrieval + Generation: Combine search with language model generation</p> </li> <li> <p>Core benefit: Ground AI responses in actual documents, reducing hallucinations</p> </li> <li> <p>Main components: Embeddings, vector database, retriever, LLM</p> </li> <li> <p>When to use: Dynamic knowledge, domain-specific info, need citations</p> </li> <li> <p>Success factors: Quality chunking, relevant retrieval, clear prompts</p> </li> <li> <p>Not a silver bullet: Requires careful design and iteration</p> </li> </ol>"},{"location":"rag/rag-overview/#practice_exercises_for_students","title":"Practice Exercises for Students","text":""},{"location":"rag/rag-overview/#exercise_1_design_a_rag_system","title":"Exercise 1: Design a RAG System","text":"<p>Design a RAG system for a university library. What would you index? How would you chunk? What queries would students ask?</p>"},{"location":"rag/rag-overview/#exercise_2_chunking_strategy","title":"Exercise 2: Chunking Strategy","text":"<p>Given a 50-page technical manual, design a chunking strategy. Consider: fixed-size vs semantic, chunk size, overlap amount.</p>"},{"location":"rag/rag-overview/#exercise_3_evaluation","title":"Exercise 3: Evaluation","text":"<p>How would you evaluate if a RAG system for medical Q&amp;A is working well? Define 3 metrics and explain why they matter.</p>"},{"location":"rag/rag-overview/#exercise_4_problem_solving","title":"Exercise 4: Problem Solving","text":"<p>A RAG system retrieves relevant documents but the LLM still hallucinates. List 5 potential causes and solutions.</p>"},{"location":"rag/rag-overview/#exercise_5_architecture_choice","title":"Exercise 5: Architecture Choice","text":"<p>When would you choose: - Basic RAG vs Advanced RAG? - RAG vs Fine-tuning? - Semantic search vs Hybrid search?</p>"},{"location":"rag/rag-overview/#additional_resources","title":"Additional Resources","text":"<p>Papers: - \"Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks\" (Lewis et al., 2020) - \"REALM: Retrieval-Augmented Language Model Pre-Training\" (Guu et al., 2020)</p> <p>Courses: - DeepLearning.AI: \"Building Applications with Vector Databases\" - \"LangChain for LLM Application Development\"</p> <p>Documentation: - LangChain docs: https://python.langchain.com - LlamaIndex docs: https://docs.llamaindex.ai - Pinecone learning center</p> <p>Communities: - LangChain Discord - r/LocalLLaMA (Reddit) - Hugging Face forums</p> <p>Remember: RAG is a powerful technique, but like any tool, its effectiveness depends on thoughtful design and implementation. Start simple, measure performance, and iterate!</p> <p></p>"},{"location":"signals/plugin-demo/","title":"Plugin Demo","text":"<p>We can record user actions like queries and results, hovers, clicks to see what a user does and how our search is perfroming.</p> <p>My recording query_id, session_id along with query, post_ids etc we can then have a crowd-sourced dataset of queries and responses.</p> <p>The queries can have a vector embedding so when a user asks a question we can semantically search for a similar questions and return the responses from cache as it were, before asking the user if they need a further search.</p> <p>These can then be use in ML.</p> <p>We can also add a user feed back of a search result the user clicked to see if it was helpful and comments.</p> <p></p> <p></p>"},{"location":"signals/signals-guide-book/","title":"Understanding User Search Signals: A Comprehensive Guide","text":""},{"location":"signals/signals-guide-book/#table_of_contents","title":"Table of Contents","text":"<ol> <li>Introduction</li> <li>What Are Search Signals?</li> <li>User Intent Signals</li> <li>User Action Signals</li> <li>Response Quality Signals</li> <li>Implementation and Tracking</li> <li>Analysis and Optimization Workflow</li> <li>Advanced Signal Analysis</li> <li>Common Pitfalls and Solutions</li> <li>Implementation Roadmap</li> <li>Key Takeaways</li> </ol>"},{"location":"signals/signals-guide-book/#introduction","title":"Introduction","text":""},{"location":"signals/signals-guide-book/#overview","title":"Overview","text":"<p>This comprehensive guide is designed for WordPress developers and search engineers who want to understand and leverage search signals to build intelligent, data-driven search systems. Whether you're implementing basic keyword search or advanced technologies like Full-Text Search (FTS), BM25 scoring, semantic search, or RAG pipelines, understanding search signals is critical to success.</p>"},{"location":"signals/signals-guide-book/#what_are_search_signals","title":"What Are Search Signals?","text":"<p>Search signals are measurable data points and behavioral patterns that reveal how users interact with your search functionality. They form a feedback loop that helps you understand:</p> <ul> <li>What users are looking for</li> <li>Whether they found it</li> <li>How satisfied they are with results</li> <li>Where your search system is failing</li> <li>How to continuously improve search quality</li> </ul> <p>By tracking and analyzing these signals, you can continuously improve search relevance, user experience, and ultimately, conversions.</p>"},{"location":"signals/signals-guide-book/#why_signals_matter","title":"Why Signals Matter","text":"<p>When implementing advanced search technologies, you need objective metrics to:</p> <ul> <li>Validate that your improvements actually work</li> <li>Identify which ranking algorithm performs best</li> <li>Tune scoring parameters based on real behavior</li> <li>Justify the complexity and cost of advanced features</li> <li>Create a feedback loop for continuous improvement</li> </ul>"},{"location":"signals/signals-guide-book/#the_three_signal_categories","title":"The Three Signal Categories","text":"<p>This guide covers three critical signal categories:</p> <p>User Intent Signals tell you what users are trying to accomplish</p> <p>User Action Signals reveal how users behave during and after search</p> <p>Response Quality Signals measure whether your search system delivers value</p> <p>Together, these signals create a complete picture of search performance and user satisfaction.</p>"},{"location":"signals/signals-guide-book/#user_intent_signals","title":"User Intent Signals","text":""},{"location":"signals/signals-guide-book/#understanding_user_intent","title":"Understanding User Intent","text":"<p>User intent represents the underlying goal or purpose behind a search query. Advanced search systems don't just match keywords\u2014they understand what users want to accomplish and surface results accordingly.</p> <p>Understanding intent allows you to deliver results that match not just the keywords, but what users actually want to accomplish.</p>"},{"location":"signals/signals-guide-book/#why_intent_matters_for_search_engineering","title":"Why Intent Matters for Search Engineering","text":"<p>Different intents require different optimization strategies:</p> <ul> <li>Navigational searches need exact matches prioritized</li> <li>Informational searches benefit from semantic understanding and comprehensive content</li> <li>Transactional searches require conversion-optimized ranking</li> </ul> <p>Your BM25 scoring parameters, semantic search weights, and RAG prompt engineering should all adapt based on detected intent.</p>"},{"location":"signals/signals-guide-book/#the_three_primary_intent_types","title":"The Three Primary Intent Types","text":""},{"location":"signals/signals-guide-book/#1_navigational_intent","title":"1. Navigational Intent","text":"<p>User Goal: Find a specific page, post, or resource they know exists</p> <p>Characteristics:</p> <ul> <li>Specific brand names, product names, or page titles</li> <li>Often includes unique identifiers</li> <li>Low tolerance for irrelevant results</li> <li>Quick abandonment if not found immediately</li> </ul> <p>Query Examples:</p> <ul> <li>\"contact us\"</li> <li>\"pricing page\"</li> <li>\"return policy\"</li> <li>\"author bio john smith\"</li> <li>\"woocommerce documentation\"</li> </ul> <p>Detection Signals:</p> <ul> <li>Exact match queries</li> <li>Queries containing site-specific terminology</li> <li>Single-word navigation terms (about, contact, pricing, blog)</li> <li>Queries with proper nouns or brand names</li> <li>Short queries (1-2 words) with high specificity</li> </ul> <p>Optimization Strategy:</p> <p>Prioritize exact matches and known page titles. Users with navigational intent need the quickest path to their destination.</p> <p>For advanced search systems:</p> <ul> <li>Boost exact title matches in BM25 scoring</li> <li>Increase weight on post_title and post_name fields</li> <li>Reduce semantic search influence (embeddings less useful here)</li> <li>Prioritize page post type over posts</li> <li>Consider metadata matches (slug, custom fields)</li> </ul> <p>Performance Tip: Pre-cache common navigational queries since they're highly predictable.</p>"},{"location":"signals/signals-guide-book/#2_informational_intent","title":"2. Informational Intent","text":"<p>User Goal: Seek knowledge, guidance, or content on a topic</p> <p>Characteristics:</p> <ul> <li>Question-based queries</li> <li>How-to phrases</li> <li>General topic exploration</li> <li>Willingness to browse multiple results</li> <li>Interest in comprehensive content</li> </ul> <p>Query Examples:</p> <ul> <li>\"how to install wordpress plugin\"</li> <li>\"best practices for SEO\"</li> <li>\"what is a custom post type\"</li> <li>\"wordpress security tips\"</li> <li>\"difference between BM25 and TF-IDF\"</li> </ul> <p>Detection Signals:</p> <ul> <li>Question words (how, what, why, when, where, who)</li> <li>Phrases like \"best,\" \"tips,\" \"guide,\" \"tutorial,\" \"explain\"</li> <li>General topic keywords without specific product names</li> <li>Comparative terms (\"vs\", \"versus\", \"compared to\", \"difference between\")</li> <li>Longer queries (4+ words)</li> </ul> <p>Optimization Strategy:</p> <p>Surface comprehensive content, guides, and blog posts. Group related content together and suggest follow-up topics.</p> <p>For advanced search systems: - Semantic search shines here\u2014users may use different terminology than your content - Use embeddings to find conceptually similar content - Boost comprehensive, long-form content in ranking - Consider content freshness as a factor - RAG is excellent for synthesizing answers from multiple sources - Group related content together in results</p> <p>RAG Optimization: For informational queries, your RAG pipeline should pull from multiple relevant documents to provide comprehensive answers rather than relying on a single source.</p>"},{"location":"signals/signals-guide-book/#3_transactional_intent","title":"3. Transactional Intent","text":"<p>User Goal: User is ready to take action\u2014purchase, download, signup, or convert</p> <p>Characteristics:</p> <ul> <li>Action-oriented language</li> <li>Product or service names</li> <li>Urgency indicators</li> <li>High commercial value</li> </ul> <p>Query Examples:</p> <ul> <li>\"buy premium theme\"</li> <li>\"download plugin\"</li> <li>\"sign up for newsletter\"</li> <li>\"book consultation\"</li> <li>\"pricing for enterprise plan\"</li> <li>\"purchase license\"</li> </ul> <p>Detection Signals:</p> <ul> <li>Action verbs (buy, download, purchase, order, subscribe, book, get, install)</li> <li>Commercial terms (price, cost, discount, deal, cheap, affordable, free)</li> <li>Product/service names with action context</li> <li>Urgency words (\"now\", \"today\", \"quick\", \"instant\")</li> <li>Conversion-focused terms (\"trial\", \"demo\", \"signup\")</li> </ul> <p>Optimization Strategy:</p> <p>Highlight products, services, and conversion pages. Include clear calls-to-action and pricing information in search results.</p> <p>For advanced search systems: - Prioritize product/service pages over blog posts - Boost results with pricing information - Consider conversion rate as a ranking signal - Feature pages with clear calls-to-action - WooCommerce products should rank highly - Show availability and stock status if applicable</p> <p>BM25 Tuning: Increase field weights for product titles, SKUs, and category names.</p>"},{"location":"signals/signals-guide-book/#detecting_intent_in_practice","title":"Detecting Intent in Practice","text":""},{"location":"signals/signals-guide-book/#multi-signal_intent_detection","title":"Multi-Signal Intent Detection","text":"<p>Don't rely on a single indicator. Combine multiple signals:</p> <p>Query Analysis Approach:</p> <ol> <li>Keyword Matching: Maintain dictionaries of intent-indicating words</li> <li>Pattern Recognition: Identify common query structures</li> <li>Historical Data: Learn from past queries and their outcomes</li> <li>Context Clues: Consider user's previous searches in the session</li> </ol> <p>Pattern Matching Example:</p> <pre><code>Query: \"how to configure full-text search mysql\"\n- Contains \"how to\" \u2192 +60% informational\n- Contains technical terms \u2192 +20% informational\n- No action verbs \u2192 -10% transactional\n- No brand names \u2192 -10% navigational\nResult: 70% informational intent\n</code></pre> <p>Historical Analysis:</p> <p>Track what users clicked after similar queries: - If 80% of \"wordpress themes\" searches led to theme purchases \u2192 transactional - If 80% led to blog posts about themes \u2192 informational</p> <p>Session Context:</p> <p>Previous queries in the session provide clues: - \"what is semantic search\" \u2192 \"implement semantic search wordpress\" suggests increasing informational intent</p>"},{"location":"signals/signals-guide-book/#intent_confidence_scoring","title":"Intent Confidence Scoring","text":"<p>Not all queries clearly signal intent. Assign confidence scores:</p> <p>High Confidence (80-100%):</p> <ul> <li>Clear intent indicators present</li> <li>Historical data confirms intent</li> <li>Single dominant intent type</li> <li>Action: Aggressively optimize for detected intent</li> </ul> <p>Medium Confidence (50-79%):</p> <ul> <li>Mixed signals present</li> <li>Multiple plausible intents</li> <li>Limited historical data</li> <li>Action: Serve diverse results covering multiple intent types</li> </ul> <p>Low Confidence (0-49%):</p> <ul> <li>Generic query with no clear intent</li> <li>No clear indicators</li> <li>Ambiguous context</li> <li>Action: Default to balanced results, use semantic search to find conceptually relevant content</li> </ul>"},{"location":"signals/signals-guide-book/#handling_ambiguous_queries","title":"Handling Ambiguous Queries","text":"<p>Some queries legitimately have mixed intent:</p> <p>Query: \"wordpress search\"</p> <ul> <li>Could be navigational (looking for WordPress.org search page)</li> <li>Could be informational (learning about WordPress search)</li> <li>Could be transactional (buying a search plugin)</li> </ul> <p>Strategy: Result Diversification</p> <ul> <li>Position 1-2: Navigational results (official documentation)</li> <li>Position 3-5: Informational content (tutorials, guides)</li> <li>Position 6-8: Transactional options (plugins, services)</li> </ul> <p>Track which result types get engagement to learn the dominant intent over time.</p>"},{"location":"signals/signals-guide-book/#user_action_signals","title":"User Action Signals","text":"<p>User actions reveal the truth about search quality. While intent tells you what users want, actions show you whether they got it. These behavioral signals are often more truthful than explicit feedback.</p>"},{"location":"signals/signals-guide-book/#click_patterns","title":"Click Patterns","text":""},{"location":"signals/signals-guide-book/#click-through_rate_ctr","title":"Click-Through Rate (CTR)","text":"<p>What it measures: Percentage of search sessions resulting in at least one click</p> <p>Calculation: <pre><code>CTR = (Searches with \u22651 click / Total searches) \u00d7 100\n</code></pre></p> <p>Benchmarks:</p> <ul> <li>Excellent: &gt;70% CTR</li> <li>Good: 50-70% CTR</li> <li>Needs Improvement: 30-50% CTR</li> <li>Critical: &lt;30% CTR</li> </ul> <p>Significance:</p> <ul> <li>Low CTR (&lt;30%): Results aren't relevant or compelling</li> <li>Medium CTR (30-60%): Acceptable but room for improvement</li> <li>High CTR (&gt;60%): Strong result relevance</li> </ul> <p>What Low CTR Indicates:</p> <ul> <li>Results don't match user intent</li> <li>Poor result titles or snippets</li> <li>Results are technically correct but not useful</li> <li>Users finding answers in SERP snippets without clicking</li> </ul> <p>Tracking:</p> <ul> <li>Search query</li> <li>Number of results displayed</li> <li>Number of clicks</li> <li>Which result positions get clicked</li> </ul> <p>Red Flags:</p> <ul> <li>Zero-click searches (user leaves without clicking)</li> <li>Clicks only on first result (other results ignored)</li> <li>Clicks on irrelevant results (indicates poor ranking)</li> </ul>"},{"location":"signals/signals-guide-book/#click_position_analysis","title":"Click Position Analysis","text":"<p>What it measures: Which result positions receive the most engagement</p> <p>Key Insights:</p> <ul> <li>Position 1-3: Should capture 70-80% of clicks if results are relevant</li> <li>Position 4-7: Moderate engagement; users are willing to scroll</li> <li>Position 8+: Low engagement; likely not meeting user needs</li> </ul> <p>Optimization Actions:</p> <ul> <li>If position 5 gets more clicks than position 1: Your ranking algorithm needs adjustment</li> <li>If all positions get equal clicks: Results may all be equally mediocre</li> <li>If only position 1 gets clicks: Other results might be irrelevant</li> </ul> <p>Position Bias Consideration:</p> <p>Users naturally click higher results more often, even if lower results are equally relevant. To detect true relevance vs. position bias:</p> <ul> <li>Track dwell time by position</li> <li>Monitor return-to-search rate by position</li> <li>Compare engagement across position for same content</li> <li>Use A/B tests to randomize position</li> </ul> <p>Advanced Analysis:</p> <p>Calculate expected CTR by position (based on historical averages), then compare actual CTR: - Above expected: Result is performing well - Below expected: Result may be irrelevant</p>"},{"location":"signals/signals-guide-book/#click_depth","title":"Click Depth","text":"<p>What it measures: How many results a user clicks on before finding what they need</p> <p>Patterns:</p> <ul> <li>Single Click: Found what they needed immediately (ideal)</li> <li>2-3 Clicks: Exploring options or refining search mentally</li> <li>4+ Clicks: Struggling to find relevant content</li> </ul> <p>Interpretation:</p> <p>High click depth indicates:</p> <ul> <li>Poor ranking (best results not at top)</li> <li>Ambiguous query requiring exploration</li> <li>Users comparing multiple options (normal for transactional intent)</li> </ul> <p>Session-Based Tracking:</p> <p>Track the entire search journey, not just individual queries. Users might: 1. Search \u2192 Click \u2192 Return \u2192 Refine search \u2192 Click again 2. Search \u2192 Click multiple results \u2192 Compare \u2192 Choose one</p>"},{"location":"signals/signals-guide-book/#time-based_signals","title":"Time-Based Signals","text":""},{"location":"signals/signals-guide-book/#dwell_time","title":"Dwell Time","text":"<p>What it measures: How long users spend on a clicked result before returning to search</p> <p>Interpretation:</p> <ul> <li>&lt;10 seconds: Quick bounce, likely irrelevant (pogo-sticking)</li> <li>10-30 seconds: Skimmed content, partially relevant</li> <li>30-120 seconds: Engaged with content, likely relevant</li> <li>&gt;120 seconds: Deep engagement, high relevance</li> </ul> <p>Important Note: Longer isn't always better. A user finding a quick answer to a simple question might have 15 seconds of dwell time but be completely satisfied.</p> <p>Context Matters:</p> <ul> <li>Blog post: Expect 2-5 minutes for engaged reading</li> <li>Product page: 30-90 seconds if interested</li> <li>Contact page: 10-20 seconds to find information</li> <li>Download page: 5-15 seconds to initiate download</li> </ul> <p>Advanced Dwell Time Analysis:</p> <p>Calculate expected dwell time based on content type and length: - Long-form article (2000+ words): 3-6 minutes expected - Product page: 45-90 seconds expected - Quick reference: 15-30 seconds expected</p> <p>Compare actual vs. expected to gauge true engagement.</p> <p>Machine Learning Application:</p> <p>Use dwell time as a ranking signal:</p> <ul> <li>Train models on historical dwell time data</li> <li>Predict expected dwell time for query-document pairs</li> <li>Boost results with historically high dwell time for similar queries</li> </ul>"},{"location":"signals/signals-guide-book/#return_to_search","title":"Return to Search","text":"<p>What it measures: Whether users return to search results after clicking</p> <p>Patterns:</p> <ul> <li>No Return: User found what they needed (success)</li> <li>Quick Return (&lt;10s): Result was irrelevant</li> <li>Delayed Return (&gt;30s): User read but didn't find complete answer</li> <li>Return + Refine: User learned something and adjusted their search</li> </ul> <p>Combined with Dwell Time:</p> Dwell Time Return to Search Interpretation &lt;10s Yes Poor result, immediate bounce 10-30s Yes Partially relevant, incomplete 30-120s Yes Good but not perfect 30-120s No Success, found answer &gt;120s Yes Deep read, seeking more info &gt;120s No Highly satisfied"},{"location":"signals/signals-guide-book/#session_duration","title":"Session Duration","text":"<p>What it measures: Total time from initial search to session end</p> <p>Analysis:</p> <ul> <li>Short Sessions (&lt;1 min): Either very successful or very frustrated</li> <li>Medium Sessions (1-5 min): Normal exploration and refinement</li> <li>Long Sessions (&gt;5 min): Either deep research or struggling to find answers</li> </ul> <p>Session Success Indicators:</p> <p>Successful sessions typically show:</p> <ul> <li>1-2 searches</li> <li>1-3 clicks total</li> <li>Moderate dwell time (30s-2min)</li> <li>Ends with conversion or extended engagement</li> </ul> <p>Unsuccessful sessions typically show:</p> <ul> <li>3+ searches with refinements</li> <li>Many quick clicks (&lt;10s dwell)</li> <li>Abandonment without conversion</li> </ul>"},{"location":"signals/signals-guide-book/#refinement_behavior","title":"Refinement Behavior","text":""},{"location":"signals/signals-guide-book/#query_reformulation","title":"Query Reformulation","text":"<p>What it measures: How users modify their searches</p> <p>Refinement Types:</p> <p>1. Specification: Adding more keywords to narrow results</p> <ul> <li>\"wordpress\" \u2192 \"wordpress custom post types\"</li> <li>Action: Previous results too broad</li> </ul> <p>2. Generalization: Removing keywords to broaden results</p> <ul> <li>\"wordpress woocommerce abandoned cart recovery\" \u2192 \"woocommerce abandoned cart\"</li> <li>Action: Previous search too specific, no results found</li> </ul> <p>3. Synonym Substitution: Trying different words for same concept</p> <ul> <li>\"tutorial\" \u2192 \"guide\" \u2192 \"how to\"</li> <li>Action: Vocabulary mismatch between user and content</li> </ul> <p>4. Intent Shift: Changing search approach entirely</p> <ul> <li>\"wordpress themes\" \u2192 \"how to customize wordpress theme\"</li> <li>Action: User realized they need different information</li> </ul> <p>5. Spelling Correction: Fixing typos or trying alternative spellings</p> <ul> <li>\"wordpres\" \u2192 \"wordpress\"</li> <li>Action: Initial query had errors</li> </ul> <p>Tracking Strategy:</p> <p>Maintain search session history to identify refinement patterns. Store:</p> <ul> <li>Previous queries in session</li> <li>Time between queries</li> <li>Results clicked in each query</li> <li>Final successful query (if any)</li> </ul> <p>Optimization Opportunities:</p> <ul> <li>High specification rate: Results too broad; improve ranking to surface specific content</li> <li>High generalization rate: Content gaps; users can't find specific information</li> <li>High synonym substitution: Vocabulary mismatch; improve synonym handling</li> <li>High intent shift: Poor initial results; improve intent detection</li> </ul>"},{"location":"signals/signals-guide-book/#abandonment_signals","title":"Abandonment Signals","text":"<p>Zero-Result Refinement:</p> <p>User searches, gets no results, tries again. This is critical data:</p> <ul> <li>Track which queries return zero results</li> <li>Monitor how users reformulate after zero results</li> <li>Identify vocabulary gaps (users' terms vs. your content's terms)</li> </ul> <p>Multi-Query Abandonment:</p> <p>User tries multiple searches then leaves without clicking. Indicates:</p> <ul> <li>Search functionality isn't working</li> <li>Content doesn't match user needs</li> <li>Poor ranking obscures relevant results</li> <li>Frustration with search experience</li> </ul> <p>Partial Success Pattern:</p> <p>User finds something but continues searching:</p> <ul> <li>Click \u2192 Quick dwell \u2192 Refine search \u2192 Click again</li> <li>Indicates: Initial result was partially helpful but incomplete</li> </ul> <p>Track abandonment by:</p> <ul> <li>Intent type (navigational queries abandoned faster)</li> <li>Query complexity (longer queries more likely to be abandoned)</li> <li>Time of day (rushed users abandon faster)</li> <li>Device type (mobile users abandon faster)</li> </ul>"},{"location":"signals/signals-guide-book/#conversion_signals","title":"Conversion Signals","text":""},{"location":"signals/signals-guide-book/#search-to-conversion_tracking","title":"Search-to-Conversion Tracking","text":"<p>What it measures: How often search sessions lead to desired actions</p> <p>Key Conversions to Track:</p> <ul> <li>Purchase/checkout</li> <li>Form submission</li> <li>Download</li> <li>Account creation</li> <li>Newsletter signup</li> <li>Contact request</li> </ul> <p>Calculation:</p> <pre><code>Conversion Rate = (Searches leading to conversion / Total searches) \u00d7 100\n</code></pre> <p>Analysis by Intent:</p> <ul> <li>Navigational: High conversion expected (user knows what they want)</li> <li>Informational: Low immediate conversion (education phase)</li> <li>Transactional: Moderate-high conversion expected</li> </ul> <p>Query-Level Conversion Tracking:</p> <p>Identify high-converting queries:</p> <ul> <li>\"buy premium plugin\" \u2192 45% conversion rate</li> <li>\"wordpress themes\" \u2192 12% conversion rate</li> <li>\"what is wordpress\" \u2192 2% conversion rate</li> </ul> <p>Optimization:</p> <ul> <li>Prioritize high-converting queries in UX</li> <li>Create dedicated landing pages for top converters</li> <li>Improve ranking for conversion-driving results</li> </ul>"},{"location":"signals/signals-guide-book/#attribution_windows","title":"Attribution Windows","text":"<p>Track conversions across different timeframes:</p> <ul> <li>Immediate (same session): Direct conversion from search</li> <li>Short-term (24 hours): User researched, then returned</li> <li>Medium-term (7 days): Longer consideration period</li> <li>Long-term (30 days): Extended decision-making</li> </ul> <p>Different queries have different attribution windows:</p> <ul> <li>\"buy now\" \u2192 expect immediate conversion</li> <li>\"wordpress review\" \u2192 expect 7-30 day window</li> </ul>"},{"location":"signals/signals-guide-book/#response_quality_signals","title":"Response Quality Signals","text":"<p>Quality signals combine user actions into composite scores that indicate overall search performance.</p>"},{"location":"signals/signals-guide-book/#satisfaction_score","title":"Satisfaction Score","text":"<p>What it measures: Aggregate measure of user satisfaction with search results</p> <p>Calculation Formula:</p> <pre><code>Satisfaction Score = (\n  (CTR \u00d7 20) +\n  (Avg Dwell Time / 120 \u00d7 30) +\n  (1 - Return Rate) \u00d7 25 +\n  (Conversion Rate \u00d7 25)\n)\n</code></pre> <p>Where:</p> <ul> <li>CTR is click-through rate (0-1)</li> <li>Avg Dwell Time in seconds (capped at 120s)</li> <li>Return Rate is percentage who return to search (0-1)</li> <li>Conversion Rate is percentage who convert (0-1)</li> </ul> <p>Interpretation:</p> <ul> <li>Excellent: &gt;70/100</li> <li>Good: 55-70/100</li> <li>Needs Improvement: 40-55/100</li> <li>Poor: &lt;40/100</li> </ul> <p>Query-Level Satisfaction:</p> <p>Track satisfaction for individual queries over time:</p> <ul> <li>Identify consistently low-satisfaction queries</li> <li>Monitor improvement after optimization</li> <li>Detect degradation when content changes</li> </ul> <p>Alternative Satisfaction Metrics:</p> <p>Binary Success:</p> <pre><code>Success = (Dwell Time &gt; 30s AND No Immediate Return) OR Conversion\n</code></pre> <p>Weighted Engagement:</p> <pre><code>Engagement = (Clicks \u00d7 1) + (Dwell Minutes \u00d7 2) + (Conversions \u00d7 10)\n</code></pre>"},{"location":"signals/signals-guide-book/#relevance_score","title":"Relevance Score","text":"<p>What it measures: How well results match query intent</p> <p>Calculation Based on Click Position:</p> <pre><code>Relevance = 1 / (Position of First Click)\n</code></pre> <p>Better measure using multiple signals: <pre><code>Relevance = (\n  (Position Score \u00d7 30) +\n  (Dwell Time Score \u00d7 30) +\n  (Click-through \u00d7 20) +\n  (No Refinement \u00d7 20)\n)\n</code></pre></p> <p>Learning from Historical Data:</p> <p>Build a relevance model:</p> <ol> <li>Collect query-result pairs with outcome data</li> <li>Label successful vs. unsuccessful results</li> <li>Train model to predict relevance</li> <li>Use predictions to improve ranking</li> </ol> <p>Features for Relevance Model:</p> <ul> <li>Query-document term overlap</li> <li>BM25 score</li> <li>Historical CTR for this query-doc pair</li> <li>Average dwell time for this query-doc pair</li> <li>Document authority/quality metrics</li> <li>Freshness</li> <li>Intent match</li> </ul>"},{"location":"signals/signals-guide-book/#zero-result_rate","title":"Zero-Result Rate","text":"<p>What it measures: Percentage of queries returning no results</p> <p>Calculation:</p> <pre><code>Zero-Result Rate = (Queries with 0 results / Total queries) \u00d7 100\n</code></pre> <p>Target: &lt;5%</p> <p>Common Causes:</p> <ul> <li>Typos and misspellings</li> <li>Vocabulary mismatch (user terms vs. content terms)</li> <li>Missing content in that topic area</li> <li>Overly strict matching (e.g., requiring all terms)</li> <li>Insufficient synonym handling</li> </ul> <p>Optimization Actions:</p> <p>For high zero-result rate:</p> <ol> <li>Implement fuzzy matching for typos</li> <li>Add synonym expansion</li> <li>Fall back to partial matching</li> <li>Suggest alternative queries</li> <li>Create content for common zero-result queries</li> </ol> <p>Opportunity Analysis:</p> <p>Zero-result queries reveal content gaps:</p> <ul> <li>Group by topic/theme</li> <li>Identify high-volume zero-result queries</li> <li>Prioritize content creation</li> <li>Track zero-result rate over time</li> </ul>"},{"location":"signals/signals-guide-book/#time_to_success","title":"Time to Success","text":"<p>What it measures: How long it takes users to find what they need</p> <p>Calculation:</p> <pre><code>Time to Success = Time from first search to final successful interaction\n</code></pre> <p>Successful interaction indicators:</p> <ul> <li>Long dwell time (&gt;30s) without return</li> <li>Conversion</li> <li>No further search activity</li> </ul> <p>Benchmarks:</p> <ul> <li>Excellent: &lt;30 seconds</li> <li>Good: 30-90 seconds</li> <li>Needs Improvement: 90-180 seconds</li> <li>Poor: &gt;180 seconds</li> </ul> <p>Factors Affecting Time to Success:</p> <ul> <li>Result ranking quality</li> <li>Result presentation (snippets, titles)</li> <li>Number of results shown</li> <li>Page load speed</li> <li>UI/UX of search interface</li> </ul> <p>Optimization:</p> <ul> <li>Reduce by improving ranking (relevant results at top)</li> <li>Better result snippets (users can evaluate faster)</li> <li>Instant search/autocomplete</li> <li>Persistent search results during browsing</li> </ul>"},{"location":"signals/signals-guide-book/#implementation_and_tracking","title":"Implementation and Tracking","text":""},{"location":"signals/signals-guide-book/#technical_implementation","title":"Technical Implementation","text":""},{"location":"signals/signals-guide-book/#frontend_tracking","title":"Frontend Tracking","text":"<p>JavaScript Event Tracking:</p> <pre><code>// Track search initiation\nfunction trackSearch(query) {\n  const sessionId = getOrCreateSessionId();\n  const searchId = generateSearchId();\n\n  fetch('/api/search/log', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({\n      session_id: sessionId,\n      search_id: searchId,\n      query: query,\n      timestamp: Date.now(),\n      intent_hints: detectClientSideIntent(query)\n    })\n  });\n\n  return searchId;\n}\n\n// Track result clicks\nfunction trackClick(searchId, resultId, position) {\n  const clickTime = Date.now();\n\n  fetch('/api/search/click', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({\n      search_id: searchId,\n      result_id: resultId,\n      position: position,\n      click_time: clickTime\n    })\n  });\n\n  // Track when user returns\n  trackDwellTime(searchId, resultId, clickTime);\n}\n\n// Track dwell time\nfunction trackDwellTime(searchId, resultId, clickTime) {\n  window.addEventListener('pageshow', function() {\n    const returnTime = Date.now();\n    const dwellTime = returnTime - clickTime;\n\n    fetch('/api/search/dwell', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        search_id: searchId,\n        result_id: resultId,\n        dwell_time: dwellTime\n      })\n    });\n  });\n}\n</code></pre> <p>Session Management:</p> <pre><code>function getOrCreateSessionId() {\n  let sessionId = sessionStorage.getItem('search_session_id');\n\n  if (!sessionId) {\n    sessionId = 'sess_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);\n    sessionStorage.setItem('search_session_id', sessionId);\n  }\n\n  return sessionId;\n}\n</code></pre>"},{"location":"signals/signals-guide-book/#backend_logging","title":"Backend Logging","text":"<p>WordPress Implementation:</p> <pre><code>// Log search query\nfunction log_search_query($query, $session_id, $num_results) {\n    global $wpdb;\n\n    $intent = detect_query_intent($query);\n\n    $wpdb-&gt;insert(\n        $wpdb-&gt;prefix . 'search_logs',\n        array(\n            'session_id' =&gt; $session_id,\n            'user_id' =&gt; get_current_user_id(),\n            'query' =&gt; sanitize_text_field($query),\n            'num_results' =&gt; $num_results,\n            'intent_type' =&gt; $intent['type'],\n            'intent_confidence' =&gt; $intent['confidence'],\n            'timestamp' =&gt; current_time('mysql')\n        ),\n        array('%s', '%d', '%s', '%d', '%s', '%f', '%s')\n    );\n\n    return $wpdb-&gt;insert_id;\n}\n\n// Log click event\nfunction log_search_click($search_log_id, $result_id, $position) {\n    global $wpdb;\n\n    $wpdb-&gt;insert(\n        $wpdb-&gt;prefix . 'search_clicks',\n        array(\n            'search_log_id' =&gt; $search_log_id,\n            'result_id' =&gt; $result_id,\n            'result_position' =&gt; $position,\n            'timestamp' =&gt; current_time('mysql')\n        ),\n        array('%d', '%d', '%d', '%s')\n    );\n\n    return $wpdb-&gt;insert_id;\n}\n\n// Update dwell time\nfunction update_dwell_time($click_id, $dwell_time) {\n    global $wpdb;\n\n    $wpdb-&gt;update(\n        $wpdb-&gt;prefix . 'search_clicks',\n        array('dwell_time' =&gt; $dwell_time),\n        array('id' =&gt; $click_id),\n        array('%d'),\n        array('%d')\n    );\n}\n</code></pre> <p>Intent Detection Function:</p> <pre><code>function detect_query_intent($query) {\n    $query_lower = strtolower($query);\n    $words = explode(' ', $query_lower);\n\n    $navigational_score = 0;\n    $informational_score = 0;\n    $transactional_score = 0;\n\n    // Navigational keywords\n    $nav_keywords = ['contact', 'about', 'pricing', 'login', 'account'];\n    foreach ($nav_keywords as $keyword) {\n        if (in_array($keyword, $words)) {\n            $navigational_score += 30;\n        }\n    }\n\n    // Informational keywords\n    $info_keywords = ['how', 'what', 'why', 'guide', 'tutorial', 'tips'];\n    foreach ($info_keywords as $keyword) {\n        if (in_array($keyword, $words)) {\n            $informational_score += 25;\n        }\n    }\n\n    // Transactional keywords\n    $trans_keywords = ['buy', 'purchase', 'download', 'price', 'order'];\n    foreach ($trans_keywords as $keyword) {\n        if (in_array($keyword, $words)) {\n            $transactional_score += 30;\n        }\n    }\n\n    // Determine dominant intent\n    $max_score = max($navigational_score, $informational_score, $transactional_score);\n\n    if ($max_score &lt; 25) {\n        return ['type' =&gt; 'unknown', 'confidence' =&gt; 0.0];\n    }\n\n    if ($navigational_score === $max_score) {\n        $type = 'navigational';\n    } elseif ($informational_score === $max_score) {\n        $type = 'informational';\n    } else {\n        $type = 'transactional';\n    }\n\n    $confidence = min($max_score / 100, 1.0);\n\n    return ['type' =&gt; $type, 'confidence' =&gt; $confidence];\n}\n</code></pre>"},{"location":"signals/signals-guide-book/#database_design","title":"Database Design","text":"<p>Custom Table Structure:</p> <pre><code>-- Search logs table\nCREATE TABLE wp_search_logs (\n    id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,\n    session_id VARCHAR(100) NOT NULL,\n    user_id BIGINT UNSIGNED NULL,\n    query TEXT NOT NULL,\n    num_results INT NOT NULL,\n    intent_type VARCHAR(50) NULL,\n    intent_confidence FLOAT NULL,\n    timestamp DATETIME NOT NULL,\n    PRIMARY KEY (id),\n    INDEX idx_session (session_id),\n    INDEX idx_query (query(191)),\n    INDEX idx_timestamp (timestamp),\n    INDEX idx_intent (intent_type)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\n\n-- Search clicks table\nCREATE TABLE wp_search_clicks (\n    id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,\n    search_log_id BIGINT UNSIGNED NOT NULL,\n    result_id BIGINT UNSIGNED NOT NULL,\n    result_position INT NOT NULL,\n    timestamp DATETIME NOT NULL,\n    dwell_time INT NULL,\n    converted BOOLEAN DEFAULT FALSE,\n    PRIMARY KEY (id),\n    FOREIGN KEY (search_log_id) REFERENCES wp_search_logs(id) ON DELETE CASCADE,\n    INDEX idx_result (result_id),\n    INDEX idx_position (result_position),\n    INDEX idx_dwell (dwell_time)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\n\n-- Aggregated quality metrics table\nCREATE TABLE wp_search_quality (\n    id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,\n    query VARCHAR(255) NOT NULL,\n    result_id BIGINT UNSIGNED NOT NULL,\n    relevance_score FLOAT NOT NULL DEFAULT 0,\n    click_count INT NOT NULL DEFAULT 0,\n    avg_dwell_time FLOAT NOT NULL DEFAULT 0,\n    conversion_count INT NOT NULL DEFAULT 0,\n    last_updated DATETIME NOT NULL,\n    PRIMARY KEY (id),\n    UNIQUE KEY unique_query_result (query, result_id),\n    INDEX idx_relevance (relevance_score),\n    INDEX idx_query_lookup (query)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\n\n-- Session metadata table\nCREATE TABLE wp_search_sessions (\n    id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,\n    session_id VARCHAR(100) NOT NULL,\n    user_id BIGINT UNSIGNED NULL,\n    first_search DATETIME NOT NULL,\n    last_activity DATETIME NOT NULL,\n    total_searches INT NOT NULL DEFAULT 1,\n    total_clicks INT NOT NULL DEFAULT 0,\n    converted BOOLEAN DEFAULT FALSE,\n    PRIMARY KEY (id),\n    UNIQUE KEY unique_session (session_id),\n    INDEX idx_user (user_id),\n    INDEX idx_activity (last_activity)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\n</code></pre>"},{"location":"signals/signals-guide-book/#privacy_considerations","title":"Privacy Considerations","text":""},{"location":"signals/signals-guide-book/#gdpr_compliance","title":"GDPR Compliance","text":"<p>Data Minimization:</p> <ul> <li>Store session IDs instead of personally identifiable information when possible</li> <li>Don't store IP addresses unless necessary</li> <li>Anonymize data after 30 days if possible</li> </ul> <p>User Rights:</p> <ul> <li>Provide opt-out mechanism for search tracking</li> <li>Include search data in data export requests</li> <li>Delete user's search data upon account deletion</li> <li>Auto-delete logs older than retention period (e.g., 90 days)</li> </ul> <p>Implementation:</p> <pre><code>// Anonymize old data\nfunction anonymize_old_search_data() {\n    global $wpdb;\n\n    $retention_days = 90;\n\n    $wpdb-&gt;query($wpdb-&gt;prepare(\"\n        UPDATE {$wpdb-&gt;prefix}search_logs \n        SET user_id = NULL, \n            session_id = CONCAT('anon_', id)\n        WHERE timestamp &lt; DATE_SUB(NOW(), INTERVAL %d DAY)\n        AND user_id IS NOT NULL\n    \", $retention_days));\n}\n\n// Delete expired data\nfunction delete_expired_search_data() {\n    global $wpdb;\n\n    $expiration_days = 365;\n\n    $wpdb-&gt;query($wpdb-&gt;prepare(\"\n        DELETE FROM {$wpdb-&gt;prefix}search_logs \n        WHERE timestamp &lt; DATE_SUB(NOW(), INTERVAL %d DAY)\n    \", $expiration_days));\n}\n\n// Export user's search data\nfunction export_user_search_data($user_id) {\n    global $wpdb;\n\n    $searches = $wpdb-&gt;get_results($wpdb-&gt;prepare(\"\n        SELECT query, timestamp, num_results\n        FROM {$wpdb-&gt;prefix}search_logs\n        WHERE user_id = %d\n        ORDER BY timestamp DESC\n    \", $user_id), ARRAY_A);\n\n    return $searches;\n}\n</code></pre> <p>Best Practices:</p> <ul> <li>Don't store sensitive search queries (passwords, credit cards, etc.)</li> <li>Hash or encrypt query text for security</li> <li>Aggregate data for analysis, delete raw logs regularly</li> <li>Be transparent about tracking in privacy policy</li> <li>Provide clear opt-out options</li> </ul>"},{"location":"signals/signals-guide-book/#analysis_and_optimization_workflow","title":"Analysis and Optimization Workflow","text":""},{"location":"signals/signals-guide-book/#daily_monitoring","title":"Daily Monitoring","text":""},{"location":"signals/signals-guide-book/#quick_health_check","title":"Quick Health Check","text":"<p>Key Metrics to Review:</p> <ul> <li>Total searches today vs. yesterday</li> <li>Current CTR</li> <li>Zero-result rate</li> <li>Top 10 searches</li> </ul> <p>SQL Query for Daily Summary:</p> <pre><code>SELECT \n    DATE(timestamp) as date,\n    COUNT(*) as total_searches,\n    SUM(CASE WHEN num_results = 0 THEN 1 ELSE 0 END) as zero_results,\n    ROUND(SUM(CASE WHEN num_results = 0 THEN 1 ELSE 0 END) / COUNT(*) * 100, 2) as zero_result_pct,\n    COUNT(DISTINCT query) as unique_queries\nFROM wp_search_logs\nWHERE DATE(timestamp) = CURDATE()\nGROUP BY DATE(timestamp);\n</code></pre> <p>Alert Conditions:</p> <ul> <li>Zero-result rate &gt;15%: Investigate immediately</li> <li>CTR drops &gt;10%: Check for search functionality issues</li> <li>Unusual spike in searches: May indicate bot activity or trending topic</li> </ul>"},{"location":"signals/signals-guide-book/#weekly_analysis_routine","title":"Weekly Analysis Routine","text":""},{"location":"signals/signals-guide-book/#1_identify_problem_queries","title":"1. Identify Problem Queries","text":"<p>Queries with Low Satisfaction:</p> <pre><code>SELECT \n    sl.query,\n    COUNT(DISTINCT sl.id) as search_count,\n    COUNT(sc.id) as total_clicks,\n    ROUND(COUNT(sc.id) / COUNT(DISTINCT sl.id), 2) as avg_clicks_per_search,\n    ROUND(AVG(sc.dwell_time), 0) as avg_dwell_time,\n    ROUND(COUNT(sc.id) / COUNT(DISTINCT sl.id) * 100, 2) as ctr\nFROM wp_search_logs sl\nLEFT JOIN wp_search_clicks sc ON sl.id = sc.search_log_id\nWHERE sl.timestamp &gt;= DATE_SUB(NOW(), INTERVAL 7 DAY)\nGROUP BY sl.query\nHAVING search_count &gt;= 5 AND ctr &lt; 40\nORDER BY search_count DESC\nLIMIT 20;\n</code></pre> <p>Zero-Result Queries:</p> <pre><code>SELECT \n    query,\n    COUNT(*) as frequency\nFROM wp_search_logs\nWHERE num_results = 0\nAND timestamp &gt;= DATE_SUB(NOW(), INTERVAL 7 DAY)\nGROUP BY query\nORDER BY frequency DESC\nLIMIT 20;\n</code></pre> <p>High-Abandonment Queries:</p> <pre><code>SELECT \n    sl.query,\n    COUNT(DISTINCT sl.id) as search_count,\n    COUNT(sc.id) as total_clicks,\n    ROUND((1 - COUNT(sc.id) / COUNT(DISTINCT sl.id)) * 100, 2) as abandonment_rate\nFROM wp_search_logs sl\nLEFT JOIN wp_search_clicks sc ON sl.id = sc.search_log_id\nWHERE sl.timestamp &gt;= DATE_SUB(NOW(), INTERVAL 7 DAY)\nGROUP BY sl.query\nHAVING search_count &gt;= 10 AND abandonment_rate &gt; 60\nORDER BY search_count DESC;\n</code></pre>"},{"location":"signals/signals-guide-book/#2_discover_opportunities","title":"2. Discover Opportunities","text":"<p>High-Volume Queries:</p> <pre><code>SELECT \n    query,\n    COUNT(*) as search_count,\n    AVG(num_results) as avg_results\nFROM wp_search_logs\nWHERE timestamp &gt;= DATE_SUB(NOW(), INTERVAL 7 DAY)\nGROUP BY query\nORDER BY search_count DESC\nLIMIT 20;\n</code></pre> <p>Ensure these have excellent results and consider:</p> <ul> <li>Creating dedicated landing pages</li> <li>Featuring in site navigation</li> <li>Optimizing heavily for these queries</li> </ul> <p>Conversion-Driving Queries:</p> <pre><code>SELECT \n    sl.query,\n    COUNT(DISTINCT sl.id) as search_count,\n    SUM(CASE WHEN sc.converted = 1 THEN 1 ELSE 0 END) as conversions,\n    ROUND(SUM(CASE WHEN sc.converted = 1 THEN 1 ELSE 0 END) / COUNT(DISTINCT sl.id) * 100, 2) as conversion_rate\nFROM wp_search_logs sl\nLEFT JOIN wp_search_clicks sc ON sl.id = sc.search_log_id\nWHERE sl.timestamp &gt;= DATE_SUB(NOW(), INTERVAL 7 DAY)\nGROUP BY sl.query\nHAVING search_count &gt;= 10\nORDER BY conversion_rate DESC\nLIMIT 20;\n</code></pre> <p>Emerging Trends:</p> <pre><code>SELECT \n    query,\n    COUNT(*) as current_week_count,\n    (SELECT COUNT(*) \n     FROM wp_search_logs \n     WHERE query = sl.query \n     AND timestamp &gt;= DATE_SUB(NOW(), INTERVAL 14 DAY)\n     AND timestamp &lt; DATE_SUB(NOW(), INTERVAL 7 DAY)\n    ) as previous_week_count,\n    ROUND((COUNT(*) - (SELECT COUNT(*) \n                       FROM wp_search_logs \n                       WHERE query = sl.query \n                       AND timestamp &gt;= DATE_SUB(NOW(), INTERVAL 14 DAY)\n                       AND timestamp &lt; DATE_SUB(NOW(), INTERVAL 7 DAY)\n    )) / (SELECT COUNT(*) \n          FROM wp_search_logs \n          WHERE query = sl.query \n          AND timestamp &gt;= DATE_SUB(NOW(), INTERVAL 14 DAY)\n          AND timestamp &lt; DATE_SUB(NOW(), INTERVAL 7 DAY)\n    ) * 100, 2) as growth_pct\nFROM wp_search_logs sl\nWHERE timestamp &gt;= DATE_SUB(NOW(), INTERVAL 7 DAY)\nGROUP BY query\nHAVING previous_week_count &gt;= 5 AND growth_pct &gt; 50\nORDER BY growth_pct DESC;\n</code></pre>"},{"location":"signals/signals-guide-book/#3_ab_testing","title":"3. A/B Testing","text":"<p>Test Variables:</p> <ul> <li>Ranking algorithm changes</li> <li>Result presentation (snippets, formatting)</li> <li>Intent detection methods</li> <li>Number of results per page</li> <li>Inclusion of suggested queries</li> </ul> <p>Implementation:</p> <pre><code>function ab_test_search_ranking($query, $user_session) {\n    // Assign user to variant (50/50 split)\n    $variant = (crc32($user_session) % 2 === 0) ? 'control' : 'treatment';\n\n    if ($variant === 'treatment') {\n        // Apply new ranking algorithm\n        $results = new_ranking_algorithm($query);\n    } else {\n        // Use current ranking algorithm\n        $results = current_ranking_algorithm($query);\n    }\n\n    // Log variant assignment\n    log_ab_test($user_session, $variant, $query);\n\n    return $results;\n}\n</code></pre> <p>Measurement:</p> <pre><code>-- Compare CTR between variants\nSELECT \n    abt.variant,\n    COUNT(DISTINCT sl.id) as total_searches,\n    COUNT(sc.id) as total_clicks,\n    ROUND(COUNT(sc.id) / COUNT(DISTINCT sl.id) * 100, 2) as ctr,\n    ROUND(AVG(sc.dwell_time), 0) as avg_dwell_time\nFROM wp_ab_tests abt\nJOIN wp_search_logs sl ON abt.session_id = sl.session_id\nLEFT JOIN wp_search_clicks sc ON sl.id = sc.search_log_id\nWHERE abt.test_name = 'new_ranking_algorithm'\nAND sl.timestamp &gt;= DATE_SUB(NOW(), INTERVAL 7 DAY)\nGROUP BY abt.variant;\n</code></pre>"},{"location":"signals/signals-guide-book/#monthly_deep_dive","title":"Monthly Deep Dive","text":""},{"location":"signals/signals-guide-book/#intent_analysis","title":"Intent Analysis","text":"<p>Review intent classification accuracy:</p> <pre><code>SELECT \n    intent_type,\n    COUNT(*) as total_queries,\n    AVG(intent_confidence) as avg_confidence,\n    AVG(num_results) as avg_results,\n    -- Calculate effective CTR\n    (SELECT COUNT(sc.id) \n     FROM wp_search_clicks sc \n     JOIN wp_search_logs sl2 ON sc.search_log_id = sl2.id \n     WHERE sl2.intent_type = sl.intent_type\n    ) / COUNT(*) as avg_clicks_per_query\nFROM wp_search_logs sl\nWHERE timestamp &gt;= DATE_SUB(NOW(), INTERVAL 30 DAY)\nAND intent_type IS NOT NULL\nGROUP BY intent_type;\n</code></pre> <p>Actions:</p> <ul> <li>Update intent detection rules based on mislabeled queries</li> <li>Adjust confidence thresholds</li> <li>Add new intent keywords</li> </ul>"},{"location":"signals/signals-guide-book/#algorithm_performance","title":"Algorithm Performance","text":"<p>Compare relevance scores over time:</p> <pre><code>SELECT \n    DATE_FORMAT(sl.timestamp, '%Y-%m') as month,\n    AVG(sq.relevance_score) as avg_relevance,\n    COUNT(DISTINCT sl.query) as unique_queries,\n    AVG(sl.num_results) as avg_results\nFROM wp_search_logs sl\nLEFT JOIN wp_search_quality sq ON sl.query = sq.query\nWHERE sl.timestamp &gt;= DATE_SUB(NOW(), INTERVAL 6 MONTH)\nGROUP BY DATE_FORMAT(sl.timestamp, '%Y-%m')\nORDER BY month;\n</code></pre> <p>Track improvement:</p> <ul> <li>Month-over-month relevance score changes</li> <li>Query satisfaction trends</li> <li>Zero-result rate trends</li> </ul>"},{"location":"signals/signals-guide-book/#content_gaps","title":"Content Gaps","text":"<p>Identify topics users search for but you lack content:</p> <pre><code>-- High-volume searches with low results\nSELECT \n    query,\n    COUNT(*) as search_frequency,\n    AVG(num_results) as avg_results,\n    -- Calculate topic cluster\n    SUBSTRING_INDEX(query, ' ', 2) as topic_cluster\nFROM wp_search_logs\nWHERE timestamp &gt;= DATE_SUB(NOW(), INTERVAL 30 DAY)\nAND num_results &lt; 3\nGROUP BY query\nHAVING search_frequency &gt;= 5\nORDER BY search_frequency DESC;\n</code></pre> <p>Content creation priorities:</p> <ol> <li>High-volume, zero-result queries</li> <li>High-conversion-intent queries with limited results</li> <li>Emerging trend queries</li> <li>Common question patterns without answers</li> </ol>"},{"location":"signals/signals-guide-book/#advanced_signal_analysis","title":"Advanced Signal Analysis","text":""},{"location":"signals/signals-guide-book/#machine_learning_opportunities","title":"Machine Learning Opportunities","text":""},{"location":"signals/signals-guide-book/#automated_intent_detection","title":"Automated Intent Detection","text":"<p>Training Data Collection:</p> <p>Collect labeled examples:</p> <ul> <li>Historical queries with manual intent labels</li> <li>Click patterns as intent indicators (navigational = single click on top result, informational = multiple clicks, etc.)</li> <li>Session context (previous queries, time on site)</li> </ul> <p>Model Approach:</p> <p>Use a text classification model:</p> <pre><code>from sklearn.feature_extraction.text import TfidfVectorizer\nfrom sklearn.naive_bayes import MultinomialNB\nfrom sklearn.pipeline import Pipeline\n\n# Prepare training data\ntraining_queries = [\n    (\"contact us\", \"navigational\"),\n    (\"about page\", \"navigational\"),\n    (\"how to install wordpress\", \"informational\"),\n    (\"wordpress tutorial\", \"informational\"),\n    (\"buy premium theme\", \"transactional\"),\n    (\"download plugin\", \"transactional\"),\n    # ... more training examples\n]\n\nqueries, labels = zip(*training_queries)\n\n# Create and train model\nmodel = Pipeline([\n    ('tfidf', TfidfVectorizer(ngram_range=(1, 2))),\n    ('classifier', MultinomialNB())\n])\n\nmodel.fit(queries, labels)\n\n# Predict intent for new query\nnew_query = \"wordpress security tips\"\npredicted_intent = model.predict([new_query])[0]\nconfidence = max(model.predict_proba([new_query])[0])\n</code></pre> <p>Features for Intent Detection:</p> <ul> <li>Query text (TF-IDF vectors)</li> <li>Query length</li> <li>Presence of question words</li> <li>Presence of action verbs</li> <li>User's search history</li> <li>Time of day</li> <li>Session context</li> </ul> <p>Continuous Learning:</p> <p>Update the model regularly: 1. Collect new labeled data from user behavior 2. Retrain model monthly 3. Validate accuracy against held-out test set 4. Deploy improved model</p>"},{"location":"signals/signals-guide-book/#learning_to_rank","title":"Learning to Rank","text":"<p>Signal-Based Ranking Model:</p> <p>Use historical engagement data to train a ranking model:</p> <pre><code>import lightgbm as lgb\nimport numpy as np\n\n# Feature engineering\ndef extract_features(query, document, historical_data):\n    return {\n        'bm25_score': calculate_bm25(query, document),\n        'title_match': int(query.lower() in document.title.lower()),\n        'exact_match': int(query.lower() == document.title.lower()),\n        'historical_ctr': historical_data.get('ctr', 0),\n        'avg_dwell_time': historical_data.get('dwell_time', 0),\n        'conversion_rate': historical_data.get('conversion_rate', 0),\n        'freshness': days_since_published(document),\n        'authority_score': document.author_reputation,\n        'content_length': len(document.content),\n        'num_images': document.image_count\n    }\n\n# Training data format: query, document, relevance_label (0-4)\ntraining_data = []\nfor query in training_queries:\n    for doc, label in get_labeled_documents(query):\n        features = extract_features(query, doc, get_historical_data(query, doc))\n        training_data.append((features, label))\n\n# Train LightGBM ranker\nX = [f for f, l in training_data]\ny = [l for f, l in training_data]\n\nmodel = lgb.LGBMRanker(\n    objective='lambdarank',\n    metric='ndcg',\n    n_estimators=100\n)\n\nmodel.fit(X, y, group=[len(get_labeled_documents(q)) for q in training_queries])\n</code></pre> <p>Signals for Ranking Model:</p> <ul> <li>Historical click-through rates for query-document pairs</li> <li>Average dwell time patterns</li> <li>User feedback (if available - thumbs up/down)</li> <li>Content metadata (freshness, authority, completeness)</li> <li>BM25 or other text matching scores</li> <li>Semantic similarity scores</li> <li>User personalization signals</li> </ul> <p>Reranking Pipeline:</p> <pre><code>def rerank_results(query, initial_results, user_context):\n    # Extract features for each result\n    features = []\n    for result in initial_results:\n        hist_data = get_historical_signals(query, result.id)\n        feat = extract_features(query, result, hist_data)\n        features.append(feat)\n\n    # Predict relevance scores\n    scores = ranking_model.predict(features)\n\n    # Rerank based on predicted scores\n    ranked_results = sorted(\n        zip(initial_results, scores),\n        key=lambda x: x[1],\n        reverse=True\n    )\n\n    return [r for r, s in ranked_results]\n</code></pre>"},{"location":"signals/signals-guide-book/#personalization_signals","title":"Personalization Signals","text":"<p>User History:</p> <ul> <li>Previous successful searches</li> <li>Content categories engaged with</li> <li>Conversion history</li> <li>Search time patterns</li> <li>Preferred content types</li> </ul> <p>Contextual Signals:</p> <ul> <li>Device type (mobile users might have different intent)</li> <li>Time of day (morning research vs. evening quick answers)</li> <li>Geographic location (if relevant)</li> <li>Referral source (organic vs. paid vs. direct)</li> <li>Session depth (new visitor vs. returning user)</li> </ul> <p>Implementation Example:</p> <pre><code>function personalize_search_results($query, $results, $user_id) {\n    if (!$user_id) {\n        return $results; // No personalization for anonymous users\n    }\n\n    // Get user preferences\n    $user_prefs = get_user_search_preferences($user_id);\n\n    // Adjust ranking based on preferences\n    foreach ($results as &amp;$result) {\n        $boost = 1.0;\n\n        // Boost based on user's preferred categories\n        if (in_array($result-&gt;category, $user_prefs['favorite_categories'])) {\n            $boost *= 1.3;\n        }\n\n        // Boost based on user's preferred content types\n        if ($result-&gt;post_type === $user_prefs['preferred_post_type']) {\n            $boost *= 1.2;\n        }\n\n        // Boost based on historical engagement\n        if (in_array($result-&gt;id, $user_prefs['previously_engaged'])) {\n            $boost *= 0.8; // Slight de-boost to show variety\n        }\n\n        $result-&gt;score *= $boost;\n    }\n\n    // Re-sort by adjusted scores\n    usort($results, function($a, $b) {\n        return $b-&gt;score - $a-&gt;score;\n    });\n\n    return $results;\n}\n</code></pre> <p>Implementation Considerations:</p> <ul> <li>Balance personalization with privacy concerns</li> <li>Provide non-personalized option</li> <li>Avoid filter bubbles (show diverse results)</li> <li>Test personalization impact on satisfaction</li> <li>Make personalization transparent to users</li> <li>Allow users to reset preferences</li> </ul> <p>A/B Testing Personalization:</p> <p>Compare personalized vs. non-personalized results: - Engagement metrics (CTR, dwell time) - User satisfaction scores - Conversion rates - Session success rates</p>"},{"location":"signals/signals-guide-book/#semantic_search_integration","title":"Semantic Search Integration","text":"<p>Using Signals to Tune Semantic Search:</p> <p>When implementing semantic search with embeddings:</p> <ol> <li>Validate Improvement: Compare engagement metrics before/after semantic search</li> <li>Tune Weights: Balance keyword matching vs. semantic similarity</li> <li>Identify Where Semantic Helps: Track which query types benefit most</li> </ol> <p>Hybrid Search Approach:</p> <pre><code>def hybrid_search(query, intent, confidence):\n    # Get results from both keyword and semantic search\n    keyword_results = bm25_search(query)\n    semantic_results = vector_search(query)\n\n    # Adjust weights based on intent\n    if intent == 'navigational' and confidence &gt; 0.7:\n        keyword_weight = 0.9\n        semantic_weight = 0.1\n    elif intent == 'informational' and confidence &gt; 0.7:\n        keyword_weight = 0.4\n        semantic_weight = 0.6\n    else:\n        keyword_weight = 0.6\n        semantic_weight = 0.4\n\n    # Combine and rerank\n    combined_scores = {}\n    for result in keyword_results:\n        combined_scores[result.id] = keyword_weight * result.score\n\n    for result in semantic_results:\n        if result.id in combined_scores:\n            combined_scores[result.id] += semantic_weight * result.score\n        else:\n            combined_scores[result.id] = semantic_weight * result.score\n\n    # Sort and return\n    ranked_ids = sorted(combined_scores.items(), key=lambda x: x[1], reverse=True)\n    return [get_document(doc_id) for doc_id, score in ranked_ids]\n</code></pre> <p>Track Semantic Search Effectiveness:</p> <pre><code>SELECT \n    sl.query,\n    AVG(CASE WHEN sl.search_method = 'semantic' THEN sq.relevance_score ELSE NULL END) as semantic_relevance,\n    AVG(CASE WHEN sl.search_method = 'keyword' THEN sq.relevance_score ELSE NULL END) as keyword_relevance,\n    COUNT(*) as total_searches\nFROM wp_search_logs sl\nJOIN wp_search_quality sq ON sl.query = sq.query\nWHERE sl.timestamp &gt;= DATE_SUB(NOW(), INTERVAL 30 DAY)\nGROUP BY sl.query\nHAVING total_searches &gt;= 10\nORDER BY (semantic_relevance - keyword_relevance) DESC;\n</code></pre>"},{"location":"signals/signals-guide-book/#common_pitfalls_and_solutions","title":"Common Pitfalls and Solutions","text":""},{"location":"signals/signals-guide-book/#pitfall_1_over-optimizing_for_click-through_rate","title":"Pitfall 1: Over-Optimizing for Click-Through Rate","text":"<p>Problem: High CTR doesn't always mean good search quality. Users might click irrelevant results due to misleading titles or because all results are poor.</p> <p>Solution: Always combine CTR with dwell time and return-to-search metrics. A high CTR with low dwell time indicates misleading results.</p> <p>Example:</p> <ul> <li>Query: \"wordpress backup\"</li> <li>Result 1: \"The Ultimate Guide to WordPress Backup\" (CTR: 80%, Dwell: 8s)</li> <li>Result 2: \"WordPress Backup Plugin Tutorial\" (CTR: 45%, Dwell: 180s)</li> </ul> <p>Result 1 has higher CTR but Result 2 is actually more valuable.</p>"},{"location":"signals/signals-guide-book/#pitfall_2_ignoring_long-tail_queries","title":"Pitfall 2: Ignoring Long-Tail Queries","text":"<p>Problem: Focusing only on high-volume queries neglects 70% of searches, which often have specific, valuable intent.</p> <p>Solution: Set quality benchmarks for all query types. Rare queries still deserve good results. Track satisfaction scores across frequency tiers.</p> <p>Segmentation:</p> <ul> <li>High-volume (&gt;100/month): Optimize heavily</li> <li>Medium-volume (10-100/month): Monitor and improve</li> <li>Long-tail (&lt;10/month): Ensure baseline quality</li> </ul>"},{"location":"signals/signals-guide-book/#pitfall_3_not_accounting_for_intent_differences","title":"Pitfall 3: Not Accounting for Intent Differences","text":"<p>Problem: Treating all queries the same leads to poor results for specific intent types. Showing blog posts to users with transactional intent frustrates them.</p> <p>Solution: Develop separate optimization strategies for each intent category. Adjust ranking algorithms based on detected intent.</p> <p>Intent-Specific Metrics:</p> <ul> <li>Navigational: Time to first click (should be fast)</li> <li>Informational: Number of results explored (higher is okay)</li> <li>Transactional: Conversion rate (most important)</li> </ul>"},{"location":"signals/signals-guide-book/#pitfall_4_data_hoarding_without_action","title":"Pitfall 4: Data Hoarding Without Action","text":"<p>Problem: Collecting extensive data but never using it to improve search. Analysis paralysis prevents implementation.</p> <p>Solution: Establish regular analysis routines and commit to implementing changes. Start small with weekly quick wins.</p> <p>Action Framework:</p> <ul> <li>Daily: Monitor for critical issues</li> <li>Weekly: Fix top 3 problem queries</li> <li>Monthly: Implement 1-2 algorithmic improvements</li> <li>Quarterly: Major feature additions</li> </ul>"},{"location":"signals/signals-guide-book/#pitfall_5_forgetting_the_human_element","title":"Pitfall 5: Forgetting the Human Element","text":"<p>Problem: Over-reliance on automated signals without understanding user context. Metrics don't capture everything.</p> <p>Solution: Combine quantitative signals with qualitative research:</p> <ul> <li>User interviews (why do you search this way?)</li> <li>Survey pop-ups (was this helpful?)</li> <li>User testing sessions</li> <li>Support ticket analysis</li> </ul> <p>Balanced Approach:</p> <p>80% quantitative signals + 20% qualitative insights = best results</p>"},{"location":"signals/signals-guide-book/#pitfall_6_privacy_violations","title":"Pitfall 6: Privacy Violations","text":"<p>Problem: Tracking too much personal information or not respecting user privacy preferences.</p> <p>Solution:</p> <ul> <li>Default to session-based tracking (no personal IDs)</li> <li>Implement opt-out mechanisms</li> <li>Regular data deletion schedules</li> <li>Transparent privacy policy</li> <li>GDPR/CCPA compliance</li> </ul>"},{"location":"signals/signals-guide-book/#pitfall_7_not_testing_changes","title":"Pitfall 7: Not Testing Changes","text":"<p>Problem: Implementing ranking changes without A/B testing can harm search quality without you realizing it.</p> <p>Solution: Always A/B test significant changes:</p> <ul> <li>Control group (20-50% of users)</li> <li>Treatment group (50-80% of users)</li> <li>Run for at least 1 week</li> <li>Measure statistical significance</li> <li>Roll back if metrics decline</li> </ul>"},{"location":"signals/signals-guide-book/#pitfall_8_ignoring_mobile_vs_desktop_differences","title":"Pitfall 8: Ignoring Mobile vs Desktop Differences","text":"<p>Problem: Mobile and desktop users have different behaviors and needs, but search treats them the same.</p> <p>Solution: Track metrics separately by device type:</p> <pre><code>SELECT \n    device_type,\n    AVG(dwell_time) as avg_dwell,\n    COUNT(sc.id) / COUNT(DISTINCT sl.id) as ctr\nFROM wp_search_logs sl\nLEFT JOIN wp_search_clicks sc ON sl.id = sc.search_log_id\nGROUP BY device_type;\n</code></pre> <p>Optimize accordingly:</p> <ul> <li>Mobile: Faster load times, concise results</li> <li>Desktop: More detailed information, more results per page</li> </ul>"},{"location":"signals/signals-guide-book/#success_metrics","title":"Success Metrics","text":"<p>Track these month-over-month to measure improvement:</p> <p>Primary Metrics:</p> <ol> <li> <p>Session Success Rate</p> </li> <li> <p>Target: &gt;70%</p> </li> <li> <p>Measures: Overall search effectiveness</p> </li> <li> <p>Click-Through Rate</p> </li> <li> <p>Target: &gt;60%</p> </li> <li> <p>Measures: Result relevance and presentation</p> </li> <li> <p>Average Satisfaction Score</p> </li> <li> <p>Target: &gt;70/100</p> </li> <li>Measures: Aggregate quality</li> </ol> <p>Secondary Metrics:</p> <ol> <li>Zero-Result Query Rate</li> <li>Target: &lt;5%</li> <li> <p>Measures: Content coverage</p> </li> <li> <p>Query Refinement Rate</p> </li> <li> <p>Target: &lt;30%</p> </li> <li> <p>Measures: First-query success</p> </li> <li> <p>Search-to-Conversion Rate</p> </li> <li> <p>Track improvement</p> </li> <li> <p>Measures: Business impact</p> </li> <li> <p>Average Time-to-Success</p> </li> <li> <p>Track reduction</p> </li> <li>Measures: Efficiency</li> </ol> <p>Monthly Progress Example:</p> <pre><code>Month 1 (Baseline):\n- Success Rate: 55%\n- CTR: 48%\n- Satisfaction: 58/100\n- Zero Results: 12%\n- Refinement Rate: 38%\n\nMonth 2 (After initial improvements):\n- Success Rate: 62% (+7%)\n- CTR: 55% (+7%)\n- Satisfaction: 64/100 (+6)\n- Zero Results: 8% (-4%)\n- Refinement Rate: 32% (-6%)\n\nMonth 3 (After BM25 tuning):\n- Success Rate: 71% (+9%)\n- CTR: 64% (+9%)\n- Satisfaction: 73/100 (+9)\n- Zero Results: 4% (-4%)\n- Refinement Rate: 26% (-6%)\n\nResult: 29% improvement in success rate over 3 months\n</code></pre>"},{"location":"signals/signals-guide-book/#key_takeaways","title":"Key Takeaways","text":""},{"location":"signals/signals-guide-book/#essential_principles","title":"Essential Principles","text":"<ol> <li> <p>Intent First: Always consider what users are trying to accomplish, not just what keywords they typed</p> </li> <li> <p>Actions Speak Louder: User behavior (clicks, dwell time, conversions) is more reliable than assumptions or explicit feedback</p> </li> <li> <p>Quality Over Quantity: A few highly relevant results beat many mediocre ones. Focus on top 5 results quality.</p> </li> <li> <p>Continuous Improvement: Search optimization is an ongoing process, not a one-time project. Commit to weekly improvements.</p> </li> <li> <p>Privacy Matters: Collect data responsibly and transparently. Respect user privacy while gathering insights.</p> </li> <li> <p>Context is Everything: Mobile vs desktop, time of day, user history\u2014all affect search behavior. Segment your analysis.</p> </li> <li> <p>Test Before Deploying: Always A/B test significant changes. Intuition can be wrong about what improves search.</p> </li> <li> <p>Balance Signals: No single metric tells the whole story. Combine CTR, dwell time, conversions, and satisfaction scores.</p> </li> </ol>"},{"location":"signals/signals-guide-book/#the_continuous_improvement_cycle","title":"The Continuous Improvement Cycle","text":"<p>Search signals create a feedback loop that drives perpetual improvement:</p> <ol> <li>Collect signals from user behavior</li> <li>Analyze patterns to identify problems and opportunities</li> <li>Implement changes to ranking, content, or features</li> <li>Measure impact with signals</li> <li>Iterate based on results</li> </ol> <p>This cycle never ends. Even after achieving excellent metrics, user needs evolve, content changes, and new opportunities emerge.</p>"},{"location":"signals/signals-guide-book/#beyond_default_wordpress_search","title":"Beyond Default WordPress Search","text":"<p>Understanding search signals transforms your approach from:</p> <p>Before: \"Let's add full-text search and hope it works better\"</p> <p>After: \"Let's implement FTS, measure engagement signals, identify which queries improve, retune parameters, validate with A/B testing, and continuously optimize based on real user behavior\"</p> <p>This data-driven approach ensures: - Justifiable technical decisions - Measurable ROI on search investments - Continuous quality improvements - Competitive advantage through superior search experience</p>"},{"location":"signals/signals-guide-book/#integration_with_advanced_technologies","title":"Integration with Advanced Technologies","text":"<p>As you implement advanced search technologies:</p> <ul> <li>Full-Text Search: Use signals to tune MATCH AGAINST parameters and scoring</li> <li>BM25 Scoring: Optimize k1 and b parameters based on engagement data</li> <li>Semantic Search: Validate that embeddings improve long-tail and conceptual queries</li> <li>Reranking: Leverage historical signals to improve ranking</li> <li>RAG Pipelines: Ensure AI-generated answers satisfy users based on feedback signals</li> </ul> <p>Every advanced search technology you implement should be validated with signals. Never deploy search improvements without measuring their impact.</p>"},{"location":"signals/signals-guide-book/#conclusion","title":"Conclusion","text":""},{"location":"signals/signals-guide-book/#the_path_forward","title":"The Path Forward","text":"<p>Search is not a feature\u2014it's an experience. Users judge your entire site by how well they can find information. Poor search drives users to competitors. Excellent search builds loyalty and drives conversions.</p> <p>Search signals give you the visibility and control needed to deliver consistently excellent search experiences. They transform search from a black box into a transparent, improvable system.</p>"},{"location":"signals/signals-guide-book/#start_simple_scale_smart","title":"Start Simple, Scale Smart","text":"<p>You don't need to implement everything at once:</p> <p>Week 1: Basic tracking (queries, clicks) Week 2: Simple analytics (top queries, CTR) Week 3: Problem identification (zero-results, low CTR queries) Week 4: First improvements (quick wins) Month 2-3: Intent detection, quality scoring, algorithm tuning Month 4+: Machine learning, personalization, advanced features</p> <p>Start with the foundation, measure consistently, and improve continuously.</p>"},{"location":"signals/signals-guide-book/#the_goal","title":"The Goal","text":"<p>The goal isn't perfect search results immediately. The goal is a system that gets measurably better every week by learning from real user behavior.</p> <p>Your search functionality will never be \"finished,\" but with proper signal tracking and analysis, it will always be improving.</p>"},{"location":"signals/signals-guide-book/#appendix_quick_reference","title":"Appendix: Quick Reference","text":""},{"location":"signals/signals-guide-book/#essential_sql_queries","title":"Essential SQL Queries","text":"<p>Daily Top Searches: <pre><code>SELECT query, COUNT(*) as count\nFROM wp_search_logs\nWHERE DATE(timestamp) = CURDATE()\nGROUP BY query\nORDER BY count DESC\nLIMIT 20;\n</code></pre></p> <p>Zero-Result Queries: <pre><code>SELECT query, COUNT(*) as frequency\nFROM wp_search_logs\nWHERE num_results = 0\nAND timestamp &gt;= CURDATE() - INTERVAL 7 DAY\nGROUP BY query\nORDER BY frequency DESC;\n</code></pre></p> <p>Low CTR Queries: <pre><code>SELECT \n    sl.query,\n    COUNT(DISTINCT sl.id) as searches,\n    COUNT(sc.id) as clicks,\n    (COUNT(sc.id) / COUNT(DISTINCT sl.id) * 100) as ctr\nFROM wp_search_logs sl\nLEFT JOIN wp_search_clicks sc ON sl.id = sc.search_log_id\nWHERE sl.timestamp &gt;= CURDATE() - INTERVAL 7 DAY\nGROUP BY sl.query\nHAVING searches &gt;= 10 AND ctr &lt; 40\nORDER BY searches DESC;\n</code></pre></p> <p>Query Performance Over Time: <pre><code>SELECT \n    DATE(timestamp) as date,\n    COUNT(*) as total_searches,\n    AVG(num_results) as avg_results,\n    SUM(CASE WHEN num_results = 0 THEN 1 ELSE 0 END) / COUNT(*) * 100 as zero_result_pct\nFROM wp_search_logs\nWHERE timestamp &gt;= CURDATE() - INTERVAL 30 DAY\nGROUP BY DATE(timestamp)\nORDER BY date;\n</code></pre></p> <p>Top Converting Queries: <pre><code>SELECT \n    sl.query,\n    COUNT(DISTINCT sl.id) as searches,\n    SUM(CASE WHEN sc.converted = 1 THEN 1 ELSE 0 END) as conversions,\n    ROUND(SUM(CASE WHEN sc.converted = 1 THEN 1 ELSE 0 END) / COUNT(DISTINCT sl.id) * 100, 2) as conversion_rate\nFROM wp_search_logs sl\nLEFT JOIN wp_search_clicks sc ON sl.id = sc.search_log_id\nWHERE sl.timestamp &gt;= CURDATE() - INTERVAL 30 DAY\nGROUP BY sl.query\nHAVING searches &gt;= 10\nORDER BY conversion_rate DESC\nLIMIT 20;\n</code></pre></p>"},{"location":"signals/signals-guide-book/#signal_interpretation_cheat_sheet","title":"Signal Interpretation Cheat Sheet","text":"Signal Good Concerning Critical CTR &gt;60% 40-60% &lt;40% Dwell Time (avg) &gt;60s 20-60s &lt;20s Zero-Result Rate &lt;5% 5-15% &gt;15% Refinement Rate &lt;25% 25-40% &gt;40% Satisfaction Score &gt;70 50-70 &lt;50 Time to Success &lt;30s 30-90s &gt;90s Session Success Rate &gt;70% 50-70% &lt;50%"},{"location":"signals/signals-guide-book/#intent_detection_keywords","title":"Intent Detection Keywords","text":"<p>Navigational:</p> <p>contact, about, pricing, login, signup, account, dashboard, home, blog, shop, cart, checkout, faq, support, terms, privacy</p> <p>Informational:</p> <p>how, what, why, when, where, who, guide, tutorial, tips, best practices, learn, explain, difference, compare, vs, versus, review</p> <p>Transactional:</p> <p>buy, purchase, download, order, subscribe, book, hire, get, install, price, cost, discount, deal, cheap, affordable, free, trial, demo</p>"},{"location":"signals/signals-guide-book/#weekly_analysis_checklist","title":"Weekly Analysis Checklist","text":"<ul> <li>[ ] Review top 20 searches</li> <li>[ ] Check zero-result queries</li> <li>[ ] Identify 3 problem queries (low CTR, high abandonment)</li> <li>[ ] Implement 1-2 quick fixes</li> <li>[ ] Monitor CTR trends</li> <li>[ ] Review conversion-driving queries</li> <li>[ ] Update documentation</li> <li>[ ] Share insights with team</li> </ul>"},{"location":"signals/signals-guide-book/#monthly_deep_dive_checklist","title":"Monthly Deep Dive Checklist","text":"<ul> <li>[ ] Deep dive into satisfaction scores by intent type</li> <li>[ ] A/B test one ranking improvement</li> <li>[ ] Create content for 2-3 gap areas</li> <li>[ ] Review intent classification accuracy</li> <li>[ ] Analyze algorithm performance trends</li> <li>[ ] Correlate signals with user feedback</li> <li>[ ] Strategic planning for next month</li> <li>[ ] Report results to stakeholders</li> </ul>"},{"location":"signals/signals-guide-book/#key_metrics_dashboard","title":"Key Metrics Dashboard","text":"<p>Create a dashboard tracking:</p> <ol> <li> <p>Overall Health:</p> </li> <li> <p>Total searches (daily/weekly/monthly)</p> </li> <li>Overall CTR</li> <li>Overall satisfaction score</li> <li> <p>Zero-result rate</p> </li> <li> <p>Intent Distribution:</p> </li> <li> <p>% Navigational queries</p> </li> <li>% Informational queries</li> <li>% Transactional queries</li> <li> <p>% Unknown intent</p> </li> <li> <p>Top Lists:</p> </li> <li> <p>Top 10 most searched queries</p> </li> <li>Top 10 zero-result queries</li> <li>Top 10 low-satisfaction queries</li> <li> <p>Top 10 high-converting queries</p> </li> <li> <p>Trends:</p> </li> <li> <p>CTR over time (line chart)</p> </li> <li>Satisfaction score over time</li> <li>Zero-result rate over time</li> <li> <p>Search volume over time</p> </li> <li> <p>Conversions:</p> </li> <li> <p>Search-to-conversion rate</p> </li> <li>Revenue from search</li> <li>Top converting queries</li> </ol> <p>Remember: The most important metric is whether users find what they're looking for. All signals should ultimately serve that goal.</p>"},{"location":"signals/signals/","title":"Understanding Search Signals","text":""},{"location":"signals/signals/#introduction","title":"Introduction","text":"<p>Search signals are the data points and behavioral patterns that help you understand how users interact with your WordPress search functionality. By tracking and analyzing these signals, you can continuously improve search relevance, user experience, and ultimately, conversions.</p> <p>This guide covers three critical signal categories: User Intent, User Actions, and Response Quality.</p>"},{"location":"signals/signals/#1_user_intent_signals","title":"1. User Intent Signals","text":""},{"location":"signals/signals/#what_is_user_intent","title":"What is User Intent?","text":"<p>User intent represents the underlying goal or purpose behind a search query. Understanding intent allows you to deliver results that match not just the keywords, but what users actually want to accomplish.</p>"},{"location":"signals/signals/#the_three_primary_intent_types","title":"The Three Primary Intent Types","text":""},{"location":"signals/signals/#11_navigational_intent","title":"1.1 Navigational Intent","text":"<p>Goal: User wants to find a specific page, post, or resource they know exists.</p> <p>Characteristics:</p> <ul> <li>Specific brand names, product names, or page titles</li> <li>Often includes unique identifiers</li> <li>Low tolerance for irrelevant results</li> </ul> <p>Examples:</p> <ul> <li>\"contact us\"</li> <li>\"pricing page\"</li> <li>\"return policy\"</li> <li>\"author bio john smith\"</li> </ul> <p>Detection Signals:</p> <ul> <li>Exact match queries</li> <li>Queries containing site-specific terminology</li> <li>Single-word navigation terms (about, contact, pricing)</li> <li>Queries with proper nouns</li> </ul> <p>Optimization Strategy:</p> <p>Prioritize exact matches and known page titles. Users with navigational intent need the quickest path to their destination.</p>"},{"location":"signals/signals/#12_informational_intent","title":"1.2 Informational Intent","text":"<p>Goal: User seeks knowledge, guidance, or content on a topic.</p> <p>Characteristics:</p> <ul> <li>Question-based queries</li> <li>How-to phrases</li> <li>General topic exploration</li> <li>Willingness to browse multiple results</li> </ul> <p>Examples:</p> <ul> <li>\"how to install wordpress plugin\"</li> <li>\"best practices for SEO\"</li> <li>\"what is a custom post type\"</li> <li>\"wordpress security tips\"</li> </ul> <p>Detection Signals:</p> <ul> <li>Questions words (how, what, why, when, where, who)</li> <li>Phrases like \"best,\" \"tips,\" \"guide,\" \"tutorial\"</li> <li>General topic keywords without specific product names</li> <li>Comparative terms (\"vs\", \"versus\", \"compared to\")</li> </ul> <p>Optimization Strategy:</p> <p>Surface comprehensive content, guides, and blog posts. Group related content together and suggest follow-up topics.</p>"},{"location":"signals/signals/#13_transactional_intent","title":"1.3 Transactional Intent","text":"<p>Goal: User is ready to take action\u2014purchase, download, signup, or convert.</p> <p>Characteristics:</p> <ul> <li>Action-oriented language</li> <li>Product or service names</li> <li>Urgency indicators</li> <li>High commercial value</li> </ul> <p>Examples:</p> <ul> <li>\"buy premium theme\"</li> <li>\"download plugin\"</li> <li>\"sign up for newsletter\"</li> <li>\"book consultation\"</li> <li>\"pricing for enterprise plan\"</li> </ul> <p>Detection Signals:</p> <ul> <li>Action verbs (buy, download, purchase, order, subscribe)</li> <li>Commercial terms (price, cost, discount, deal)</li> <li>Product/service names with action context</li> <li>Words like \"cheap,\" \"affordable,\" \"best deal\"</li> </ul> <p>Optimization Strategy:</p> <p>Highlight products, services, and conversion pages. Include clear calls-to-action and pricing information in search results.</p>"},{"location":"signals/signals/#detecting_intent_in_wordpress","title":"Detecting Intent in WordPress","text":"<p>Query Analysis Approach:</p> <ol> <li>Keyword Matching: Maintain dictionaries of intent-indicating words</li> <li>Pattern Recognition: Identify common query structures</li> <li>Historical Data: Learn from past queries and their outcomes</li> <li>Context Clues: Consider user's previous searches in the session</li> </ol> <p>Intent Confidence Scoring:</p> <p>Not all queries clearly signal intent. Assign confidence scores:</p> <ul> <li>High Confidence (80-100%): Clear indicators present</li> <li>Medium Confidence (50-79%): Mixed signals or ambiguous</li> <li>Low Confidence (0-49%): Generic query with no clear intent</li> </ul> <p>When confidence is low, serve diverse results covering multiple intent types.</p>"},{"location":"signals/signals/#2_user_action_signals","title":"2. User Action Signals","text":"<p>User actions reveal whether your search results are actually meeting user needs. These behavioral signals are often more truthful than explicit feedback.</p>"},{"location":"signals/signals/#21_click_patterns","title":"2.1 Click Patterns","text":""},{"location":"signals/signals/#click-through_rate_ctr","title":"Click-Through Rate (CTR)","text":"<p>What it measures: Percentage of search sessions resulting in at least one click.</p> <p>Significance:</p> <ul> <li>Low CTR (&lt;30%): Results aren't relevant or compelling</li> <li>Medium CTR (30-60%): Acceptable but room for improvement</li> <li>High CTR (&gt;60%): Strong result relevance</li> </ul> <p>Tracking:</p> <ul> <li>Search query</li> <li>Number of results displayed</li> <li>Number of clicks</li> <li>Which result positions get clicked</li> </ul> <p>Red Flags:</p> <ul> <li>Zero-click searches (user leaves without clicking)</li> <li>Clicks only on first result (other results ignored)</li> <li>Clicks on irrelevant results (indicates poor ranking)</li> </ul>"},{"location":"signals/signals/#click_position_analysis","title":"Click Position Analysis","text":"<p>What it measures: Which result positions receive the most engagement.</p> <p>Key Insights:</p> <ul> <li>Position 1-3: Should capture 70-80% of clicks if results are relevant</li> <li>Position 4-7: Moderate engagement; users are willing to scroll</li> <li>Position 8+: Low engagement; likely not meeting user needs</li> </ul> <p>Optimization Actions:</p> <ul> <li>If position 5 gets more clicks than position 1: Your ranking algorithm needs adjustment</li> <li>If all positions get equal clicks: Results may all be equally mediocre</li> <li>If only position 1 gets clicks: Other results might be irrelevant</li> </ul>"},{"location":"signals/signals/#click_depth","title":"Click Depth","text":"<p>What it measures: How many results a user clicks on before finding what they need.</p> <p>Patterns:</p> <ul> <li>Single Click: Found what they needed immediately (ideal)</li> <li>2-3 Clicks: Exploring options or refining search mentally</li> <li>4+ Clicks: Struggling to find relevant content</li> </ul> <p>Session-Based Tracking:</p> <p>Track the entire search journey, not just individual queries. Users might: 1. Search \u2192 Click \u2192 Return \u2192 Refine search \u2192 Click again 2. Search \u2192 Click multiple results \u2192 Compare \u2192 Choose one</p>"},{"location":"signals/signals/#22_time-based_signals","title":"2.2 Time-Based Signals","text":""},{"location":"signals/signals/#dwell_time","title":"Dwell Time","text":"<p>What it measures: How long users spend on a clicked result before returning to search.</p> <p>Interpretation:</p> <ul> <li>&lt;10 seconds: Quick bounce, likely irrelevant (pogo-sticking)</li> <li>10-30 seconds: Skimmed content, partially relevant</li> <li>30-120 seconds: Engaged with content, likely relevant</li> <li>&gt;120 seconds: Deep engagement, high relevance</li> </ul> <p>Important Note: Longer isn't always better. A user finding a quick answer to a simple question might have 15 seconds of dwell time but be completely satisfied.</p> <p>Context Matters:</p> <ul> <li>Blog post: Expect 2-5 minutes for engaged reading</li> <li>Product page: 30-90 seconds if interested</li> <li>Contact page: 10-20 seconds to find information</li> <li>Download page: 5-15 seconds to initiate download</li> </ul>"},{"location":"signals/signals/#return_to_search","title":"Return to Search","text":"<p>What it measures: Whether users return to search results after clicking.</p> <p>Patterns:</p> <ul> <li>No Return: User found what they needed (success)</li> <li>Quick Return (&lt;10s): Result was irrelevant</li> <li>Delayed Return (&gt;30s): User read but didn't find complete answer</li> <li>Return + Refine: User learned something and adjusted their search</li> </ul>"},{"location":"signals/signals/#session_duration","title":"Session Duration","text":"<p>What it measures: Total time from initial search to session end.</p> <p>Analysis:</p> <ul> <li>Short Sessions (&lt;1 min): Either very successful or very frustrated</li> <li>Medium Sessions (1-5 min): Normal exploration and refinement</li> <li>Long Sessions (&gt;5 min): Either deep research or struggling to find answers</li> </ul>"},{"location":"signals/signals/#23_refinement_behavior","title":"2.3 Refinement Behavior","text":""},{"location":"signals/signals/#query_reformulation","title":"Query Reformulation","text":"<p>What it measures: How users modify their searches.</p> <p>Refinement Types:</p> <ol> <li>Specification: Adding more keywords to narrow results</li> <li>\"wordpress\" \u2192 \"wordpress custom post types\"</li> <li> <p>Action: Previous results too broad</p> </li> <li> <p>Generalization: Removing keywords to broaden results</p> </li> <li>\"wordpress woocommerce abandoned cart recovery\" \u2192 \"woocommerce abandoned cart\"</li> <li> <p>Action: Previous search too specific, no results found</p> </li> <li> <p>Synonym Substitution: Trying different words for same concept</p> </li> <li>\"tutorial\" \u2192 \"guide\" \u2192 \"how to\"</li> <li> <p>Action: Vocabulary mismatch between user and content</p> </li> <li> <p>Intent Shift: Changing search approach entirely</p> </li> <li>\"wordpress themes\" \u2192 \"how to customize wordpress theme\"</li> <li>Action: User realized they need different information</li> </ol> <p>Tracking Strategy:</p> <p>Maintain search session history to identify refinement patterns. Store: - Previous queries in session - Time between queries - Results clicked in each query - Final successful query (if any)</p>"},{"location":"signals/signals/#abandonment_signals","title":"Abandonment Signals","text":"<p>Zero-Result Refinement:</p> <p>User searches, gets no results, tries again. This is critical data: - Track which queries return zero results - Monitor how users reformulate after zero results - Identify vocabulary gaps (users' terms vs. your content's terms)</p> <p>Multi-Query Abandonment:</p> <p>User tries multiple searches then leaves without clicking. Indicates: - Search functionality isn't working - Content doesn't exist - Results are consistently irrelevant</p>"},{"location":"signals/signals/#24_no-click_searches","title":"2.4 No-Click Searches","text":"<p>Types of No-Click Scenarios:</p> <ol> <li>Instant Answer Found: Search interface provides answer directly (good)</li> <li>No Relevant Results: User sees results are irrelevant and leaves (bad)</li> <li>Query Abandonment: User realizes they phrased query wrong (neutral)</li> <li>Alternative Exit: User navigates away via menu/link instead (neutral)</li> </ol> <p>Tracking Method:</p> <ul> <li>Log searches where user doesn't click any result</li> <li>Track subsequent user behavior (did they navigate elsewhere?)</li> <li>Compare no-click rate across different query types</li> </ul>"},{"location":"signals/signals/#3_quality_of_response_signals","title":"3. Quality of Response Signals","text":""},{"location":"signals/signals/#31_relevance_scoring","title":"3.1 Relevance Scoring","text":""},{"location":"signals/signals/#result_relevance_assessment","title":"Result Relevance Assessment","text":"<p>Implicit Signals:</p> <p>These signals suggest relevance without explicit user feedback.</p> <ol> <li>Long Clicks: User clicks and doesn't return for extended period</li> <li>Last Click: Final click in search session (user stopped searching)</li> <li>Click Position vs. Dwell Time: Lower-ranked results with high dwell time suggest they're more relevant than higher-ranked results</li> </ol> <p>Scoring Model:</p> <p>Assign quality scores to each search result based on actions:</p> <ul> <li>Click + No Return: +10 points (strong relevance)</li> <li>Click + Quick Return (&lt;10s): -5 points (irrelevant)</li> <li>Click + Medium Dwell (10-30s): +3 points (somewhat relevant)</li> <li>Click + Long Dwell (&gt;30s) + Return: +5 points (helpful but incomplete)</li> <li>Click + Long Dwell (&gt;30s) + No Return: +10 points (fully satisfied)</li> <li>No Click: 0 points (neutral, might be relevant but not compelling)</li> </ul> <p>Aggregate Over Time:</p> <ul> <li>Track scores per query-result pair</li> <li>Calculate average relevance score</li> <li>Identify consistently high-scoring and low-scoring results</li> <li>Adjust ranking algorithm accordingly</li> </ul>"},{"location":"signals/signals/#32_result_diversity","title":"3.2 Result Diversity","text":""},{"location":"signals/signals/#why_diversity_matters","title":"Why Diversity Matters","text":"<p>When intent is unclear, diverse results hedge your bets. A search for \"apple\" could mean:</p> <ul> <li>The fruit (informational)</li> <li>Apple Inc. (navigational)</li> <li>Apple recipes (informational/transactional)</li> </ul> <p>Diversity Signals:</p> <ol> <li>Click Distribution: Are clicks spread across different result types?</li> <li>Query Refinement Direction: Do users narrow or broaden?</li> <li>Multi-Click Pattern: Do users click on different content types?</li> </ol> <p>Measurement:</p> <ul> <li>Content type diversity (posts, pages, products, media)</li> <li>Topic diversity (different categories/tags)</li> <li>Format diversity (articles, downloads, videos)</li> </ul> <p>Optimization:</p> <p>For ambiguous queries, ensure top 10 results cover multiple interpretations. Track which interpretation gets most engagement, then emphasize that intent in future.</p>"},{"location":"signals/signals/#33_satisfaction_metrics","title":"3.3 Satisfaction Metrics","text":""},{"location":"signals/signals/#direct_satisfaction_signals","title":"Direct Satisfaction Signals","text":"<p>Success Indicators:</p> <ul> <li>User clicked a result and didn't return to search</li> <li>Single query session (no refinement needed)</li> <li>Long dwell time on clicked result</li> <li>Conversion occurred after search</li> </ul> <p>Failure Indicators:</p> <ul> <li>Multiple query reformulations</li> <li>Pogo-sticking (click, immediate return, repeat)</li> <li>Zero-result queries</li> <li>Session abandonment</li> </ul>"},{"location":"signals/signals/#aggregate_satisfaction_score","title":"Aggregate Satisfaction Score","text":"<p>Calculate per query type:</p> <pre><code>Satisfaction Score = (Successful Sessions / Total Sessions) \u00d7 100\n\nWhere Successful Session = \n  - At least one click\n  - Average dwell time &gt; 30 seconds\n  - No return to search within 5 minutes\n  - OR conversion event triggered\n</code></pre> <p>Benchmarks:</p> <ul> <li>Excellent: &gt;70% satisfaction</li> <li>Good: 50-70% satisfaction</li> <li>Needs Improvement: 30-50% satisfaction</li> <li>Critical: &lt;30% satisfaction</li> </ul>"},{"location":"signals/signals/#34_conversion_tracking","title":"3.4 Conversion Tracking","text":""},{"location":"signals/signals/#search-to-conversion_path","title":"Search-to-Conversion Path","text":"<p>Track conversions that follow search:</p> <ul> <li>Purchase after product search</li> <li>Newsletter signup after information search</li> <li>Contact form submission after service search</li> <li>Download after resource search</li> </ul> <p>Conversion Attribution:</p> <ul> <li>Direct: Conversion on clicked result</li> <li>Assisted: Conversion after viewing multiple search results</li> <li>Indirect: Conversion in same session but different page</li> </ul> <p>Value Assignment:</p> <p>Queries that lead to conversions are more valuable. Assign value weights: - Direct conversion query: High value (prioritize optimization) - Assisted conversion query: Medium value - Informational query: Low value (but still important for user experience)</p> <p>Optimization:</p> <p>For high-value queries, ensure:</p> <ul> <li>Best results appear in top 3 positions</li> <li>Result snippets are compelling and clear</li> <li>Conversion path is obvious and easy</li> </ul>"},{"location":"signals/signals/#4_implementing_signal_collection_in_wordpress","title":"4. Implementing Signal Collection in WordPress","text":""},{"location":"signals/signals/#data_collection_strategy","title":"Data Collection Strategy","text":""},{"location":"signals/signals/#what_to_track_minimum_viable_setup","title":"What to Track (Minimum Viable Setup)","text":"<p>Search Event:</p> <ul> <li>Query text</li> <li>User ID (if logged in) or session ID</li> <li>Timestamp</li> <li>Number of results returned</li> <li>User's intent category (if detectable)</li> </ul> <p>Click Event:</p> <ul> <li>Query text</li> <li>Result ID (post/page/product)</li> <li>Result position in search results</li> <li>Timestamp</li> <li>Session ID</li> </ul> <p>Engagement Event:</p> <ul> <li>Session ID</li> <li>Time on page</li> <li>Return to search (yes/no)</li> <li>Subsequent action (another search, conversion, exit)</li> </ul>"},{"location":"signals/signals/#database_design","title":"Database Design","text":"<p>Custom Table Structure:</p> <p>wp_search_logs:</p> <ul> <li>id (auto increment)</li> <li>session_id (varchar)</li> <li>user_id (bigint, nullable)</li> <li>query (text)</li> <li>num_results (int)</li> <li>intent_type (varchar: navigational/informational/transactional/unknown)</li> <li>timestamp (datetime)</li> </ul> <p>wp_search_clicks:</p> <ul> <li>id (auto increment)</li> <li>search_log_id (foreign key to wp_search_logs)</li> <li>result_id (bigint - post ID)</li> <li>result_position (int)</li> <li>timestamp (datetime)</li> <li>dwell_time (int - seconds, updated on return or session end)</li> <li>converted (boolean - did user convert?)</li> </ul> <p>wp_search_quality:</p> <ul> <li>id (auto increment)</li> <li>query (text, indexed)</li> <li>result_id (bigint)</li> <li>relevance_score (float)</li> <li>click_count (int)</li> <li>avg_dwell_time (float)</li> <li>last_updated (datetime)</li> </ul>"},{"location":"signals/signals/#privacy_considerations","title":"Privacy Considerations","text":"<p>GDPR Compliance:</p> <ul> <li>Store session IDs instead of personally identifiable information when possible</li> <li>Provide opt-out mechanism for search tracking</li> <li>Auto-delete logs older than retention period (e.g., 90 days)</li> <li>Anonymize data after 30 days if possible</li> <li>Include search data in data export requests</li> <li>Delete user's search data upon account deletion</li> </ul> <p>Best Practices:</p> <ul> <li>Don't store sensitive search queries (passwords, credit cards, etc.)</li> <li>Hash or encrypt query text for security</li> <li>Aggregate data for analysis, delete raw logs regularly</li> <li>Be transparent about tracking in privacy policy</li> </ul>"},{"location":"signals/signals/#5_analysis_and_optimization_workflow","title":"5. Analysis and Optimization Workflow","text":""},{"location":"signals/signals/#weekly_analysis_routine","title":"Weekly Analysis Routine","text":""},{"location":"signals/signals/#1_identify_problem_queries","title":"1. Identify Problem Queries","text":"<p>Queries with Low Satisfaction:</p> <ul> <li>Filter queries with &lt;30% satisfaction score</li> <li>Analyze why users aren't finding what they need</li> <li>Improve content or adjust ranking</li> </ul> <p>Zero-Result Queries:</p> <ul> <li>List all queries returning no results</li> <li>Identify patterns (missing content topics, synonym issues)</li> <li>Create content or improve synonym matching</li> </ul> <p>High-Abandonment Queries:</p> <ul> <li>Queries where users leave without clicking</li> <li>Review result quality and relevance</li> <li>Adjust ranking or result presentation</li> </ul>"},{"location":"signals/signals/#2_discover_opportunities","title":"2. Discover Opportunities","text":"<p>High-Volume Queries:</p> <ul> <li>Identify most common searches</li> <li>Ensure these have excellent results</li> <li>Consider creating dedicated content</li> </ul> <p>Conversion-Driving Queries:</p> <ul> <li>Find queries that lead to conversions</li> <li>Optimize these heavily</li> <li>Consider featuring results prominently</li> </ul> <p>Emerging Trends:</p> <ul> <li>Identify queries increasing in frequency</li> <li>Create content proactively</li> <li>Adjust search algorithm for new patterns</li> </ul>"},{"location":"signals/signals/#3_ab_testing","title":"3. A/B Testing","text":"<p>Test Variables:</p> <ul> <li>Ranking algorithm changes</li> <li>Result presentation (snippets, formatting)</li> <li>Intent detection methods</li> <li>Number of results per page</li> </ul> <p>Measurement:</p> <ul> <li>Compare satisfaction scores</li> <li>Track click-through rates</li> <li>Monitor conversion rates</li> <li>Measure time-to-success</li> </ul>"},{"location":"signals/signals/#monthly_deep_dive","title":"Monthly Deep Dive","text":"<p>Intent Analysis:</p> <ul> <li>Review intent classification accuracy</li> <li>Analyze queries misclassified</li> <li>Update intent detection rules</li> </ul> <p>Algorithm Performance:</p> <ul> <li>Compare relevance scores over time</li> <li>Identify ranking improvements or degradations</li> <li>Review user feedback (if collected)</li> </ul> <p>Content Gaps:</p> <ul> <li>Identify topics users search for but you lack content</li> <li>Prioritize content creation</li> <li>Consider partner content or external resources</li> </ul>"},{"location":"signals/signals/#6_advanced_signal_analysis","title":"6. Advanced Signal Analysis","text":""},{"location":"signals/signals/#machine_learning_opportunities","title":"Machine Learning Opportunities","text":""},{"location":"signals/signals/#automated_intent_detection","title":"Automated Intent Detection","text":"<p>Training Data:</p> <ul> <li>Historical queries with known outcomes</li> <li>Manual labeling of query intent</li> <li>Click patterns as intent indicators</li> </ul> <p>Model Approach:</p> <ul> <li>Text classification model</li> <li>Features: query text, user history, time of day, session context</li> <li>Output: intent category + confidence score</li> </ul>"},{"location":"signals/signals/#learning_to_rank","title":"Learning to Rank","text":"<p>Signals for Ranking Model:</p> <ul> <li>Historical click-through rates</li> <li>Dwell time patterns</li> <li>User feedback (if available)</li> <li>Content metadata (freshness, authority, completeness)</li> </ul> <p>Training:</p> <ul> <li>Use successful searches as positive examples</li> <li>Use failed searches as negative examples</li> <li>Continuously update model with new data</li> </ul>"},{"location":"signals/signals/#personalization_signals","title":"Personalization Signals","text":"<p>User History:</p> <ul> <li>Previous successful searches</li> <li>Content categories engaged with</li> <li>Conversion history</li> <li>Search time patterns</li> </ul> <p>Contextual Signals:</p> <ul> <li>Device type (mobile users might have different intent)</li> <li>Time of day (research vs. quick answers)</li> <li>Geographic location (if relevant)</li> <li>Referral source</li> </ul> <p>Implementation Considerations:</p> <ul> <li>Balance personalization with privacy</li> <li>Provide non-personalized option</li> <li>Avoid filter bubbles</li> <li>Test personalization impact on satisfaction</li> </ul>"},{"location":"signals/signals/#7_common_pitfalls_and_solutions","title":"7. Common Pitfalls and Solutions","text":""},{"location":"signals/signals/#pitfall_1_over-optimizing_for_click-through_rate","title":"Pitfall 1: Over-Optimizing for Click-Through Rate","text":"<p>Problem: High CTR doesn't always mean good search quality. Users might click irrelevant results due to misleading titles.</p> <p>Solution: Always combine CTR with dwell time and return-to-search metrics.</p>"},{"location":"signals/signals/#pitfall_2_ignoring_long-tail_queries","title":"Pitfall 2: Ignoring Long-Tail Queries","text":"<p>Problem: Focusing only on high-volume queries neglects 70% of searches.</p> <p>Solution: Set quality benchmarks for all query types. Rare queries still deserve good results.</p>"},{"location":"signals/signals/#pitfall_3_not_accounting_for_intent_differences","title":"Pitfall 3: Not Accounting for Intent Differences","text":"<p>Problem: Treating all queries the same leads to poor results for specific intent types.</p> <p>Solution: Develop separate optimization strategies for each intent category.</p>"},{"location":"signals/signals/#pitfall_4_data_hoarding_without_action","title":"Pitfall 4: Data Hoarding Without Action","text":"<p>Problem: Collecting extensive data but never using it to improve search.</p> <p>Solution: Establish regular analysis routines and commit to implementing changes.</p>"},{"location":"signals/signals/#pitfall_5_forgetting_the_human_element","title":"Pitfall 5: Forgetting the Human Element","text":"<p>Problem: Over-reliance on automated signals without understanding user context.</p> <p>Solution: Combine quantitative signals with qualitative research (user interviews, surveys).</p>"},{"location":"signals/signals/#8_key_takeaways","title":"8. Key Takeaways","text":""},{"location":"signals/signals/#essential_principles","title":"Essential Principles","text":"<ol> <li>Intent First: Always consider what users are trying to accomplish</li> <li>Actions Speak Louder: User behavior is more reliable than assumptions</li> <li>Quality Over Quantity: A few highly relevant results beat many mediocre ones</li> <li>Continuous Improvement: Search optimization is an ongoing process</li> <li>Privacy Matters: Collect data responsibly and transparently</li> </ol>"},{"location":"signals/signals/#success_metrics","title":"Success Metrics","text":"<p>Track these over time to measure improvement:</p> <ul> <li>Average satisfaction score (target: &gt;70%)</li> <li>Zero-result query rate (target: &lt;5%)</li> <li>Conversion rate from search (track improvement)</li> <li>Average time-to-success (track reduction)</li> <li>Search abandonment rate (target: &lt;20%)</li> </ul>"},{"location":"signals/signals/#conclusion","title":"Conclusion","text":"<p>Search signals transform your WordPress search from a basic keyword matcher into an intelligent system that learns from user behavior. By tracking intent, actions, and quality metrics, you create a feedback loop that continuously improves the search experience.</p> <p>Remember: The goal isn't perfect search results immediately, but rather a system that gets better every week by learning from real user behavior. Start simple, measure consistently, and iterate based on what the data tells you.</p> <p>Your search functionality will never be \"finished,\" but with proper signal tracking and analysis, it will always be improving.</p> <p></p>"},{"location":"vector/ann-hnsw-explainer/","title":"ANN and HNSW","text":""},{"location":"vector/ann-hnsw-explainer/#what_is_approximate_nearest_neighbor_ann","title":"What is Approximate Nearest Neighbor (ANN)?","text":"<p>ANN is a fast method for finding vectors that are close enough to a query point \u2014 without scanning the entire database. It\u2019s widely used in search engines, recommendation systems, and vector databases.</p> <p>Instead of checking every vector, ANN algorithms: - Divide the space into partitions (like clusters or cells) - Search only within the partition where the query lands - Return the closest match within that partition</p> <p>This makes ANN fast \u2014 but not always accurate.</p> <p>When you run vector search, you\u2019re essentially asking:</p> <p>\u201cWhich stored vectors are closest to my query vector?\u201d</p> <p>If you have 1,000 vectors, brute\u2011force search is fine. If you have 100,000+ vectors, brute\u2011force becomes painfully slow. If you have millions, it\u2019s impossible to do real\u2011time search without optimization.</p> <p>That\u2019s where ANN comes in.</p>"},{"location":"vector/ann-hnsw-explainer/#what_ann_does","title":"What ANN Does","text":"<p>ANN algorithms don\u2019t search every vector. Instead, they use clever indexing structures to find vectors that are very close to the true nearest neighbours \u2014 but much faster.</p> <p>You trade tiny accuracy loss for massive speed gains.</p>"},{"location":"vector/ann-hnsw-explainer/#ann_in_practice","title":"ANN in Practice","text":"<p>Most vector databases use ANN under the hood:</p> <pre><code>| Vector DB    | ANN Algorithm |\n|--------------|---------------|\n| **FAISS**    | HNSW, IVF, PQ |\n| **Pinecone** | HNSW          |\n| **Weaviate** | HNSW          |\n| **Milvus**   | HNSW, IVF     |\n| **Qdrant**   | HNSW          |\n</code></pre> <p>If you use any of these with WordPress, you\u2019re already using ANN \u2014 even if you don\u2019t know it.</p>"},{"location":"vector/ann-hnsw-explainer/#the_border_problem","title":"The Border Problem","text":"<p>When a query lands near the edge of a partition, ANN might: - Search only inside its assigned partition (e.g. Partition A) - Return a vector that\u2019s farther away - Miss closer vectors in a neighboring partition (e.g. Partition B)</p>"},{"location":"vector/ann-hnsw-explainer/#why_it_matters","title":"Why It Matters","text":"<p>This border issue can cause: - Lower recall (missing relevant results) - Poor recommendations or search matches - Confusion in edge cases (e.g. similar products or documents)</p>"},{"location":"vector/ann-hnsw-explainer/#how_to_fix_it","title":"How to Fix It","text":"<p>Advanced techniques like: - Multi-probe search (check nearby partitions) - Reranking (re-evaluate top candidates) - HNSW graphs (link across partitions)</p> <p>\u2026can reduce border errors and improve accuracy.</p> <p></p>"},{"location":"vector/ann-hnsw-explainer/#hierarchical_navigable_small_world_hnsw","title":"Hierarchical Navigable Small World (HNSW)","text":""},{"location":"vector/ann-hnsw-explainer/#the_most_popular_ann_algorithm_and_the_one_youll_encounter_everywhere","title":"The most popular ANN algorithm \u2014 and the one you\u2019ll encounter everywhere","text":"<p>HNSW is currently the gold standard for fast, accurate vector search.</p> <p>It\u2019s used because it\u2019s:</p> <ul> <li>extremely fast  </li> <li>extremely accurate  </li> <li>scalable  </li> <li>memory\u2011efficient  </li> <li>easy to tune  </li> </ul>"},{"location":"vector/ann-hnsw-explainer/#the_core_idea","title":"The Core Idea","text":"<p>Imagine your vectors are cities on a map.</p> <p>HNSW builds multiple layers of roads:</p>"},{"location":"vector/ann-hnsw-explainer/#layer_0_bottom_layer","title":"Layer 0 (bottom layer)","text":"<ul> <li>Dense local roads  </li> <li>Every vector is connected to many neighbours  </li> <li>Great for fine\u2011grained accuracy  </li> <li>Slow if used alone  </li> </ul>"},{"location":"vector/ann-hnsw-explainer/#layer_1_2_3_upper_layers","title":"Layer 1, 2, 3\u2026 (upper layers)","text":"<ul> <li>Sparse highways  </li> <li>Only a few long\u2011distance connections  </li> <li>Great for fast navigation  </li> </ul>"},{"location":"vector/ann-hnsw-explainer/#how_search_works","title":"How search works","text":"<ol> <li>Start at the top layer (few nodes \u2192 fast).  </li> <li>Move toward the query vector using long\u2011distance links.  </li> <li>Drop down a layer.  </li> <li>Refine the search using more local connections.  </li> <li>Repeat until you reach the bottom layer.  </li> <li>Return the nearest neighbours.</li> </ol> <p>This structure gives you:</p> <ul> <li>logarithmic search time </li> <li>near\u2011exact accuracy </li> <li>massive speed improvements </li> </ul>"},{"location":"vector/ann-hnsw-explainer/#why_hnsw_matters_for_wordpress_developers","title":"Why HNSW Matters for WordPress Developers","text":""},{"location":"vector/ann-hnsw-explainer/#1_it_makes_semantic_search_fast_enough_for_realtime_use","title":"1. It makes semantic search fast enough for real\u2011time use*","text":"<p>Even with hundreds of thousands of posts or products.</p>"},{"location":"vector/ann-hnsw-explainer/#2_its_the_default_in_most_vector_dbs","title":"2. It\u2019s the default in most vector DBs","text":"<p>If you use Pinecone, Qdrant, Weaviate, or Milvus \u2014 you\u2019re using HNSW.</p>"},{"location":"vector/ann-hnsw-explainer/#3_its_ideal_for_wordpress_workloads","title":"3. It\u2019s ideal for WordPress workloads","text":"<p>WordPress content is:</p> <ul> <li>short  </li> <li>numerous  </li> <li>frequently updated  </li> <li>semantically rich  </li> </ul> <p>HNSW handles this beautifully.</p>"},{"location":"vector/ann-hnsw-explainer/#4_it_works_well_with_php_apis","title":"4. It works well with PHP APIs","text":"<p>You can:</p> <ul> <li>embed content in PHP  </li> <li>send vectors to a vector DB  </li> <li>query using HNSW  </li> <li>return results to WordPress  </li> </ul> <p>All without touching low\u2011level ANN code.</p>"},{"location":"vector/ann-hnsw-explainer/#when_to_use_annhnsw","title":"When To Use ANN/HNSW","text":"<p>Use ANN/HNSW when:</p> <ul> <li>You have 10k+ embeddings </li> <li>You want instant search results </li> <li>You\u2019re building semantic search </li> <li>You\u2019re integrating with Pinecone, Qdrant, Weaviate, Milvus, or FAISS </li> <li>You want BM25 + embeddings hybrid search </li> <li>You\u2019re building AI\u2011powered WooCommerce search </li> </ul> <p>Do not use brute\u2011force search unless your dataset is tiny.</p>"},{"location":"vector/ann-hnsw-explainer/#ultrashort_summary","title":"Ultra\u2011Short Summary","text":""},{"location":"vector/ann-hnsw-explainer/#ann","title":"ANN","text":"<p>Fast, approximate vector search. Trades tiny accuracy loss for huge speed gains.</p>"},{"location":"vector/ann-hnsw-explainer/#hnsw","title":"HNSW","text":"<p>The best ANN algorithm. Uses multi\u2011layer graphs to find nearest neighbours quickly and accurately. Default in most vector databases.</p> <p></p>"},{"location":"vector/vector-databases-hack/","title":"Building Your Own Vector Database in MySQL with PHP (ELI5)","text":""},{"location":"vector/vector-databases-hack/#whats_a_vector_database_anyway","title":"What's a Vector Database Anyway?","text":"<p>Imagine you have a magical library where books that are \"similar\" automatically sit next to each other, even if they have different titles! That's what a vector database does with data.</p> <p>A vector is just a list of numbers that represents the \"meaning\" of something:</p> <pre><code>\"pizza\" \u2192 [0.9, 0.1, 0.2, 0.8]\n\"pasta\" \u2192 [0.8, 0.2, 0.3, 0.7]  \u2190 Similar to pizza!\n\"car\"   \u2192 [0.1, 0.8, 0.9, 0.1]  \u2190 Very different!\n</code></pre>"},{"location":"vector/vector-databases-hack/#the_magic_trick_using_longtext_column","title":"The Magic Trick: Using LONGTEXT Column","text":"<p>Since MySQL doesn't have a vector field, we'll hack it by storing vectors as text in a <code>LONGTEXT</code> column!</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 id  \u2502     text      \u2502       vector (LONGTEXT)          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  1  \u2502  \"pizza\"      \u2502  \"0.9,0.1,0.2,0.8\"               \u2502\n\u2502  2  \u2502  \"pasta\"      \u2502  \"0.8,0.2,0.3,0.7\"               \u2502\n\u2502  3  \u2502  \"car\"        \u2502  \"0.1,0.8,0.9,0.1\"               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"vector/vector-databases-hack/#step_1_create_the_database_table","title":"Step 1: Create the Database Table","text":"<pre><code>CREATE TABLE vector_items (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    text VARCHAR(500) NOT NULL,\n    vector LONGTEXT NOT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    INDEX idx_text (text)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\n</code></pre>"},{"location":"vector/vector-databases-hack/#step_2_the_math_behind_similarity","title":"Step 2: The Math Behind Similarity","text":"<p>To find similar items, we use Cosine Similarity. Think of it like measuring the \"angle\" between two arrows:</p> <p></p> <p>Formula: <pre><code>Similarity = (A\u00b7B) / (|A| \u00d7 |B|)\n</code></pre></p> <p>Where: - <code>A\u00b7B</code> = dot product (multiply matching numbers and add them up) - <code>|A|</code> = magnitude (length of the vector)</p>"},{"location":"vector/vector-databases-hack/#how_it_works_visual_flow","title":"How It Works (Visual Flow)","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  1. USER INPUT                                          \u2502\n\u2502     \"pizza\"                                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n             \u2502\n             \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  2. CONVERT TO VECTOR (Embedding)                       \u2502\n\u2502     [0.9, 0.1, 0.2, 0.8, 0.3, ...]                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n             \u2502\n             \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  3. LOAD ALL VECTORS FROM DATABASE                      \u2502\n\u2502     \"pizza\" \u2192 \"0.9,0.1,0.2,0.8,0.3,...\"                 \u2502\n\u2502     \"pasta\" \u2192 \"0.8,0.2,0.3,0.7,0.4,...\"                 \u2502\n\u2502     \"car\"   \u2192 \"0.1,0.8,0.9,0.1,0.2,...\"                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n             \u2502\n             \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  4. CALCULATE SIMILARITY (Cosine)                       \u2502\n\u2502     pizza vs pizza \u2192 1.00 (100%)                        \u2502\n\u2502     pizza vs pasta \u2192 0.95 (95%)                         \u2502\n\u2502     pizza vs car   \u2192 0.12 (12%)                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n             \u2502\n             \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  5. SORT BY SIMILARITY &amp; RETURN TOP RESULTS             \u2502\n\u2502     1. pizza (100%)                                     \u2502\n\u2502     2. pasta (95%)                                      \u2502\n\u2502     3. Italian food (87%)                               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"vector/vector-databases-hack/#limitations_when_to_upgrade","title":"Limitations &amp; When to Upgrade","text":""},{"location":"vector/vector-databases-hack/#this_approach_is_slow_when","title":"This Approach is Slow When:","text":"<ul> <li>You have 10,000+ vectors (loads all into PHP memory)</li> <li>You need sub-second search times</li> <li>Vector dimensions are very large (1000+)</li> </ul>"},{"location":"vector/vector-databases-hack/#when_to_use_real_vector_db","title":"When to Use Real Vector DB:","text":"<ul> <li>Production apps with millions of vectors</li> <li>Real-time search requirements</li> <li>Use: Pinecone, Weaviate, Milvus, or pgvector (PostgreSQL extension)</li> </ul>"},{"location":"vector/vector-databases-hack/#his_approach_works_great_for","title":"his Approach Works Great For:","text":"<ul> <li>Small to medium datasets (&lt; 10,000 items)</li> <li>Learning and prototyping</li> <li>Side projects and MVPs</li> <li>When you already have MySQL and don't want extra infrastructure</li> </ul>"},{"location":"vector/vector-databases-hack/#summary","title":"Summary","text":"<p>You just learned how to: - \u2705 Store vectors as comma-separated text in <code>LONGTEXT</code> - \u2705 Calculate cosine similarity in pure PHP - \u2705 Build a working vector search engine - \u2705 Integrate with OpenAI embeddings - \u2705 Optimize with caching and filtering</p> <p>The Magic: MySQL stores the vectors as text, PHP does the math to find similar items. Simple but effective!</p>"},{"location":"vector/vector-search-explainer/","title":"Vector Search","text":""},{"location":"vector/vector-search-explainer/#what_is_vector_search","title":"What is Vector Search?","text":"<p>Imagine if instead of matching exact words, search engines could understand meanings and concepts! That's vector search!</p> <p>Traditional Search (BM25): - Query: \"car\" \u2192 Matches documents with word \"car\" - Misses: \"automobile\", \"vehicle\", \"sedan\"</p> <p>Vector Search: - Query: \"car\" \u2192 Understands the CONCEPT - Matches: \"automobile\", \"vehicle\", \"sedan\", \"SUV\", \"truck\" - It gets the MEANING! </p>"},{"location":"vector/vector-search-explainer/#the_big_idea_words_as_points_in_space","title":"The Big Idea: Words as Points in Space","text":"<p>Instead of treating words as text, we represent them as numbers in space (vectors).</p>"},{"location":"vector/vector-search-explainer/#simple_2d_example","title":"Simple 2D Example:","text":"<pre><code>        Y-axis (Vehicle Type)\n        \u2502\n    5   \u2502         \ud83d\ude97 car\n        \u2502       \n    4   \u2502     \ud83d\ude99 SUV    \ud83d\ude95 taxi\n        \u2502    \n    3   \u2502   \ud83d\ude9a truck\n        \u2502\n    2   \u2502\n        \u2502\n    1   \u2502   \ud83d\udc15 dog      \ud83d\udc31 cat\n        \u2502\n    0   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 X-axis (Animal vs Vehicle)\n        0   1   2   3   4   5\n</code></pre> <p>Key Insight: Similar things are CLOSE together in space! - Car, SUV, taxi are all near each other (similar meanings) - Dog and cat are near each other (also similar) - Cars and dogs are FAR apart (different meanings)</p>"},{"location":"vector/vector-search-explainer/#what_is_a_vector","title":"What is a Vector?","text":"<p>A vector is just a list of numbers representing a position in space.</p>"},{"location":"vector/vector-search-explainer/#2d_vector_example","title":"2D Vector Example:","text":"<pre><code>\"car\" = [4.2, 4.8]\n         \u2502    \u2502\n         \u2502    \u2514\u2500 Y position (vehicle-ness)\n         \u2514\u2500 X position (transportation-ness)\n\n\"dog\" = [1.3, 1.1]\n         \u2502    \u2502\n         \u2502    \u2514\u2500 Y position (low vehicle-ness)\n         \u2514\u2500 X position (low transportation-ness)\n</code></pre>"},{"location":"vector/vector-search-explainer/#real_vector_example_768_dimensions","title":"Real Vector Example (768 dimensions!):","text":"<pre><code>\"car\" = [0.23, -0.45, 0.12, 0.89, -0.34, ... 763 more numbers]\n</code></pre> <p>In reality: Modern vectors have 384, 768, or even 1536 dimensions! But the concept is the same - similar meanings = close together in space.</p>"},{"location":"vector/vector-search-explainer/#how_vector_search_works","title":"How Vector Search Works","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  STEP 1: Convert Everything to Vectors              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nDocuments:\n  Doc 1: \"I love my car\" \n         \u2193 [Embedding Model]\n         Vector: [0.8, 0.9, 0.2]\n\n  Doc 2: \"Dogs are great pets\"\n         \u2193 [Embedding Model]  \n         Vector: [0.2, 0.1, 0.9]\n\n  Doc 3: \"My truck is reliable\"\n         \u2193 [Embedding Model]\n         Vector: [0.7, 0.8, 0.3]\n\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  STEP 2: User Query \u2192 Convert to Vector             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nQuery: \"automobile\"\n       \u2193 [Embedding Model]\n       Vector: [0.75, 0.85, 0.25]\n\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  STEP 3: Calculate Similarity                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nCompare query vector to each document vector:\n  Query vs Doc 1: Similarity = 0.95 \u2b50\u2b50\u2b50\u2b50\u2b50\n  Query vs Doc 2: Similarity = 0.12 \u2b50\n  Query vs Doc 3: Similarity = 0.91 \u2b50\u2b50\u2b50\u2b50\n\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  STEP 4: Rank by Similarity                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nResults:\n  #1 \ud83e\udd47 Doc 1: \"I love my car\" (0.95)\n  #2 \ud83e\udd48 Doc 3: \"My truck is reliable\" (0.91)\n  #3 \ud83e\udd49 Doc 2: \"Dogs are great pets\" (0.12)\n</code></pre> <p>Magic! Even though the query was \"automobile\" (not \"car\"), it found the car document! \ud83c\udf89</p>"},{"location":"vector/vector-search-explainer/#step-by-step_calculation_cosine_similarity","title":"Step-by-Step Calculation: Cosine Similarity","text":"<p>Let's calculate similarity between vectors using cosine similarity - the most common method.</p>"},{"location":"vector/vector-search-explainer/#our_vectors_simplified_to_3d","title":"Our Vectors (simplified to 3D):","text":"<pre><code>Query:  \"automobile\" = [0.75, 0.85, 0.25]\nDoc 1:  \"I love my car\" = [0.80, 0.90, 0.20]\nDoc 2:  \"Dogs are great\" = [0.20, 0.10, 0.90]\n</code></pre>"},{"location":"vector/vector-search-explainer/#visual_representation","title":"Visual Representation:","text":"<pre><code>        Z-axis\n        \u2502\n        \u2502    \ud83d\udcc4 Doc 2 [0.2, 0.1, 0.9]\n        \u2502   /\n        \u2502  /\n        \u2502 /\n        \u2502/______________ Y-axis\n       /\u2502    \n      / \u2502  \ud83d\udd0d Query [0.75, 0.85, 0.25]\n     /  \u2502   \ud83d\udcc4 Doc 1 [0.8, 0.9, 0.2]\n    /   \u2502  (Query and Doc 1 are close!)\n   /    \u2502\n  X-axis\n</code></pre>"},{"location":"vector/vector-search-explainer/#cosine_similarity_formula","title":"Cosine Similarity Formula","text":"<pre><code>Cosine Similarity = (A \u00b7 B) / (||A|| \u00d7 ||B||)\n\nWhere:\n- A \u00b7 B = Dot product\n- ||A|| = Magnitude (length) of vector A\n- ||B|| = Magnitude (length) of vector B\n</code></pre> <p>In plain English: How much do the vectors point in the same direction?</p>"},{"location":"vector/vector-search-explainer/#step_1_calculate_dot_product_a_b","title":"STEP 1: Calculate Dot Product (A \u00b7 B)","text":""},{"location":"vector/vector-search-explainer/#query_vs_doc_1","title":"Query vs Doc 1:","text":"<pre><code>Query = [0.75, 0.85, 0.25]\nDoc 1 = [0.80, 0.90, 0.20]\n\nDot Product = (0.75 \u00d7 0.80) + (0.85 \u00d7 0.90) + (0.25 \u00d7 0.20)\n            = 0.60 + 0.765 + 0.05\n            = 1.415\n</code></pre> <p>Visual representation: <pre><code>Dimension 1:  0.75 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  \u00d7  0.80 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  = 0.600\nDimension 2:  0.85 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 \u00d7  0.90 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 = 0.765\nDimension 3:  0.25 \u2588\u2588\u2588       \u00d7  0.20 \u2588\u2588        = 0.050\n                                        Total: 1.415\n</code></pre></p>"},{"location":"vector/vector-search-explainer/#query_vs_doc_2","title":"Query vs Doc 2:","text":"<pre><code>Query = [0.75, 0.85, 0.25]\nDoc 2 = [0.20, 0.10, 0.90]\n\nDot Product = (0.75 \u00d7 0.20) + (0.85 \u00d7 0.10) + (0.25 \u00d7 0.90)\n            = 0.15 + 0.085 + 0.225\n            = 0.46\n</code></pre> <p>Visual representation: <pre><code>Dimension 1:  0.75 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  \u00d7  0.20 \u2588\u2588        = 0.150\nDimension 2:  0.85 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 \u00d7  0.10 \u2588         = 0.085\nDimension 3:  0.25 \u2588\u2588\u2588       \u00d7  0.90 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 = 0.225\n                                        Total: 0.460\n</code></pre></p>"},{"location":"vector/vector-search-explainer/#step_2_calculate_magnitudes","title":"STEP 2: Calculate Magnitudes","text":""},{"location":"vector/vector-search-explainer/#magnitude_formula","title":"Magnitude Formula:","text":"<pre><code>||A|| = \u221a(a\u2081\u00b2 + a\u2082\u00b2 + a\u2083\u00b2)\n</code></pre>"},{"location":"vector/vector-search-explainer/#query_magnitude","title":"Query Magnitude:","text":"<pre><code>Query = [0.75, 0.85, 0.25]\n\n||Query|| = \u221a(0.75\u00b2 + 0.85\u00b2 + 0.25\u00b2)\n          = \u221a(0.5625 + 0.7225 + 0.0625)\n          = \u221a1.3475\n          = 1.161\n</code></pre> <p>Visual: <pre><code>    \u2502\u2572\n    \u2502 \u2572\n    \u2502  \u2572  Length = 1.161\n    \u2502   \u2572\n    \u2502    \u2572\n    \u2514\u2500\u2500\u2500\u2500\u2500\u25cf\n</code></pre></p>"},{"location":"vector/vector-search-explainer/#doc_1_magnitude","title":"Doc 1 Magnitude:","text":"<pre><code>Doc 1 = [0.80, 0.90, 0.20]\n\n||Doc 1|| = \u221a(0.80\u00b2 + 0.90\u00b2 + 0.20\u00b2)\n          = \u221a(0.64 + 0.81 + 0.04)\n          = \u221a1.49\n          = 1.221\n</code></pre>"},{"location":"vector/vector-search-explainer/#doc_2_magnitude","title":"Doc 2 Magnitude:","text":"<pre><code>Doc 2 = [0.20, 0.10, 0.90]\n\n||Doc 2|| = \u221a(0.20\u00b2 + 0.10\u00b2 + 0.90\u00b2)\n          = \u221a(0.04 + 0.01 + 0.81)\n          = \u221a0.86\n          = 0.927\n</code></pre>"},{"location":"vector/vector-search-explainer/#step_3_calculate_cosine_similarity","title":"STEP 3: Calculate Cosine Similarity","text":""},{"location":"vector/vector-search-explainer/#query_vs_doc_3","title":"Query vs Doc 1:","text":"<pre><code>Cosine Similarity = Dot Product / (||Query|| \u00d7 ||Doc 1||)\n                  = 1.415 / (1.161 \u00d7 1.221)\n                  = 1.415 / 1.418\n                  = 0.998 \u2248 1.0\n\nScore: 0.998 out of 1.0 \u2b50\u2b50\u2b50\u2b50\u2b50\n</code></pre> <p>Visual angle:</p> <p>Small angle = High similarity!</p> <p></p>"},{"location":"vector/vector-search-explainer/#query_vs_doc_4","title":"Query vs Doc 2:","text":"<pre><code>Cosine Similarity = 0.46 / (1.161 \u00d7 0.927)\n                  = 0.46 / 1.076\n                  = 0.427\n\nScore: 0.427 out of 1.0 \u2b50\u2b50\n</code></pre> <p>Visual angle: <pre><code>    Doc 2\n     \u2502\n     \u2502  \u2190 Large angle (\u2248 65\u00b0)\n     \u2502\n     \u2514\u2500\u2500\u2500\u2500\u2192 Query\n\nLarge angle = Low similarity!\n</code></pre></p>"},{"location":"vector/vector-search-explainer/#final_ranking","title":"FINAL RANKING","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Query: \"automobile\"                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  #1 \ud83e\udd47  Doc 1: \"I love my car\"                  \u2502\n\u2502         Similarity: 0.998                       \u2502\n\u2502         Progress: \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 99.8%   \u2502\n\u2502                                                 \u2502\n\u2502  #2 \ud83e\udd49  Doc 2: \"Dogs are great\"                 \u2502\n\u2502         Similarity: 0.427                       \u2502\n\u2502         Progress: \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 42.7%     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Perfect! The car document scored highest even though we searched for \"automobile\"! </p>"},{"location":"vector/vector-search-explainer/#visualizing_semantic_space","title":"Visualizing Semantic Space","text":""},{"location":"vector/vector-search-explainer/#2d_semantic_map_example","title":"2D Semantic Map Example:","text":"<pre><code>                    Transportation\n                         \u2502\n                         \u2502\n        airplane \u2708\ufe0f      \u2502      helicopter \ud83d\ude81\n                    \u2502    \u2502    \u2502\n                    \u2502    \u2502    \u2502\n        train \ud83d\ude86 \u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500 car \ud83d\ude97\n                    \u2502    \u2502    \u2502\n                    \u2502    \u2502    \u2502\n        bike \ud83d\udeb4 \u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u25cf\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500 truck \ud83d\ude9a\n                    \u2502  Query  \u2502\n                    \u2502 \"vehicle\"\u2502\n    \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n                    \u2502    \u2502    \u2502\n                    \u2502    \u2502    \u2502\n        cat \ud83d\udc31 \u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500 dog \ud83d\udc15\n                    \u2502    \u2502    \u2502\n                    \u2502    \u2502    \u2502\n        bird \ud83d\udc26     \u2502    \u2502    \u2502    fish \ud83d\udc1f\n                    \u2502    \u2502    \u2502\n                    \u2502         \u2502\n                  Animals\n</code></pre> <p>Distance represents semantic similarity: - Car, truck, bike \u2192 Close together (vehicles) - Cat, dog, bird \u2192 Close together (pets) - Vehicles and pets \u2192 Far apart (different concepts)</p>"},{"location":"vector/vector-search-explainer/#understanding_vector_dimensions","title":"Understanding Vector Dimensions","text":"<p>Real embeddings have 768 dimensions! Each dimension captures different semantic features:</p> <pre><code>Dimension 1:   Vehicle-ness        [\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591] 0.8\nDimension 2:   Animal-ness         [\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591] 0.2\nDimension 3:   Size (big/small)    [\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591] 0.6\nDimension 4:   Speed               [\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591] 0.7\nDimension 5:   Indoor/Outdoor      [\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591] 0.4\n...\nDimension 768: Abstract concept X  [\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591] 0.5\n</code></pre> <p>Each document gets scored on ALL dimensions simultaneously!</p>"},{"location":"vector/vector-search-explainer/#the_embedding_process","title":"The Embedding Process","text":""},{"location":"vector/vector-search-explainer/#how_text_becomes_vectors","title":"How text becomes vectors:","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  INPUT: \"I love my red sports car\"              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  TOKENIZATION: [\"I\", \"love\", \"my\", \"red\",       \u2502\n\u2502                  \"sports\", \"car\"]                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  NEURAL NETWORK (BERT, Sentence Transformers)   \u2502\n\u2502  [Complex AI processing...]                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  OUTPUT VECTOR (768 dimensions):                \u2502\n\u2502  [0.23, -0.45, 0.12, 0.89, ..., 0.34]          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Popular embedding models: - Sentence-BERT - OpenAI Ada-002 - Google Universal Sentence Encoder - Cohere Embeddings</p>"},{"location":"vector/vector-search-explainer/#comparison_keyword_vs_vector_search","title":"Comparison: Keyword vs Vector Search","text":""},{"location":"vector/vector-search-explainer/#example_query_how_to_fix_a_broken_vehicle","title":"Example Query: \"How to fix a broken vehicle\"","text":""},{"location":"vector/vector-search-explainer/#keyword_search_bm25","title":"Keyword Search (BM25):","text":"<pre><code>\u2713 Matches: \"vehicle\", \"fix\", \"broken\"\n\u2717 Misses:  \"repair car\", \"automobile troubleshooting\"\n\nResults:\n  \ud83d\udcc4 \"Vehicle maintenance guide\" \u2190 has word \"vehicle\"\n  \ud83d\udcc4 \"How to break dancing\" \u2190 has word \"broken\" (wrong!)\n</code></pre>"},{"location":"vector/vector-search-explainer/#vector_search_1","title":"Vector Search:","text":"<pre><code>\u2713 Understands: repair = fix, car = vehicle\n\u2713 Finds concepts: maintenance, troubleshooting, repair\n\nResults:\n  \ud83d\udcc4 \"Car repair tips\" \u2190 semantic match!\n  \ud83d\udcc4 \"Automobile troubleshooting\" \u2190 semantic match!\n  \ud83d\udcc4 \"Vehicle maintenance guide\" \u2190 exact match!\n</code></pre>"},{"location":"vector/vector-search-explainer/#side-by-side_comparison","title":"Side-by-Side Comparison:","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Keyword Search     \u2502   Vector Search     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                      \u2502                     \u2502\n\u2502   Query: \"car\"       \u2502   Query: \"car\"      \u2502\n\u2502                      \u2502                     \u2502\n\u2502   \ud83d\udd0d Exact match     \u2502   \ud83e\udde0 Concept match  \u2502\n\u2502   only \"car\"         \u2502   car, automobile,  \u2502\n\u2502                      \u2502   vehicle, sedan... \u2502\n\u2502                      \u2502                     \u2502\n\u2502   Speed: \u26a1\u26a1\u26a1        \u2502   Speed: \u26a1\u26a1         \u2502\n\u2502   Fast!              \u2502   Slower            \u2502\n\u2502                      \u2502                     \u2502\n\u2502   Accuracy: \u2b50\u2b50\u2b50     \u2502   Accuracy: \u2b50\u2b50\u2b50\u2b50\u2b50  \u2502\n\u2502   Misses synonyms    \u2502   Finds meaning     \u2502\n\u2502                      \u2502                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"vector/vector-search-explainer/#real-world_example_e-commerce_search","title":"Real-World Example: E-commerce Search","text":""},{"location":"vector/vector-search-explainer/#scenario_user_searches_for_comfortable_shoes_for_running","title":"Scenario: User searches for \"comfortable shoes for running\"","text":""},{"location":"vector/vector-search-explainer/#traditional_keyword_search","title":"Traditional Keyword Search:","text":"<pre><code>Document Scores (BM25):\n\n\ud83d\udcc4 \"Running shoes - comfortable fit\"\n   Keywords: running \u2713, comfortable \u2713, shoes \u2713\n   Score: 8.5/10 \u2b50\u2b50\u2b50\u2b50\u2b50\n\n\ud83d\udcc4 \"Comfortable office chairs for working\"  \n   Keywords: comfortable \u2713, for \u2713\n   Score: 3.2/10 \u2b50\u2b50  [IRRELEVANT!]\n\n\ud83d\udcc4 \"Athletic sneakers - cushioned sole\"\n   Keywords: [none match exactly]\n   Score: 0/10 \u274c  [MISSED - but relevant!]\n</code></pre>"},{"location":"vector/vector-search-explainer/#vector_search_2","title":"Vector Search:","text":"<pre><code>Semantic Similarity:\n\n\ud83d\udcc4 \"Running shoes - comfortable fit\"\n   Concept: running footwear \u2713\u2713\u2713\n   Similarity: 0.95 \u2b50\u2b50\u2b50\u2b50\u2b50\n\n\ud83d\udcc4 \"Athletic sneakers - cushioned sole\"\n   Concept: running footwear \u2713\u2713\n   Similarity: 0.89 \u2b50\u2b50\u2b50\u2b50\u2b50  [FOUND!]\n\n\ud83d\udcc4 \"Comfortable office chairs for working\"\n   Concept: furniture, not footwear\n   Similarity: 0.23 \u2b50  [CORRECTLY IGNORED]\n</code></pre> <p>Vector search understands: - \"sneakers\" \u2248 \"shoes\" - \"athletic\" \u2248 \"running\" - \"cushioned\" \u2248 \"comfortable\" - \"chairs\" \u2260 \"shoes\" (different category)</p>"},{"location":"vector/vector-search-explainer/#similarity_score_ranges","title":"Similarity Score Ranges","text":"<pre><code>Cosine Similarity Scale:\n\n1.0 \u2502 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 Perfect match\n    \u2502 \n0.9 \u2502 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 Extremely similar\n    \u2502 \n0.8 \u2502 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591 Very similar\n    \u2502 \n0.7 \u2502 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591 Similar\n    \u2502 \n0.6 \u2502 \u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591 Somewhat similar\n    \u2502 \n0.5 \u2502 \u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591\u2591 Neutral\n    \u2502 \n0.4 \u2502 \u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 Somewhat different\n    \u2502 \n0.3 \u2502 \u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 Different\n    \u2502 \n0.2 \u2502 \u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 Very different\n    \u2502 \n0.1 \u2502 \u2588\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 Extremely different\n    \u2502 \n0.0 \u2502 \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 Completely unrelated\n</code></pre> <p>Typical cutoff: Return results with similarity &gt; 0.7</p>"},{"location":"vector/vector-search-explainer/#multi-language_magic","title":"Multi-language Magic","text":"<p>Vector search works across languages!</p> <pre><code>Query (English): \"cat\"\nVector: [0.8, 0.2, 0.9, ...]\n\nDocuments:\n  \ud83d\udcc4 \"I have a cat\" (English)\n     Vector: [0.81, 0.19, 0.91, ...]\n     Similarity: 0.99 \u2b50\u2b50\u2b50\u2b50\u2b50\n\n  \ud83d\udcc4 \"J'ai un chat\" (French - means \"I have a cat\")\n     Vector: [0.79, 0.21, 0.88, ...]\n     Similarity: 0.97 \u2b50\u2b50\u2b50\u2b50\u2b50\n\n  \ud83d\udcc4 \"Ich habe eine Katze\" (German)\n     Vector: [0.82, 0.18, 0.90, ...]\n     Similarity: 0.98 \u2b50\u2b50\u2b50\u2b50\u2b50\n</code></pre> <p>Same meaning = Similar vectors, regardless of language! \ud83c\udf0d</p>"},{"location":"vector/vector-search-explainer/#the_full_process_visualized","title":"The Full Process Visualized","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  1. INDEX TIME (Done once)                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nDoc 1: \"Red sports car\" \u2500\u2500\u2192 [0.8, 0.9, 0.2] \u2500\u2500\u2192 \ud83d\udcbe Database\nDoc 2: \"Cute puppy\"     \u2500\u2500\u2192 [0.2, 0.1, 0.9] \u2500\u2500\u2192 \ud83d\udcbe Database  \nDoc 3: \"Fast motorcycle\"\u2500\u2500\u2192 [0.7, 0.8, 0.3] \u2500\u2500\u2192 \ud83d\udcbe Database\n\n               \u2193 Embedding Model \u2193\n\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  2. QUERY TIME (Every search)                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nUser Query: \"automobile\"\n     \u2193\n[0.75, 0.85, 0.25] \u2190 Query Vector\n     \u2193\nCompare to all document vectors:\n     \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Similarity Calculations:    \u2502\n\u2502  Query \u2194 Doc 1: 0.98 \u2b50\u2b50\u2b50\u2b50\u2b50 \u2502\n\u2502  Query \u2194 Doc 2: 0.15 \u2b50       \u2502\n\u2502  Query \u2194 Doc 3: 0.91 \u2b50\u2b50\u2b50\u2b50   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2193\nRank by similarity:\n     \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Results:                    \u2502\n\u2502  #1 Doc 1 (0.98)            \u2502\n\u2502  #2 Doc 3 (0.91)            \u2502\n\u2502  #3 Doc 2 (0.15)            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"vector/vector-search-explainer/#key_advantages_of_vector_search","title":"Key Advantages of Vector Search","text":"<pre><code>\u2705 Semantic Understanding\n   \"car\" finds \"automobile\", \"vehicle\", \"sedan\"\n\n\u2705 Handles Synonyms\n   \"happy\" matches \"joyful\", \"delighted\", \"cheerful\"\n\n\u2705 Context Aware\n   \"Apple\" (fruit) vs \"Apple\" (company) - different vectors!\n\n\u2705 Typo Tolerant\n   \"cmoputer\" still close to \"computer\" in vector space\n\n\u2705 Multi-language\n   Works across languages automatically\n\n\u2705 No Keyword Stuffing\n   Can't game the system by repeating words\n</code></pre>"},{"location":"vector/vector-search-explainer/#limitations","title":"Limitations","text":"<pre><code>\u274c Slower than keyword search\n   Need to calculate many similarities\n\n\u274c Requires more storage\n   Each document = 768+ numbers to store\n\n\u274c Less explainable\n   Hard to say WHY a result matched\n\n\u274c Computationally expensive\n   Generating embeddings requires GPU/CPU power\n\n\u274c May miss exact matches\n   Sometimes you WANT exact word matching\n</code></pre>"},{"location":"vector/vector-search-explainer/#quick_summary","title":"Quick Summary","text":"<p>Vector Search in 5 Points:</p> <ol> <li> <p>Convert text \u2192 numbers (vectors)     Similar meanings = similar numbers</p> </li> <li> <p>Calculate similarity     Cosine similarity = angle between vectors</p> </li> <li> <p>Rank by closeness     Closest vectors = best matches</p> </li> <li> <p>Understands meaning     Not just matching words, but concepts!</p> </li> <li> <p>Works across languages    Universal semantic representation</p> </li> </ol>"},{"location":"vector/vectors-wordpress/","title":"Vector Distance Metrics:","text":"<p>Example vectors used throughout: A = (2, 1) B = (6, 4)</p> <p>This version focuses on how each metric behaves when used inside a WordPress search plugin, a custom MySQL table, or a hybrid search pipeline (e.g., TF\u2011IDF + embeddings).</p>"},{"location":"vector/vectors-wordpress/#why_wordpress_developers_should_care","title":"Why WordPress Developers Should Care","text":"<p>When you add vector search to WordPress \u2014 whether via a plugin, a custom table, or an external vector DB \u2014 you need to choose a distance metric. This choice affects:</p> <ul> <li>how relevant your search results feel  </li> <li>how your ranking behaves  </li> <li>how well embeddings match user intent  </li> <li>how expensive queries are in MySQL or external services  </li> </ul> <p>Different metrics produce very different results, even on the same embeddings.</p>"},{"location":"vector/vectors-wordpress/#the_metrics_with_diagrams","title":"The Metrics (with diagrams)","text":""},{"location":"vector/vectors-wordpress/#euclidean_distance","title":"Euclidean Distance","text":"<p>Straight\u2011line distance between A and B.</p> <pre><code>   y\n   |\n 4 |                B\n 3 |\n 2 |\n 1 |      A\n   |\n   +---------------------------- x\n       2    3    4    5    6\n</code></pre> <p>WordPress/MySQL relevance meaning: Good when vector magnitude matters \u2014 e.g., embeddings where \u201cstronger meaning\u201d produces longer vectors.</p> <p>Typical use: - Custom MySQL vector tables - External vector DBs that default to L2  </p>"},{"location":"vector/vectors-wordpress/#manhattan_distance_l1","title":"Manhattan Distance (L1)","text":"<p>Grid\u2011based movement.</p> <pre><code>   y\n   |\n 4 |                B\n 3 |                |\n 2 |                |\n 1 |      A -------+\n   |\n   +---------------------------- x\n</code></pre> <p>WordPress/MySQL relevance meaning: More stable than Euclidean in high\u2011dimensional spaces. Useful if your embeddings are sparse (rare in NLP, common in bag\u2011of\u2011words vectors).</p> <p>Typical use: - Rare for semantic embeddings - Useful for custom scoring experiments  </p>"},{"location":"vector/vectors-wordpress/#cosine_distance","title":"Cosine Distance","text":"<p>Angle between vectors, ignoring length.</p> <pre><code>Origin\n  |\n  |   A\n  |  /\n  | /\n  |/___________\n       \\\n        \\\n         B\n</code></pre> <p>WordPress/MySQL relevance meaning: The gold standard for semantic search. Perfect when using sentence embeddings (e.g., OpenAI, Cohere, local models).</p> <p>Typical use: - WordPress semantic search plugins - Hybrid search (BM25 + embeddings) - Most vector DBs default to cosine for text  </p>"},{"location":"vector/vectors-wordpress/#dot_product","title":"Dot Product","text":"<p>Alignment \u00d7 magnitude.</p> <pre><code>Origin\n  |\n  |   A \u2192\u2192\n  |  /\n  | /\n  |/___________ \u2192\u2192 B (longer)\n</code></pre> <p>WordPress/MySQL relevance meaning: Good when embedding length encodes confidence or intensity. Some embedding models are trained specifically for dot\u2011product scoring.</p> <p>Typical use: - Recommender systems (products, posts, related content) - Models where magnitude matters  </p>"},{"location":"vector/vectors-wordpress/#chebyshev_distance","title":"Chebyshev Distance","text":"<p>Largest single\u2011dimension difference.</p> <pre><code>   y\n   |\n 4 |                B\n 3 |\n 2 |\n 1 |      A\n   |\n   +---------------------------- x\n</code></pre> <p>WordPress/MySQL relevance meaning: Not used for semantic search. Useful only in niche cases where you care about the worst\u2011case deviation.</p> <p>Typical use: - Outlier detection - Quality\u2011control pipelines  </p>"},{"location":"vector/vectors-wordpress/#hamming_distance","title":"Hamming Distance","text":"<p>Counts mismatched positions.</p> <pre><code>A = (2,1)\nB = (6,4)\n\nDifferences:\n- 2 vs 6 \u2192 different\n- 1 vs 4 \u2192 different\n\nHamming distance = 2\n</code></pre> <p>WordPress/MySQL relevance meaning: Not used for embeddings. Useful only for binary vectors (e.g., hashed fingerprints).</p> <p>Typical use: - Duplicate detection - Hash\u2011based similarity  </p>"},{"location":"vector/vectors-wordpress/#summary_table_wordpressmysql_context","title":"Summary Table (WordPress/MySQL Context)","text":"Metric What It Measures Best For WordPress Use Case Euclidean Straight\u2011line distance Geometric similarity Custom vector tables, general semantic search Manhattan Grid\u2011based movement Sparse/high\u2011dimensional data Rare; experimental scoring Cosine Angle between vectors Semantic similarity Best choice for WordPress semantic search Dot Product Alignment \u00d7 magnitude Recommenders Related posts, product suggestions Chebyshev Largest coordinate difference Outlier detection Data validation, anomaly detection Hamming Count of mismatches Binary vectors Duplicate detection, hashing"},{"location":"vector/vectors-wordpress/#how_this_fits_into_wordpress_search_architecture","title":"How This Fits Into WordPress Search Architecture","text":""},{"location":"vector/vectors-wordpress/#1_classic_wordpress_search_like_queries","title":"1. Classic WordPress Search (LIKE queries)","text":"<p>No vector search. No distance metrics.</p>"},{"location":"vector/vectors-wordpress/#2_mysql_fulltext_search_match_against","title":"2. MySQL Full\u2011Text Search (MATCH AGAINST)","text":"<p>Still lexical \u2014 no vectors.</p>"},{"location":"vector/vectors-wordpress/#3_hybrid_search_bm25_embeddings","title":"3. Hybrid Search (BM25 + Embeddings)","text":"<p>You combine: - BM25 from MySQL - Cosine similarity from embeddings  </p> <p>This is where cosine distance shines.</p>"},{"location":"vector/vectors-wordpress/#4_full_vector_search_in_mysql","title":"4. Full Vector Search in MySQL","text":"<p>If you store embeddings in a custom table (e.g., <code>FLOAT[]</code> or JSON), you can compute: - Euclidean - Manhattan - Dot product - Cosine (with normalization)</p>"},{"location":"vector/vectors-wp-combined/","title":"Vector Search &amp; Distance Metrics:","text":"<p>A Complete Guide for WordPress and MySQL Developers</p> <p>Modern search is no longer about matching exact words \u2014 it\u2019s about understanding meaning. Vector search brings semantic intelligence to WordPress, MySQL, and any custom search pipeline by representing text as vectors (lists of numbers) and comparing them using distance metrics.</p> <p>This document gives you a complete, developer\u2011friendly walkthrough of:</p> <ul> <li>What vector search is  </li> <li>How embeddings work  </li> <li>How similarity is calculated  </li> <li>How different distance metrics behave  </li> <li>How all of this fits into WordPress and MySQL search architecture  </li> </ul>"},{"location":"vector/vectors-wp-combined/#1_what_is_vector_search","title":"1. What Is Vector Search?","text":"<p>Traditional search engines (like WordPress\u2019s default search or MySQL\u2019s MATCH AGAINST) match exact words.</p>"},{"location":"vector/vectors-wp-combined/#example","title":"Example","text":"<p>Query: \u201ccar\u201d Keyword search finds documents containing \u201ccar\u201d \u2014 but misses:</p> <ul> <li>automobile  </li> <li>vehicle  </li> <li>sedan  </li> <li>SUV  </li> </ul> <p>Vector search understands concepts, not just words.</p>"},{"location":"vector/vectors-wp-combined/#vector_search","title":"Vector Search","text":"<p>Query: \u201ccar\u201d Matches documents about:</p> <ul> <li>automobile  </li> <li>vehicle  </li> <li>sedan  </li> <li>SUV  </li> <li>truck  </li> </ul> <p>Because all these concepts live close together in semantic space.</p> <p></p>"},{"location":"vector/vectors-wp-combined/#2_words_as_points_in_space","title":"2. Words as Points in Space","text":"<p>Embeddings convert text into vectors \u2014 numerical coordinates in a multi\u2011dimensional space.</p>"},{"location":"vector/vectors-wp-combined/#simple_2d_example","title":"Simple 2D Example","text":"<pre><code>        Y-axis (Vehicle Type)\n        \u2502\n    5   \u2502         \ud83d\ude97 car\n        \u2502       \n    4   \u2502     \ud83d\ude99 SUV    \ud83d\ude95 taxi\n        \u2502    \n    3   \u2502   \ud83d\ude9a truck\n        \u2502\n    2   \u2502\n        \u2502\n    1   \u2502   \ud83d\udc15 dog      \ud83d\udc31 cat\n        \u2502\n    0   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 X-axis (Animal vs Vehicle)\n        0   1   2   3   4   5\n</code></pre> <p>Key idea: Similar meanings \u2192 close together Different meanings \u2192 far apart  </p> <p>Real embeddings have 384\u20131536 dimensions, but the principle is identical.</p>"},{"location":"vector/vectors-wp-combined/#3_what_is_a_vector","title":"3. What Is a Vector?","text":"<p>A vector is simply a list of numbers.</p>"},{"location":"vector/vectors-wp-combined/#2d_example","title":"2D Example","text":"<pre><code>\"car\" = [4.2, 4.8]\n\"dog\" = [1.3, 1.1]\n</code></pre>"},{"location":"vector/vectors-wp-combined/#real_embedding_example_768_dimensions","title":"Real Embedding Example (768 dimensions)","text":"<pre><code>\"car\" = [0.23, -0.45, 0.12, 0.89, ...]\n</code></pre> <p>Each dimension encodes some semantic feature (vehicle\u2011ness, speed, size, etc.).</p>"},{"location":"vector/vectors-wp-combined/#4_how_vector_search_works","title":"4. How Vector Search Works","text":""},{"location":"vector/vectors-wp-combined/#step_1_convert_documents_to_vectors","title":"Step 1 \u2014 Convert Documents to Vectors","text":"<p>Each document is embedded into a vector.</p>"},{"location":"vector/vectors-wp-combined/#step_2_convert_query_to_vector","title":"Step 2 \u2014 Convert Query to Vector","text":"<p>The user\u2019s query is embedded the same way.</p>"},{"location":"vector/vectors-wp-combined/#step_3_compare_vectors","title":"Step 3 \u2014 Compare Vectors","text":"<p>Using a distance metric (cosine, Euclidean, dot product, etc.).</p>"},{"location":"vector/vectors-wp-combined/#step_4_rank_by_similarity","title":"Step 4 \u2014 Rank by Similarity","text":"<p>Closest vectors = most relevant results.</p> <p>This is where distance metrics become critical.</p>"},{"location":"vector/vectors-wp-combined/#5_cosine_similarity_the_semantic_search_standard","title":"5. Cosine Similarity (The Semantic Search Standard)","text":"<p>Cosine similarity measures the angle between vectors \u2014 ignoring length.</p> <p>[ \\text{Cosine Similarity} = \\frac{A \\cdot B}{||A|| \\cdot ||B||} ]</p> <ul> <li>1.0 \u2192 identical direction  </li> <li>0.0 \u2192 unrelated  </li> <li>-1.0 \u2192 opposite meaning  </li> </ul> <p>Cosine is the default for semantic search because it focuses on meaning, not magnitude.</p>"},{"location":"vector/vectors-wp-combined/#6_distance_metrics_wordpress_mysql_context","title":"6. Distance Metrics (WordPress &amp; MySQL Context)","text":"<p>When implementing vector search in WordPress \u2014 via a plugin, custom table, or external vector DB \u2014 you must choose a distance metric.</p> <p>Different metrics produce different rankings.</p> <p>Below is a unified explanation of each metric, with diagrams and WordPress\u2011specific guidance.</p>"},{"location":"vector/vectors-wp-combined/#61_euclidean_distance_l2","title":"6.1 Euclidean Distance (L2)","text":"<p>Straight\u2011line distance.</p> <pre><code>   y\n   |\n 4 |                B\n 3 |\n 2 |\n 1 |      A\n   |\n   +---------------------------- x\n</code></pre> <p>Meaning: Measures literal geometric distance.</p> <p>Best for: - Embeddings where magnitude encodes meaning - General vector search  </p> <p>WordPress use: - Custom MySQL tables - External vector DBs that default to L2  </p>"},{"location":"vector/vectors-wp-combined/#62_manhattan_distance_l1","title":"6.2 Manhattan Distance (L1)","text":"<p>Grid\u2011based movement.</p> <pre><code>   y\n   |\n 4 |                B\n 3 |                |\n 2 |                |\n 1 |      A -------+\n   |\n   +---------------------------- x\n</code></pre> <p>Meaning: Sum of absolute differences.</p> <p>Best for: - Sparse vectors (rare in NLP)  </p> <p>WordPress use: - Experimental scoring only  </p>"},{"location":"vector/vectors-wp-combined/#63_cosine_distance","title":"6.3 Cosine Distance","text":"<p>Angle between vectors.</p> <pre><code>Origin\n  |\n  |   A\n  |  /\n  | /\n  |/___________\n       \\\n        \\\n         B\n</code></pre> <p>Meaning: Measures similarity of direction.</p> <p>Best for: - Semantic search - Sentence embeddings  </p> <p>WordPress use: - Hybrid search (BM25 + embeddings) - Most semantic search plugins - Recommended default  </p>"},{"location":"vector/vectors-wp-combined/#64_dot_product","title":"6.4 Dot Product","text":"<p>Alignment \u00d7 magnitude.</p> <pre><code>Origin\n  |\n  |   A \u2192\u2192\n  |  /\n  | /\n  |/___________ \u2192\u2192 B (longer)\n</code></pre> <p>Meaning: Rewards vectors that point the same way and have large magnitude.</p> <p>Best for: - Recommender systems - Models trained for dot\u2011product scoring  </p> <p>WordPress use: - Related posts - Product recommendations  </p>"},{"location":"vector/vectors-wp-combined/#65_chebyshev_distance","title":"6.5 Chebyshev Distance","text":"<p>Largest single\u2011dimension difference.</p> <pre><code>   y\n   |\n 4 |                B\n 3 |\n 2 |\n 1 |      A\n   |\n   +---------------------------- x\n</code></pre> <p>Meaning: \u201cHow bad is the worst mismatch?\u201d</p> <p>WordPress use: - Outlier detection - Quality control  </p> <p>Not used for semantic search.</p>"},{"location":"vector/vectors-wp-combined/#66_hamming_distance","title":"6.6 Hamming Distance","text":"<p>Counts mismatched positions.</p> <pre><code>A = (2,1)\nB = (6,4)\n\nDifferences:\n- 2 vs 6 \u2192 different\n- 1 vs 4 \u2192 different\n\nHamming distance = 2\n</code></pre> <p>Meaning: Only for binary vectors.</p> <p>WordPress use: - Duplicate detection - Hash fingerprints  </p> <p>Not used for embeddings.</p>"},{"location":"vector/vectors-wp-combined/#7_summary_table","title":"7. Summary Table","text":"Metric Measures Best For WordPress Use \ud83e\udded Cosine Angle Semantic similarity Best default for semantic search \ud83d\udccf Euclidean Straight\u2011line distance General vector search Custom tables, vector DBs \ud83c\udfaf Dot Product Alignment \u00d7 magnitude Recommenders Related posts/products \ud83d\udcd0 Manhattan Grid distance Sparse vectors Rare \ud83d\udcca Chebyshev Max deviation Outliers Data validation \ud83d\udd22 Hamming Mismatched bits Binary vectors Duplicate detection"},{"location":"vector/vectors-wp-combined/#8_how_this_fits_into_wordpress_search_architecture","title":"8. How This Fits Into WordPress Search Architecture","text":""},{"location":"vector/vectors-wp-combined/#1_default_wordpress_search_like","title":"1. Default WordPress Search (LIKE)","text":"<p>No vectors. No semantics.</p>"},{"location":"vector/vectors-wp-combined/#2_mysql_fulltext_search_match_against","title":"2. MySQL Full\u2011Text Search (MATCH AGAINST)","text":"<p>Lexical only \u2014 still no semantics.</p>"},{"location":"vector/vectors-wp-combined/#3_hybrid_search_bm25_embeddings","title":"3. Hybrid Search (BM25 + Embeddings)","text":"<p>Combine: - BM25 for keyword precision - Cosine similarity for semantic recall  </p> <p>This is the sweet spot for most WordPress sites.</p>"},{"location":"vector/vectors-wp-combined/#4_full_vector_search_in_mysql","title":"4. Full Vector Search in MySQL","text":"<p>Store embeddings in a custom table (JSON, FLOAT[], etc.) and compute:</p> <ul> <li>Cosine  </li> <li>Euclidean  </li> <li>Dot product  </li> <li>Manhattan  </li> </ul> <p>This gives you full semantic search without external services.</p>"},{"location":"vector/vectors-wp-combined/#9_realworld_example_ecommerce_search","title":"9. Real\u2011World Example: E\u2011commerce Search","text":"<p>Query: \u201ccomfortable shoes for running\u201d</p>"},{"location":"vector/vectors-wp-combined/#keyword_search","title":"Keyword Search","text":"<p>Finds documents containing the exact words. Misses synonyms like \u201csneakers\u201d, \u201cathletic\u201d, \u201ccushioned\u201d.</p>"},{"location":"vector/vectors-wp-combined/#vector_search_1","title":"Vector Search","text":"<p>Understands:</p> <ul> <li>sneakers \u2248 shoes  </li> <li>athletic \u2248 running  </li> <li>cushioned \u2248 comfortable  </li> </ul> <p>Produces dramatically better results.</p>"},{"location":"vector/vectors-wp-combined/#10_multilanguage_magic","title":"10. Multi\u2011Language Magic","text":"<p>Embeddings place meaning in the same space across languages.</p> <p>English \u201ccat\u201d French \u201cchat\u201d German \u201cKatze\u201d  </p> <p>\u2192 All cluster together.</p> <p>This makes vector search inherently multilingual.</p>"},{"location":"vector/vectors-wp-combined/#11_advantages_limitations","title":"11. Advantages &amp; Limitations","text":""},{"location":"vector/vectors-wp-combined/#advantages","title":"Advantages","text":"<ul> <li>Understands meaning  </li> <li>Handles synonyms  </li> <li>Context\u2011aware  </li> <li>Typo\u2011tolerant  </li> <li>Multilingual  </li> <li>Harder to game  </li> </ul>"},{"location":"vector/vectors-wp-combined/#limitations","title":"Limitations","text":"<ul> <li>Slower than keyword search  </li> <li>Requires more storage  </li> <li>Harder to explain  </li> <li>Embedding generation costs CPU/GPU  </li> <li>Sometimes you want exact matches  </li> </ul>"},{"location":"vector/vectors-wp-combined/#12_quick_summary","title":"12. Quick Summary","text":"<p>Vector search in 5 points:</p> <ol> <li>Convert text \u2192 vectors  </li> <li>Compare vectors using distance metrics  </li> <li>Rank by similarity  </li> <li>Understand meaning, not just words  </li> <li>Works across languages  </li> </ol>"}]}