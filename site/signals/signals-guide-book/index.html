
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="UDEMY AI Powered Search in WordPress">
      
      
      
      
        <link rel="prev" href="../plugin-demo/">
      
      
        <link rel="next" href="../../craig/cv/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Signals Guide - UDEMY Advanced WP Search</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Raleway";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../assets/css/custom.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="purple" data-md-color-accent="white">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#understanding_user_search_signals_a_comprehensive_guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="UDEMY Advanced WP Search" class="md-header__button md-logo" aria-label="UDEMY Advanced WP Search" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            UDEMY Advanced WP Search
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Signals Guide
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="purple" data-md-color-accent="white"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="purple" data-md-color-accent="grey"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://advanced-wordpress-search.netlify.app/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    UDEMY ADV WP SEARCH
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="UDEMY Advanced WP Search" class="md-nav__button md-logo" aria-label="UDEMY Advanced WP Search" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    UDEMY Advanced WP Search
  </label>
  
    <div class="md-nav__source">
      <a href="https://advanced-wordpress-search.netlify.app/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    UDEMY ADV WP SEARCH
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    About
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Course
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Course
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../course/intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    About
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../course/requirements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Requirements
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Theory
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Theory
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fts/tf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Term Frequency
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fts/idf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Inverse Doc Freq
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fts/tf-idf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    TF-IDF
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fts/bm25/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    BM25
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fts/negative-bm25-scores/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Negative Scores
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fts/stop-words/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Stop Words
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fts/multiple-indexes-on-same-col/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    COLS with many indexes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fts/what-fts-does/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MySQL FTS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Implementations
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Implementations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    MySQL Docs
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    MySQL Docs
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../implementations/fts-docs-articles-example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Articles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mysql-docs/01-intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    01: Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mysql-docs/02-natural-search/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    02: Natural Search
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mysql-docs/03-boolean-search/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    03: Boolean Search
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mysql-docs/04-query-expansion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    04: Query Expansion
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mysql-docs/05-stop-words/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    05: Stop Words
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mysql-docs/06-restrictions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    06: Restrictions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mysql-docs/07-fts-tuning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    07: FTS Tuning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../implementations/products/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Products
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../implementations/wp-fts-sql-examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    WP Posts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Vector Search
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Vector Search
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../vector/vector-databases-hack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Vector DB Hack
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../vector/vectors-wp-combined/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Vector Search
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../vector/ann-hnsw-explainer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Indexing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Hybrid Search
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Hybrid Search
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hybrid/reranking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Reranking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Signals
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Signals
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../plugin-demo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Plugin Demo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Signals Guide
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Signals Guide
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table_of_contents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Table of Contents
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      
        Introduction
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what_are_search_signals" class="md-nav__link">
    <span class="md-ellipsis">
      
        What Are Search Signals?
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why_signals_matter" class="md-nav__link">
    <span class="md-ellipsis">
      
        Why Signals Matter
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the_three_signal_categories" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Three Signal Categories
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user_intent_signals" class="md-nav__link">
    <span class="md-ellipsis">
      
        User Intent Signals
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="User Intent Signals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#understanding_user_intent" class="md-nav__link">
    <span class="md-ellipsis">
      
        Understanding User Intent
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why_intent_matters_for_search_engineering" class="md-nav__link">
    <span class="md-ellipsis">
      
        Why Intent Matters for Search Engineering
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the_three_primary_intent_types" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Three Primary Intent Types
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Three Primary Intent Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_navigational_intent" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Navigational Intent
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_informational_intent" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Informational Intent
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_transactional_intent" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Transactional Intent
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#detecting_intent_in_practice" class="md-nav__link">
    <span class="md-ellipsis">
      
        Detecting Intent in Practice
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Detecting Intent in Practice">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#multi-signal_intent_detection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Multi-Signal Intent Detection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intent_confidence_scoring" class="md-nav__link">
    <span class="md-ellipsis">
      
        Intent Confidence Scoring
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handling_ambiguous_queries" class="md-nav__link">
    <span class="md-ellipsis">
      
        Handling Ambiguous Queries
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user_action_signals" class="md-nav__link">
    <span class="md-ellipsis">
      
        User Action Signals
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="User Action Signals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#click_patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Click Patterns
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Click Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#click-through_rate_ctr" class="md-nav__link">
    <span class="md-ellipsis">
      
        Click-Through Rate (CTR)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#click_position_analysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        Click Position Analysis
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#click_depth" class="md-nav__link">
    <span class="md-ellipsis">
      
        Click Depth
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#time-based_signals" class="md-nav__link">
    <span class="md-ellipsis">
      
        Time-Based Signals
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Time-Based Signals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dwell_time" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dwell Time
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return_to_search" class="md-nav__link">
    <span class="md-ellipsis">
      
        Return to Search
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#session_duration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Session Duration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refinement_behavior" class="md-nav__link">
    <span class="md-ellipsis">
      
        Refinement Behavior
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Refinement Behavior">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#query_reformulation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Query Reformulation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#abandonment_signals" class="md-nav__link">
    <span class="md-ellipsis">
      
        Abandonment Signals
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conversion_signals" class="md-nav__link">
    <span class="md-ellipsis">
      
        Conversion Signals
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Conversion Signals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#search-to-conversion_tracking" class="md-nav__link">
    <span class="md-ellipsis">
      
        Search-to-Conversion Tracking
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attribution_windows" class="md-nav__link">
    <span class="md-ellipsis">
      
        Attribution Windows
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#response_quality_signals" class="md-nav__link">
    <span class="md-ellipsis">
      
        Response Quality Signals
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Response Quality Signals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#satisfaction_score" class="md-nav__link">
    <span class="md-ellipsis">
      
        Satisfaction Score
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relevance_score" class="md-nav__link">
    <span class="md-ellipsis">
      
        Relevance Score
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zero-result_rate" class="md-nav__link">
    <span class="md-ellipsis">
      
        Zero-Result Rate
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#time_to_success" class="md-nav__link">
    <span class="md-ellipsis">
      
        Time to Success
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation_and_tracking" class="md-nav__link">
    <span class="md-ellipsis">
      
        Implementation and Tracking
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implementation and Tracking">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#technical_implementation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Technical Implementation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Technical Implementation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frontend_tracking" class="md-nav__link">
    <span class="md-ellipsis">
      
        Frontend Tracking
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backend_logging" class="md-nav__link">
    <span class="md-ellipsis">
      
        Backend Logging
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database_design" class="md-nav__link">
    <span class="md-ellipsis">
      
        Database Design
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#privacy_considerations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Privacy Considerations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Privacy Considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gdpr_compliance" class="md-nav__link">
    <span class="md-ellipsis">
      
        GDPR Compliance
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#analysis_and_optimization_workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Analysis and Optimization Workflow
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Analysis and Optimization Workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#daily_monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      
        Daily Monitoring
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Daily Monitoring">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quick_health_check" class="md-nav__link">
    <span class="md-ellipsis">
      
        Quick Health Check
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#weekly_analysis_routine" class="md-nav__link">
    <span class="md-ellipsis">
      
        Weekly Analysis Routine
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Weekly Analysis Routine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_identify_problem_queries" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Identify Problem Queries
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_discover_opportunities" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Discover Opportunities
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_ab_testing" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. A/B Testing
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monthly_deep_dive" class="md-nav__link">
    <span class="md-ellipsis">
      
        Monthly Deep Dive
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Monthly Deep Dive">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#intent_analysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        Intent Analysis
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#algorithm_performance" class="md-nav__link">
    <span class="md-ellipsis">
      
        Algorithm Performance
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content_gaps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Content Gaps
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced_signal_analysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        Advanced Signal Analysis
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Signal Analysis">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine_learning_opportunities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Machine Learning Opportunities
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Machine Learning Opportunities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#automated_intent_detection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Automated Intent Detection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#learning_to_rank" class="md-nav__link">
    <span class="md-ellipsis">
      
        Learning to Rank
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#personalization_signals" class="md-nav__link">
    <span class="md-ellipsis">
      
        Personalization Signals
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#semantic_search_integration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Semantic Search Integration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common_pitfalls_and_solutions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common Pitfalls and Solutions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Pitfalls and Solutions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pitfall_1_over-optimizing_for_click-through_rate" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pitfall 1: Over-Optimizing for Click-Through Rate
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pitfall_2_ignoring_long-tail_queries" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pitfall 2: Ignoring Long-Tail Queries
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pitfall_3_not_accounting_for_intent_differences" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pitfall 3: Not Accounting for Intent Differences
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pitfall_4_data_hoarding_without_action" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pitfall 4: Data Hoarding Without Action
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pitfall_5_forgetting_the_human_element" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pitfall 5: Forgetting the Human Element
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pitfall_6_privacy_violations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pitfall 6: Privacy Violations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pitfall_7_not_testing_changes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pitfall 7: Not Testing Changes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pitfall_8_ignoring_mobile_vs_desktop_differences" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pitfall 8: Ignoring Mobile vs Desktop Differences
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#success_metrics" class="md-nav__link">
    <span class="md-ellipsis">
      
        Success Metrics
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key_takeaways" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Takeaways
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Takeaways">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#essential_principles" class="md-nav__link">
    <span class="md-ellipsis">
      
        Essential Principles
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the_continuous_improvement_cycle" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Continuous Improvement Cycle
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#beyond_default_wordpress_search" class="md-nav__link">
    <span class="md-ellipsis">
      
        Beyond Default WordPress Search
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integration_with_advanced_technologies" class="md-nav__link">
    <span class="md-ellipsis">
      
        Integration with Advanced Technologies
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Conclusion
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Conclusion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the_path_forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Path Forward
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#start_simple_scale_smart" class="md-nav__link">
    <span class="md-ellipsis">
      
        Start Simple, Scale Smart
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the_goal" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Goal
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix_quick_reference" class="md-nav__link">
    <span class="md-ellipsis">
      
        Appendix: Quick Reference
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Appendix: Quick Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#essential_sql_queries" class="md-nav__link">
    <span class="md-ellipsis">
      
        Essential SQL Queries
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#signal_interpretation_cheat_sheet" class="md-nav__link">
    <span class="md-ellipsis">
      
        Signal Interpretation Cheat Sheet
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intent_detection_keywords" class="md-nav__link">
    <span class="md-ellipsis">
      
        Intent Detection Keywords
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#weekly_analysis_checklist" class="md-nav__link">
    <span class="md-ellipsis">
      
        Weekly Analysis Checklist
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monthly_deep_dive_checklist" class="md-nav__link">
    <span class="md-ellipsis">
      
        Monthly Deep Dive Checklist
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key_metrics_dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Metrics Dashboard
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    About Craig
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    About Craig
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../craig/cv/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CV
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../craig/contact/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contact
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table_of_contents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Table of Contents
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      
        Introduction
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what_are_search_signals" class="md-nav__link">
    <span class="md-ellipsis">
      
        What Are Search Signals?
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why_signals_matter" class="md-nav__link">
    <span class="md-ellipsis">
      
        Why Signals Matter
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the_three_signal_categories" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Three Signal Categories
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user_intent_signals" class="md-nav__link">
    <span class="md-ellipsis">
      
        User Intent Signals
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="User Intent Signals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#understanding_user_intent" class="md-nav__link">
    <span class="md-ellipsis">
      
        Understanding User Intent
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why_intent_matters_for_search_engineering" class="md-nav__link">
    <span class="md-ellipsis">
      
        Why Intent Matters for Search Engineering
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the_three_primary_intent_types" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Three Primary Intent Types
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Three Primary Intent Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_navigational_intent" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Navigational Intent
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_informational_intent" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Informational Intent
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_transactional_intent" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Transactional Intent
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#detecting_intent_in_practice" class="md-nav__link">
    <span class="md-ellipsis">
      
        Detecting Intent in Practice
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Detecting Intent in Practice">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#multi-signal_intent_detection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Multi-Signal Intent Detection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intent_confidence_scoring" class="md-nav__link">
    <span class="md-ellipsis">
      
        Intent Confidence Scoring
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handling_ambiguous_queries" class="md-nav__link">
    <span class="md-ellipsis">
      
        Handling Ambiguous Queries
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user_action_signals" class="md-nav__link">
    <span class="md-ellipsis">
      
        User Action Signals
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="User Action Signals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#click_patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Click Patterns
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Click Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#click-through_rate_ctr" class="md-nav__link">
    <span class="md-ellipsis">
      
        Click-Through Rate (CTR)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#click_position_analysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        Click Position Analysis
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#click_depth" class="md-nav__link">
    <span class="md-ellipsis">
      
        Click Depth
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#time-based_signals" class="md-nav__link">
    <span class="md-ellipsis">
      
        Time-Based Signals
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Time-Based Signals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dwell_time" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dwell Time
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return_to_search" class="md-nav__link">
    <span class="md-ellipsis">
      
        Return to Search
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#session_duration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Session Duration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refinement_behavior" class="md-nav__link">
    <span class="md-ellipsis">
      
        Refinement Behavior
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Refinement Behavior">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#query_reformulation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Query Reformulation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#abandonment_signals" class="md-nav__link">
    <span class="md-ellipsis">
      
        Abandonment Signals
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conversion_signals" class="md-nav__link">
    <span class="md-ellipsis">
      
        Conversion Signals
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Conversion Signals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#search-to-conversion_tracking" class="md-nav__link">
    <span class="md-ellipsis">
      
        Search-to-Conversion Tracking
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attribution_windows" class="md-nav__link">
    <span class="md-ellipsis">
      
        Attribution Windows
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#response_quality_signals" class="md-nav__link">
    <span class="md-ellipsis">
      
        Response Quality Signals
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Response Quality Signals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#satisfaction_score" class="md-nav__link">
    <span class="md-ellipsis">
      
        Satisfaction Score
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relevance_score" class="md-nav__link">
    <span class="md-ellipsis">
      
        Relevance Score
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zero-result_rate" class="md-nav__link">
    <span class="md-ellipsis">
      
        Zero-Result Rate
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#time_to_success" class="md-nav__link">
    <span class="md-ellipsis">
      
        Time to Success
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation_and_tracking" class="md-nav__link">
    <span class="md-ellipsis">
      
        Implementation and Tracking
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implementation and Tracking">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#technical_implementation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Technical Implementation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Technical Implementation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frontend_tracking" class="md-nav__link">
    <span class="md-ellipsis">
      
        Frontend Tracking
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backend_logging" class="md-nav__link">
    <span class="md-ellipsis">
      
        Backend Logging
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database_design" class="md-nav__link">
    <span class="md-ellipsis">
      
        Database Design
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#privacy_considerations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Privacy Considerations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Privacy Considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gdpr_compliance" class="md-nav__link">
    <span class="md-ellipsis">
      
        GDPR Compliance
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#analysis_and_optimization_workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Analysis and Optimization Workflow
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Analysis and Optimization Workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#daily_monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      
        Daily Monitoring
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Daily Monitoring">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quick_health_check" class="md-nav__link">
    <span class="md-ellipsis">
      
        Quick Health Check
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#weekly_analysis_routine" class="md-nav__link">
    <span class="md-ellipsis">
      
        Weekly Analysis Routine
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Weekly Analysis Routine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_identify_problem_queries" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Identify Problem Queries
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_discover_opportunities" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Discover Opportunities
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_ab_testing" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. A/B Testing
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monthly_deep_dive" class="md-nav__link">
    <span class="md-ellipsis">
      
        Monthly Deep Dive
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Monthly Deep Dive">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#intent_analysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        Intent Analysis
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#algorithm_performance" class="md-nav__link">
    <span class="md-ellipsis">
      
        Algorithm Performance
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content_gaps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Content Gaps
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced_signal_analysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        Advanced Signal Analysis
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Signal Analysis">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine_learning_opportunities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Machine Learning Opportunities
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Machine Learning Opportunities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#automated_intent_detection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Automated Intent Detection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#learning_to_rank" class="md-nav__link">
    <span class="md-ellipsis">
      
        Learning to Rank
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#personalization_signals" class="md-nav__link">
    <span class="md-ellipsis">
      
        Personalization Signals
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#semantic_search_integration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Semantic Search Integration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common_pitfalls_and_solutions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common Pitfalls and Solutions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Pitfalls and Solutions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pitfall_1_over-optimizing_for_click-through_rate" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pitfall 1: Over-Optimizing for Click-Through Rate
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pitfall_2_ignoring_long-tail_queries" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pitfall 2: Ignoring Long-Tail Queries
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pitfall_3_not_accounting_for_intent_differences" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pitfall 3: Not Accounting for Intent Differences
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pitfall_4_data_hoarding_without_action" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pitfall 4: Data Hoarding Without Action
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pitfall_5_forgetting_the_human_element" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pitfall 5: Forgetting the Human Element
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pitfall_6_privacy_violations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pitfall 6: Privacy Violations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pitfall_7_not_testing_changes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pitfall 7: Not Testing Changes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pitfall_8_ignoring_mobile_vs_desktop_differences" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pitfall 8: Ignoring Mobile vs Desktop Differences
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#success_metrics" class="md-nav__link">
    <span class="md-ellipsis">
      
        Success Metrics
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key_takeaways" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Takeaways
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Takeaways">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#essential_principles" class="md-nav__link">
    <span class="md-ellipsis">
      
        Essential Principles
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the_continuous_improvement_cycle" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Continuous Improvement Cycle
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#beyond_default_wordpress_search" class="md-nav__link">
    <span class="md-ellipsis">
      
        Beyond Default WordPress Search
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integration_with_advanced_technologies" class="md-nav__link">
    <span class="md-ellipsis">
      
        Integration with Advanced Technologies
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Conclusion
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Conclusion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the_path_forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Path Forward
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#start_simple_scale_smart" class="md-nav__link">
    <span class="md-ellipsis">
      
        Start Simple, Scale Smart
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the_goal" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Goal
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix_quick_reference" class="md-nav__link">
    <span class="md-ellipsis">
      
        Appendix: Quick Reference
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Appendix: Quick Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#essential_sql_queries" class="md-nav__link">
    <span class="md-ellipsis">
      
        Essential SQL Queries
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#signal_interpretation_cheat_sheet" class="md-nav__link">
    <span class="md-ellipsis">
      
        Signal Interpretation Cheat Sheet
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intent_detection_keywords" class="md-nav__link">
    <span class="md-ellipsis">
      
        Intent Detection Keywords
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#weekly_analysis_checklist" class="md-nav__link">
    <span class="md-ellipsis">
      
        Weekly Analysis Checklist
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monthly_deep_dive_checklist" class="md-nav__link">
    <span class="md-ellipsis">
      
        Monthly Deep Dive Checklist
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key_metrics_dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Metrics Dashboard
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="understanding_user_search_signals_a_comprehensive_guide">Understanding User Search Signals: A Comprehensive Guide<a class="headerlink" href="#understanding_user_search_signals_a_comprehensive_guide" title="Permanent link">&para;</a></h1>
<h2 id="table_of_contents">Table of Contents<a class="headerlink" href="#table_of_contents" title="Permanent link">&para;</a></h2>
<ol>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#what-are-search-signals">What Are Search Signals?</a></li>
<li><a href="#user-intent-signals">User Intent Signals</a></li>
<li><a href="#user-action-signals">User Action Signals</a></li>
<li><a href="#response-quality-signals">Response Quality Signals</a></li>
<li><a href="#implementation-and-tracking">Implementation and Tracking</a></li>
<li><a href="#analysis-and-optimization-workflow">Analysis and Optimization Workflow</a></li>
<li><a href="#advanced-signal-analysis">Advanced Signal Analysis</a></li>
<li><a href="#common-pitfalls-and-solutions">Common Pitfalls and Solutions</a></li>
<li><a href="#implementation-roadmap">Implementation Roadmap</a></li>
<li><a href="#key-takeaways">Key Takeaways</a></li>
</ol>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<h3 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h3>
<p>This comprehensive guide is designed for WordPress developers and search engineers who want to understand and leverage search signals to build intelligent, data-driven search systems. Whether you're implementing basic keyword search or advanced technologies like Full-Text Search (FTS), BM25 scoring, semantic search, or RAG pipelines, understanding search signals is critical to success.</p>
<h3 id="what_are_search_signals">What Are Search Signals?<a class="headerlink" href="#what_are_search_signals" title="Permanent link">&para;</a></h3>
<p>Search signals are measurable data points and behavioral patterns that reveal how users interact with your search functionality. They form a feedback loop that helps you understand:</p>
<ul>
<li>What users are looking for</li>
<li>Whether they found it</li>
<li>How satisfied they are with results</li>
<li>Where your search system is failing</li>
<li>How to continuously improve search quality</li>
</ul>
<p>By tracking and analyzing these signals, you can continuously improve search relevance, user experience, and ultimately, conversions.</p>
<h3 id="why_signals_matter">Why Signals Matter<a class="headerlink" href="#why_signals_matter" title="Permanent link">&para;</a></h3>
<p>When implementing advanced search technologies, you need objective metrics to:</p>
<ul>
<li>Validate that your improvements actually work</li>
<li>Identify which ranking algorithm performs best</li>
<li>Tune scoring parameters based on real behavior</li>
<li>Justify the complexity and cost of advanced features</li>
<li>Create a feedback loop for continuous improvement</li>
</ul>
<h3 id="the_three_signal_categories">The Three Signal Categories<a class="headerlink" href="#the_three_signal_categories" title="Permanent link">&para;</a></h3>
<p>This guide covers three critical signal categories:</p>
<p><strong>User Intent Signals</strong> tell you what users are trying to accomplish</p>
<p><strong>User Action Signals</strong> reveal how users behave during and after search</p>
<p><strong>Response Quality Signals</strong> measure whether your search system delivers value</p>
<p>Together, these signals create a complete picture of search performance and user satisfaction.</p>
<h2 id="user_intent_signals">User Intent Signals<a class="headerlink" href="#user_intent_signals" title="Permanent link">&para;</a></h2>
<h3 id="understanding_user_intent">Understanding User Intent<a class="headerlink" href="#understanding_user_intent" title="Permanent link">&para;</a></h3>
<p>User intent represents the underlying goal or purpose behind a search query. Advanced search systems don't just match keywordsthey understand what users want to accomplish and surface results accordingly.</p>
<p>Understanding intent allows you to deliver results that match not just the keywords, but what users actually want to accomplish.</p>
<h3 id="why_intent_matters_for_search_engineering">Why Intent Matters for Search Engineering<a class="headerlink" href="#why_intent_matters_for_search_engineering" title="Permanent link">&para;</a></h3>
<p>Different intents require different optimization strategies:</p>
<ul>
<li><strong>Navigational searches</strong> need exact matches prioritized</li>
<li><strong>Informational searches</strong> benefit from semantic understanding and comprehensive content</li>
<li><strong>Transactional searches</strong> require conversion-optimized ranking</li>
</ul>
<p>Your BM25 scoring parameters, semantic search weights, and RAG prompt engineering should all adapt based on detected intent.</p>
<h3 id="the_three_primary_intent_types">The Three Primary Intent Types<a class="headerlink" href="#the_three_primary_intent_types" title="Permanent link">&para;</a></h3>
<h4 id="1_navigational_intent">1. Navigational Intent<a class="headerlink" href="#1_navigational_intent" title="Permanent link">&para;</a></h4>
<p><strong>User Goal:</strong> Find a specific page, post, or resource they know exists</p>
<p><strong>Characteristics:</strong></p>
<ul>
<li>Specific brand names, product names, or page titles</li>
<li>Often includes unique identifiers</li>
<li>Low tolerance for irrelevant results</li>
<li>Quick abandonment if not found immediately</li>
</ul>
<p><strong>Query Examples:</strong></p>
<ul>
<li>"contact us"</li>
<li>"pricing page"</li>
<li>"return policy"</li>
<li>"author bio john smith"</li>
<li>"woocommerce documentation"</li>
</ul>
<p><strong>Detection Signals:</strong></p>
<ul>
<li>Exact match queries</li>
<li>Queries containing site-specific terminology</li>
<li>Single-word navigation terms (about, contact, pricing, blog)</li>
<li>Queries with proper nouns or brand names</li>
<li>Short queries (1-2 words) with high specificity</li>
</ul>
<p><strong>Optimization Strategy:</strong></p>
<p>Prioritize exact matches and known page titles. Users with navigational intent need the quickest path to their destination.</p>
<p>For advanced search systems:</p>
<ul>
<li>Boost exact title matches in BM25 scoring</li>
<li>Increase weight on post_title and post_name fields</li>
<li>Reduce semantic search influence (embeddings less useful here)</li>
<li>Prioritize page post type over posts</li>
<li>Consider metadata matches (slug, custom fields)</li>
</ul>
<p><strong>Performance Tip:</strong> Pre-cache common navigational queries since they're highly predictable.</p>
<h4 id="2_informational_intent">2. Informational Intent<a class="headerlink" href="#2_informational_intent" title="Permanent link">&para;</a></h4>
<p><strong>User Goal:</strong> Seek knowledge, guidance, or content on a topic</p>
<p><strong>Characteristics:</strong></p>
<ul>
<li>Question-based queries</li>
<li>How-to phrases</li>
<li>General topic exploration</li>
<li>Willingness to browse multiple results</li>
<li>Interest in comprehensive content</li>
</ul>
<p><strong>Query Examples:</strong></p>
<ul>
<li>"how to install wordpress plugin"</li>
<li>"best practices for SEO"</li>
<li>"what is a custom post type"</li>
<li>"wordpress security tips"</li>
<li>"difference between BM25 and TF-IDF"</li>
</ul>
<p><strong>Detection Signals:</strong></p>
<ul>
<li>Question words (how, what, why, when, where, who)</li>
<li>Phrases like "best," "tips," "guide," "tutorial," "explain"</li>
<li>General topic keywords without specific product names</li>
<li>Comparative terms ("vs", "versus", "compared to", "difference between")</li>
<li>Longer queries (4+ words)</li>
</ul>
<p><strong>Optimization Strategy:</strong></p>
<p>Surface comprehensive content, guides, and blog posts. Group related content together and suggest follow-up topics.</p>
<p>For advanced search systems:
- Semantic search shines hereusers may use different terminology than your content
- Use embeddings to find conceptually similar content
- Boost comprehensive, long-form content in ranking
- Consider content freshness as a factor
- RAG is excellent for synthesizing answers from multiple sources
- Group related content together in results</p>
<p><strong>RAG Optimization:</strong> For informational queries, your RAG pipeline should pull from multiple relevant documents to provide comprehensive answers rather than relying on a single source.</p>
<h4 id="3_transactional_intent">3. Transactional Intent<a class="headerlink" href="#3_transactional_intent" title="Permanent link">&para;</a></h4>
<p><strong>User Goal:</strong> User is ready to take actionpurchase, download, signup, or convert</p>
<p><strong>Characteristics:</strong></p>
<ul>
<li>Action-oriented language</li>
<li>Product or service names</li>
<li>Urgency indicators</li>
<li>High commercial value</li>
</ul>
<p><strong>Query Examples:</strong></p>
<ul>
<li>"buy premium theme"</li>
<li>"download plugin"</li>
<li>"sign up for newsletter"</li>
<li>"book consultation"</li>
<li>"pricing for enterprise plan"</li>
<li>"purchase license"</li>
</ul>
<p><strong>Detection Signals:</strong></p>
<ul>
<li>Action verbs (buy, download, purchase, order, subscribe, book, get, install)</li>
<li>Commercial terms (price, cost, discount, deal, cheap, affordable, free)</li>
<li>Product/service names with action context</li>
<li>Urgency words ("now", "today", "quick", "instant")</li>
<li>Conversion-focused terms ("trial", "demo", "signup")</li>
</ul>
<p><strong>Optimization Strategy:</strong></p>
<p>Highlight products, services, and conversion pages. Include clear calls-to-action and pricing information in search results.</p>
<p>For advanced search systems:
- Prioritize product/service pages over blog posts
- Boost results with pricing information
- Consider conversion rate as a ranking signal
- Feature pages with clear calls-to-action
- WooCommerce products should rank highly
- Show availability and stock status if applicable</p>
<p><strong>BM25 Tuning:</strong> Increase field weights for product titles, SKUs, and category names.</p>
<h3 id="detecting_intent_in_practice">Detecting Intent in Practice<a class="headerlink" href="#detecting_intent_in_practice" title="Permanent link">&para;</a></h3>
<h4 id="multi-signal_intent_detection">Multi-Signal Intent Detection<a class="headerlink" href="#multi-signal_intent_detection" title="Permanent link">&para;</a></h4>
<p>Don't rely on a single indicator. Combine multiple signals:</p>
<p><strong>Query Analysis Approach:</strong></p>
<ol>
<li><strong>Keyword Matching:</strong> Maintain dictionaries of intent-indicating words</li>
<li><strong>Pattern Recognition:</strong> Identify common query structures</li>
<li><strong>Historical Data:</strong> Learn from past queries and their outcomes</li>
<li><strong>Context Clues:</strong> Consider user's previous searches in the session</li>
</ol>
<p><strong>Pattern Matching Example:</strong></p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>Query: &quot;how to configure full-text search mysql&quot;
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>- Contains &quot;how to&quot;  +60% informational
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>- Contains technical terms  +20% informational
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>- No action verbs  -10% transactional
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>- No brand names  -10% navigational
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>Result: 70% informational intent
</span></code></pre></div>
<p><strong>Historical Analysis:</strong></p>
<p>Track what users clicked after similar queries:
- If 80% of "wordpress themes" searches led to theme purchases  transactional
- If 80% led to blog posts about themes  informational</p>
<p><strong>Session Context:</strong></p>
<p>Previous queries in the session provide clues:
- "what is semantic search"  "implement semantic search wordpress" suggests increasing informational intent</p>
<h4 id="intent_confidence_scoring">Intent Confidence Scoring<a class="headerlink" href="#intent_confidence_scoring" title="Permanent link">&para;</a></h4>
<p>Not all queries clearly signal intent. Assign confidence scores:</p>
<p><strong>High Confidence (80-100%):</strong></p>
<ul>
<li>Clear intent indicators present</li>
<li>Historical data confirms intent</li>
<li>Single dominant intent type</li>
<li><strong>Action:</strong> Aggressively optimize for detected intent</li>
</ul>
<p><strong>Medium Confidence (50-79%):</strong></p>
<ul>
<li>Mixed signals present</li>
<li>Multiple plausible intents</li>
<li>Limited historical data</li>
<li><strong>Action:</strong> Serve diverse results covering multiple intent types</li>
</ul>
<p><strong>Low Confidence (0-49%):</strong></p>
<ul>
<li>Generic query with no clear intent</li>
<li>No clear indicators</li>
<li>Ambiguous context</li>
<li><strong>Action:</strong> Default to balanced results, use semantic search to find conceptually relevant content</li>
</ul>
<h4 id="handling_ambiguous_queries">Handling Ambiguous Queries<a class="headerlink" href="#handling_ambiguous_queries" title="Permanent link">&para;</a></h4>
<p>Some queries legitimately have mixed intent:</p>
<p><strong>Query: "wordpress search"</strong></p>
<ul>
<li>Could be navigational (looking for WordPress.org search page)</li>
<li>Could be informational (learning about WordPress search)</li>
<li>Could be transactional (buying a search plugin)</li>
</ul>
<p><strong>Strategy: Result Diversification</strong></p>
<ul>
<li>Position 1-2: Navigational results (official documentation)</li>
<li>Position 3-5: Informational content (tutorials, guides)</li>
<li>Position 6-8: Transactional options (plugins, services)</li>
</ul>
<p>Track which result types get engagement to learn the dominant intent over time.</p>
<hr />
<h2 id="user_action_signals">User Action Signals<a class="headerlink" href="#user_action_signals" title="Permanent link">&para;</a></h2>
<p>User actions reveal the truth about search quality. While intent tells you what users want, actions show you whether they got it. These behavioral signals are often more truthful than explicit feedback.</p>
<h3 id="click_patterns">Click Patterns<a class="headerlink" href="#click_patterns" title="Permanent link">&para;</a></h3>
<h4 id="click-through_rate_ctr">Click-Through Rate (CTR)<a class="headerlink" href="#click-through_rate_ctr" title="Permanent link">&para;</a></h4>
<p><strong>What it measures:</strong> Percentage of search sessions resulting in at least one click</p>
<p><strong>Calculation:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>CTR = (Searches with 1 click / Total searches)  100
</span></code></pre></div></p>
<p><strong>Benchmarks:</strong></p>
<ul>
<li><strong>Excellent:</strong> &gt;70% CTR</li>
<li><strong>Good:</strong> 50-70% CTR</li>
<li><strong>Needs Improvement:</strong> 30-50% CTR</li>
<li><strong>Critical:</strong> &lt;30% CTR</li>
</ul>
<p><strong>Significance:</strong></p>
<ul>
<li>Low CTR (&lt;30%): Results aren't relevant or compelling</li>
<li>Medium CTR (30-60%): Acceptable but room for improvement</li>
<li>High CTR (&gt;60%): Strong result relevance</li>
</ul>
<p><strong>What Low CTR Indicates:</strong></p>
<ul>
<li>Results don't match user intent</li>
<li>Poor result titles or snippets</li>
<li>Results are technically correct but not useful</li>
<li>Users finding answers in SERP snippets without clicking</li>
</ul>
<p><strong>Tracking:</strong></p>
<ul>
<li>Search query</li>
<li>Number of results displayed</li>
<li>Number of clicks</li>
<li>Which result positions get clicked</li>
</ul>
<p><strong>Red Flags:</strong></p>
<ul>
<li>Zero-click searches (user leaves without clicking)</li>
<li>Clicks only on first result (other results ignored)</li>
<li>Clicks on irrelevant results (indicates poor ranking)</li>
</ul>
<h4 id="click_position_analysis">Click Position Analysis<a class="headerlink" href="#click_position_analysis" title="Permanent link">&para;</a></h4>
<p><strong>What it measures:</strong> Which result positions receive the most engagement</p>
<p><strong>Key Insights:</strong></p>
<ul>
<li><strong>Position 1-3:</strong> Should capture 70-80% of clicks if results are relevant</li>
<li><strong>Position 4-7:</strong> Moderate engagement; users are willing to scroll</li>
<li><strong>Position 8+:</strong> Low engagement; likely not meeting user needs</li>
</ul>
<p><strong>Optimization Actions:</strong></p>
<ul>
<li>If position 5 gets more clicks than position 1: Your ranking algorithm needs adjustment</li>
<li>If all positions get equal clicks: Results may all be equally mediocre</li>
<li>If only position 1 gets clicks: Other results might be irrelevant</li>
</ul>
<p><strong>Position Bias Consideration:</strong></p>
<p>Users naturally click higher results more often, even if lower results are equally relevant. To detect true relevance vs. position bias:</p>
<ul>
<li>Track dwell time by position</li>
<li>Monitor return-to-search rate by position</li>
<li>Compare engagement across position for same content</li>
<li>Use A/B tests to randomize position</li>
</ul>
<p><strong>Advanced Analysis:</strong></p>
<p>Calculate expected CTR by position (based on historical averages), then compare actual CTR:
- Above expected: Result is performing well
- Below expected: Result may be irrelevant</p>
<h4 id="click_depth">Click Depth<a class="headerlink" href="#click_depth" title="Permanent link">&para;</a></h4>
<p><strong>What it measures:</strong> How many results a user clicks on before finding what they need</p>
<p><strong>Patterns:</strong></p>
<ul>
<li><strong>Single Click:</strong> Found what they needed immediately (ideal)</li>
<li><strong>2-3 Clicks:</strong> Exploring options or refining search mentally</li>
<li><strong>4+ Clicks:</strong> Struggling to find relevant content</li>
</ul>
<p><strong>Interpretation:</strong></p>
<p>High click depth indicates:</p>
<ul>
<li>Poor ranking (best results not at top)</li>
<li>Ambiguous query requiring exploration</li>
<li>Users comparing multiple options (normal for transactional intent)</li>
</ul>
<p><strong>Session-Based Tracking:</strong></p>
<p>Track the entire search journey, not just individual queries. Users might:
1. Search  Click  Return  Refine search  Click again
2. Search  Click multiple results  Compare  Choose one</p>
<h3 id="time-based_signals">Time-Based Signals<a class="headerlink" href="#time-based_signals" title="Permanent link">&para;</a></h3>
<h4 id="dwell_time">Dwell Time<a class="headerlink" href="#dwell_time" title="Permanent link">&para;</a></h4>
<p><strong>What it measures:</strong> How long users spend on a clicked result before returning to search</p>
<p><strong>Interpretation:</strong></p>
<ul>
<li><strong>&lt;10 seconds:</strong> Quick bounce, likely irrelevant (pogo-sticking)</li>
<li><strong>10-30 seconds:</strong> Skimmed content, partially relevant</li>
<li><strong>30-120 seconds:</strong> Engaged with content, likely relevant</li>
<li><strong>&gt;120 seconds:</strong> Deep engagement, high relevance</li>
</ul>
<p><strong>Important Note:</strong> Longer isn't always better. A user finding a quick answer to a simple question might have 15 seconds of dwell time but be completely satisfied.</p>
<p><strong>Context Matters:</strong></p>
<ul>
<li>Blog post: Expect 2-5 minutes for engaged reading</li>
<li>Product page: 30-90 seconds if interested</li>
<li>Contact page: 10-20 seconds to find information</li>
<li>Download page: 5-15 seconds to initiate download</li>
</ul>
<p><strong>Advanced Dwell Time Analysis:</strong></p>
<p>Calculate expected dwell time based on content type and length:
- Long-form article (2000+ words): 3-6 minutes expected
- Product page: 45-90 seconds expected
- Quick reference: 15-30 seconds expected</p>
<p>Compare actual vs. expected to gauge true engagement.</p>
<p><strong>Machine Learning Application:</strong></p>
<p>Use dwell time as a ranking signal:</p>
<ul>
<li>Train models on historical dwell time data</li>
<li>Predict expected dwell time for query-document pairs</li>
<li>Boost results with historically high dwell time for similar queries</li>
</ul>
<h4 id="return_to_search">Return to Search<a class="headerlink" href="#return_to_search" title="Permanent link">&para;</a></h4>
<p><strong>What it measures:</strong> Whether users return to search results after clicking</p>
<p><strong>Patterns:</strong></p>
<ul>
<li><strong>No Return:</strong> User found what they needed (success)</li>
<li><strong>Quick Return (&lt;10s):</strong> Result was irrelevant</li>
<li><strong>Delayed Return (&gt;30s):</strong> User read but didn't find complete answer</li>
<li><strong>Return + Refine:</strong> User learned something and adjusted their search</li>
</ul>
<p><strong>Combined with Dwell Time:</strong></p>
<table>
<thead>
<tr>
<th>Dwell Time</th>
<th>Return to Search</th>
<th>Interpretation</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;10s</td>
<td>Yes</td>
<td>Poor result, immediate bounce</td>
</tr>
<tr>
<td>10-30s</td>
<td>Yes</td>
<td>Partially relevant, incomplete</td>
</tr>
<tr>
<td>30-120s</td>
<td>Yes</td>
<td>Good but not perfect</td>
</tr>
<tr>
<td>30-120s</td>
<td>No</td>
<td>Success, found answer</td>
</tr>
<tr>
<td>&gt;120s</td>
<td>Yes</td>
<td>Deep read, seeking more info</td>
</tr>
<tr>
<td>&gt;120s</td>
<td>No</td>
<td>Highly satisfied</td>
</tr>
</tbody>
</table>
<h4 id="session_duration">Session Duration<a class="headerlink" href="#session_duration" title="Permanent link">&para;</a></h4>
<p><strong>What it measures:</strong> Total time from initial search to session end</p>
<p><strong>Analysis:</strong></p>
<ul>
<li><strong>Short Sessions (&lt;1 min):</strong> Either very successful or very frustrated</li>
<li><strong>Medium Sessions (1-5 min):</strong> Normal exploration and refinement</li>
<li><strong>Long Sessions (&gt;5 min):</strong> Either deep research or struggling to find answers</li>
</ul>
<p><strong>Session Success Indicators:</strong></p>
<p>Successful sessions typically show:</p>
<ul>
<li>1-2 searches</li>
<li>1-3 clicks total</li>
<li>Moderate dwell time (30s-2min)</li>
<li>Ends with conversion or extended engagement</li>
</ul>
<p>Unsuccessful sessions typically show:</p>
<ul>
<li>3+ searches with refinements</li>
<li>Many quick clicks (&lt;10s dwell)</li>
<li>Abandonment without conversion</li>
</ul>
<h3 id="refinement_behavior">Refinement Behavior<a class="headerlink" href="#refinement_behavior" title="Permanent link">&para;</a></h3>
<h4 id="query_reformulation">Query Reformulation<a class="headerlink" href="#query_reformulation" title="Permanent link">&para;</a></h4>
<p><strong>What it measures:</strong> How users modify their searches</p>
<p><strong>Refinement Types:</strong></p>
<p><strong>1. Specification:</strong> Adding more keywords to narrow results</p>
<ul>
<li>"wordpress"  "wordpress custom post types"</li>
<li><strong>Action:</strong> Previous results too broad</li>
</ul>
<p><strong>2. Generalization:</strong> Removing keywords to broaden results</p>
<ul>
<li>"wordpress woocommerce abandoned cart recovery"  "woocommerce abandoned cart"</li>
<li><strong>Action:</strong> Previous search too specific, no results found</li>
</ul>
<p><strong>3. Synonym Substitution:</strong> Trying different words for same concept</p>
<ul>
<li>"tutorial"  "guide"  "how to"</li>
<li><strong>Action:</strong> Vocabulary mismatch between user and content</li>
</ul>
<p><strong>4. Intent Shift:</strong> Changing search approach entirely</p>
<ul>
<li>"wordpress themes"  "how to customize wordpress theme"</li>
<li><strong>Action:</strong> User realized they need different information</li>
</ul>
<p><strong>5. Spelling Correction:</strong> Fixing typos or trying alternative spellings</p>
<ul>
<li>"wordpres"  "wordpress"</li>
<li><strong>Action:</strong> Initial query had errors</li>
</ul>
<p><strong>Tracking Strategy:</strong></p>
<p>Maintain search session history to identify refinement patterns. Store:</p>
<ul>
<li>Previous queries in session</li>
<li>Time between queries</li>
<li>Results clicked in each query</li>
<li>Final successful query (if any)</li>
</ul>
<p><strong>Optimization Opportunities:</strong></p>
<ul>
<li><strong>High specification rate:</strong> Results too broad; improve ranking to surface specific content</li>
<li><strong>High generalization rate:</strong> Content gaps; users can't find specific information</li>
<li><strong>High synonym substitution:</strong> Vocabulary mismatch; improve synonym handling</li>
<li><strong>High intent shift:</strong> Poor initial results; improve intent detection</li>
</ul>
<h4 id="abandonment_signals">Abandonment Signals<a class="headerlink" href="#abandonment_signals" title="Permanent link">&para;</a></h4>
<p><strong>Zero-Result Refinement:</strong></p>
<p>User searches, gets no results, tries again. This is critical data:</p>
<ul>
<li>Track which queries return zero results</li>
<li>Monitor how users reformulate after zero results</li>
<li>Identify vocabulary gaps (users' terms vs. your content's terms)</li>
</ul>
<p><strong>Multi-Query Abandonment:</strong></p>
<p>User tries multiple searches then leaves without clicking. Indicates:</p>
<ul>
<li>Search functionality isn't working</li>
<li>Content doesn't match user needs</li>
<li>Poor ranking obscures relevant results</li>
<li>Frustration with search experience</li>
</ul>
<p><strong>Partial Success Pattern:</strong></p>
<p>User finds something but continues searching:</p>
<ul>
<li>Click  Quick dwell  Refine search  Click again</li>
<li>Indicates: Initial result was partially helpful but incomplete</li>
</ul>
<p><strong>Track abandonment by:</strong></p>
<ul>
<li>Intent type (navigational queries abandoned faster)</li>
<li>Query complexity (longer queries more likely to be abandoned)</li>
<li>Time of day (rushed users abandon faster)</li>
<li>Device type (mobile users abandon faster)</li>
</ul>
<h3 id="conversion_signals">Conversion Signals<a class="headerlink" href="#conversion_signals" title="Permanent link">&para;</a></h3>
<h4 id="search-to-conversion_tracking">Search-to-Conversion Tracking<a class="headerlink" href="#search-to-conversion_tracking" title="Permanent link">&para;</a></h4>
<p><strong>What it measures:</strong> How often search sessions lead to desired actions</p>
<p><strong>Key Conversions to Track:</strong></p>
<ul>
<li>Purchase/checkout</li>
<li>Form submission</li>
<li>Download</li>
<li>Account creation</li>
<li>Newsletter signup</li>
<li>Contact request</li>
</ul>
<p><strong>Calculation:</strong></p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>Conversion Rate = (Searches leading to conversion / Total searches)  100
</span></code></pre></div>
<p><strong>Analysis by Intent:</strong></p>
<ul>
<li>Navigational: High conversion expected (user knows what they want)</li>
<li>Informational: Low immediate conversion (education phase)</li>
<li>Transactional: Moderate-high conversion expected</li>
</ul>
<p><strong>Query-Level Conversion Tracking:</strong></p>
<p>Identify high-converting queries:</p>
<ul>
<li>"buy premium plugin"  45% conversion rate</li>
<li>"wordpress themes"  12% conversion rate</li>
<li>"what is wordpress"  2% conversion rate</li>
</ul>
<p><strong>Optimization:</strong></p>
<ul>
<li>Prioritize high-converting queries in UX</li>
<li>Create dedicated landing pages for top converters</li>
<li>Improve ranking for conversion-driving results</li>
</ul>
<h4 id="attribution_windows">Attribution Windows<a class="headerlink" href="#attribution_windows" title="Permanent link">&para;</a></h4>
<p>Track conversions across different timeframes:</p>
<ul>
<li><strong>Immediate (same session):</strong> Direct conversion from search</li>
<li><strong>Short-term (24 hours):</strong> User researched, then returned</li>
<li><strong>Medium-term (7 days):</strong> Longer consideration period</li>
<li><strong>Long-term (30 days):</strong> Extended decision-making</li>
</ul>
<p>Different queries have different attribution windows:</p>
<ul>
<li>"buy now"  expect immediate conversion</li>
<li>"wordpress review"  expect 7-30 day window</li>
</ul>
<h2 id="response_quality_signals">Response Quality Signals<a class="headerlink" href="#response_quality_signals" title="Permanent link">&para;</a></h2>
<p>Quality signals combine user actions into composite scores that indicate overall search performance.</p>
<h3 id="satisfaction_score">Satisfaction Score<a class="headerlink" href="#satisfaction_score" title="Permanent link">&para;</a></h3>
<p><strong>What it measures:</strong> Aggregate measure of user satisfaction with search results</p>
<p><strong>Calculation Formula:</strong></p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>Satisfaction Score = (
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>  (CTR  20) +
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>  (Avg Dwell Time / 120  30) +
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>  (1 - Return Rate)  25 +
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>  (Conversion Rate  25)
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>)
</span></code></pre></div>
<p>Where:</p>
<ul>
<li>CTR is click-through rate (0-1)</li>
<li>Avg Dwell Time in seconds (capped at 120s)</li>
<li>Return Rate is percentage who return to search (0-1)</li>
<li>Conversion Rate is percentage who convert (0-1)</li>
</ul>
<p><strong>Interpretation:</strong></p>
<ul>
<li><strong>Excellent:</strong> &gt;70/100</li>
<li><strong>Good:</strong> 55-70/100</li>
<li><strong>Needs Improvement:</strong> 40-55/100</li>
<li><strong>Poor:</strong> &lt;40/100</li>
</ul>
<p><strong>Query-Level Satisfaction:</strong></p>
<p>Track satisfaction for individual queries over time:</p>
<ul>
<li>Identify consistently low-satisfaction queries</li>
<li>Monitor improvement after optimization</li>
<li>Detect degradation when content changes</li>
</ul>
<p><strong>Alternative Satisfaction Metrics:</strong></p>
<p><strong>Binary Success:</strong></p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>Success = (Dwell Time &gt; 30s AND No Immediate Return) OR Conversion
</span></code></pre></div>
<p><strong>Weighted Engagement:</strong></p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>Engagement = (Clicks  1) + (Dwell Minutes  2) + (Conversions  10)
</span></code></pre></div>
<h3 id="relevance_score">Relevance Score<a class="headerlink" href="#relevance_score" title="Permanent link">&para;</a></h3>
<p><strong>What it measures:</strong> How well results match query intent</p>
<p><strong>Calculation Based on Click Position:</strong></p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>Relevance = 1 / (Position of First Click)
</span></code></pre></div>
<p>Better measure using multiple signals:
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>Relevance = (
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>  (Position Score  30) +
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>  (Dwell Time Score  30) +
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>  (Click-through  20) +
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>  (No Refinement  20)
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>)
</span></code></pre></div></p>
<p><strong>Learning from Historical Data:</strong></p>
<p>Build a relevance model:</p>
<ol>
<li>Collect query-result pairs with outcome data</li>
<li>Label successful vs. unsuccessful results</li>
<li>Train model to predict relevance</li>
<li>Use predictions to improve ranking</li>
</ol>
<p><strong>Features for Relevance Model:</strong></p>
<ul>
<li>Query-document term overlap</li>
<li>BM25 score</li>
<li>Historical CTR for this query-doc pair</li>
<li>Average dwell time for this query-doc pair</li>
<li>Document authority/quality metrics</li>
<li>Freshness</li>
<li>Intent match</li>
</ul>
<h3 id="zero-result_rate">Zero-Result Rate<a class="headerlink" href="#zero-result_rate" title="Permanent link">&para;</a></h3>
<p><strong>What it measures:</strong> Percentage of queries returning no results</p>
<p><strong>Calculation:</strong></p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>Zero-Result Rate = (Queries with 0 results / Total queries)  100
</span></code></pre></div>
<p><strong>Target:</strong> &lt;5%</p>
<p><strong>Common Causes:</strong></p>
<ul>
<li>Typos and misspellings</li>
<li>Vocabulary mismatch (user terms vs. content terms)</li>
<li>Missing content in that topic area</li>
<li>Overly strict matching (e.g., requiring all terms)</li>
<li>Insufficient synonym handling</li>
</ul>
<p><strong>Optimization Actions:</strong></p>
<p>For high zero-result rate:</p>
<ol>
<li>Implement fuzzy matching for typos</li>
<li>Add synonym expansion</li>
<li>Fall back to partial matching</li>
<li>Suggest alternative queries</li>
<li>Create content for common zero-result queries</li>
</ol>
<p><strong>Opportunity Analysis:</strong></p>
<p>Zero-result queries reveal content gaps:</p>
<ul>
<li>Group by topic/theme</li>
<li>Identify high-volume zero-result queries</li>
<li>Prioritize content creation</li>
<li>Track zero-result rate over time</li>
</ul>
<h3 id="time_to_success">Time to Success<a class="headerlink" href="#time_to_success" title="Permanent link">&para;</a></h3>
<p><strong>What it measures:</strong> How long it takes users to find what they need</p>
<p><strong>Calculation:</strong></p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>Time to Success = Time from first search to final successful interaction
</span></code></pre></div>
<p><strong>Successful interaction indicators:</strong></p>
<ul>
<li>Long dwell time (&gt;30s) without return</li>
<li>Conversion</li>
<li>No further search activity</li>
</ul>
<p><strong>Benchmarks:</strong></p>
<ul>
<li><strong>Excellent:</strong> &lt;30 seconds</li>
<li><strong>Good:</strong> 30-90 seconds</li>
<li><strong>Needs Improvement:</strong> 90-180 seconds</li>
<li><strong>Poor:</strong> &gt;180 seconds</li>
</ul>
<p><strong>Factors Affecting Time to Success:</strong></p>
<ul>
<li>Result ranking quality</li>
<li>Result presentation (snippets, titles)</li>
<li>Number of results shown</li>
<li>Page load speed</li>
<li>UI/UX of search interface</li>
</ul>
<p><strong>Optimization:</strong></p>
<ul>
<li>Reduce by improving ranking (relevant results at top)</li>
<li>Better result snippets (users can evaluate faster)</li>
<li>Instant search/autocomplete</li>
<li>Persistent search results during browsing</li>
</ul>
<h2 id="implementation_and_tracking">Implementation and Tracking<a class="headerlink" href="#implementation_and_tracking" title="Permanent link">&para;</a></h2>
<h3 id="technical_implementation">Technical Implementation<a class="headerlink" href="#technical_implementation" title="Permanent link">&para;</a></h3>
<h4 id="frontend_tracking">Frontend Tracking<a class="headerlink" href="#frontend_tracking" title="Permanent link">&para;</a></h4>
<p><strong>JavaScript Event Tracking:</strong></p>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="c1">// Track search initiation</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="kd">function</span><span class="w"> </span><span class="nx">trackSearch</span><span class="p">(</span><span class="nx">query</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">sessionId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getOrCreateSessionId</span><span class="p">();</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">searchId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">generateSearchId</span><span class="p">();</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="w">  </span><span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;/api/search/log&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="w">    </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;POST&#39;</span><span class="p">,</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="w">    </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;application/json&#39;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="w">    </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="w">      </span><span class="nx">session_id</span><span class="o">:</span><span class="w"> </span><span class="nx">sessionId</span><span class="p">,</span>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="w">      </span><span class="nx">search_id</span><span class="o">:</span><span class="w"> </span><span class="nx">searchId</span><span class="p">,</span>
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="w">      </span><span class="nx">query</span><span class="o">:</span><span class="w"> </span><span class="nx">query</span><span class="p">,</span>
</span><span id="__span-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="w">      </span><span class="nx">timestamp</span><span class="o">:</span><span class="w"> </span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">(),</span>
</span><span id="__span-10-14"><a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a><span class="w">      </span><span class="nx">intent_hints</span><span class="o">:</span><span class="w"> </span><span class="nx">detectClientSideIntent</span><span class="p">(</span><span class="nx">query</span><span class="p">)</span>
</span><span id="__span-10-15"><a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a><span class="w">    </span><span class="p">})</span>
</span><span id="__span-10-16"><a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a><span class="w">  </span><span class="p">});</span>
</span><span id="__span-10-17"><a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a>
</span><span id="__span-10-18"><a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">searchId</span><span class="p">;</span>
</span><span id="__span-10-19"><a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a><span class="p">}</span>
</span><span id="__span-10-20"><a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a>
</span><span id="__span-10-21"><a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a><span class="c1">// Track result clicks</span>
</span><span id="__span-10-22"><a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a><span class="kd">function</span><span class="w"> </span><span class="nx">trackClick</span><span class="p">(</span><span class="nx">searchId</span><span class="p">,</span><span class="w"> </span><span class="nx">resultId</span><span class="p">,</span><span class="w"> </span><span class="nx">position</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-23"><a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">clickTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>
</span><span id="__span-10-24"><a id="__codelineno-10-24" name="__codelineno-10-24" href="#__codelineno-10-24"></a>
</span><span id="__span-10-25"><a id="__codelineno-10-25" name="__codelineno-10-25" href="#__codelineno-10-25"></a><span class="w">  </span><span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;/api/search/click&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-26"><a id="__codelineno-10-26" name="__codelineno-10-26" href="#__codelineno-10-26"></a><span class="w">    </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;POST&#39;</span><span class="p">,</span>
</span><span id="__span-10-27"><a id="__codelineno-10-27" name="__codelineno-10-27" href="#__codelineno-10-27"></a><span class="w">    </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;application/json&#39;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-10-28"><a id="__codelineno-10-28" name="__codelineno-10-28" href="#__codelineno-10-28"></a><span class="w">    </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
</span><span id="__span-10-29"><a id="__codelineno-10-29" name="__codelineno-10-29" href="#__codelineno-10-29"></a><span class="w">      </span><span class="nx">search_id</span><span class="o">:</span><span class="w"> </span><span class="nx">searchId</span><span class="p">,</span>
</span><span id="__span-10-30"><a id="__codelineno-10-30" name="__codelineno-10-30" href="#__codelineno-10-30"></a><span class="w">      </span><span class="nx">result_id</span><span class="o">:</span><span class="w"> </span><span class="nx">resultId</span><span class="p">,</span>
</span><span id="__span-10-31"><a id="__codelineno-10-31" name="__codelineno-10-31" href="#__codelineno-10-31"></a><span class="w">      </span><span class="nx">position</span><span class="o">:</span><span class="w"> </span><span class="nx">position</span><span class="p">,</span>
</span><span id="__span-10-32"><a id="__codelineno-10-32" name="__codelineno-10-32" href="#__codelineno-10-32"></a><span class="w">      </span><span class="nx">click_time</span><span class="o">:</span><span class="w"> </span><span class="nx">clickTime</span>
</span><span id="__span-10-33"><a id="__codelineno-10-33" name="__codelineno-10-33" href="#__codelineno-10-33"></a><span class="w">    </span><span class="p">})</span>
</span><span id="__span-10-34"><a id="__codelineno-10-34" name="__codelineno-10-34" href="#__codelineno-10-34"></a><span class="w">  </span><span class="p">});</span>
</span><span id="__span-10-35"><a id="__codelineno-10-35" name="__codelineno-10-35" href="#__codelineno-10-35"></a>
</span><span id="__span-10-36"><a id="__codelineno-10-36" name="__codelineno-10-36" href="#__codelineno-10-36"></a><span class="w">  </span><span class="c1">// Track when user returns</span>
</span><span id="__span-10-37"><a id="__codelineno-10-37" name="__codelineno-10-37" href="#__codelineno-10-37"></a><span class="w">  </span><span class="nx">trackDwellTime</span><span class="p">(</span><span class="nx">searchId</span><span class="p">,</span><span class="w"> </span><span class="nx">resultId</span><span class="p">,</span><span class="w"> </span><span class="nx">clickTime</span><span class="p">);</span>
</span><span id="__span-10-38"><a id="__codelineno-10-38" name="__codelineno-10-38" href="#__codelineno-10-38"></a><span class="p">}</span>
</span><span id="__span-10-39"><a id="__codelineno-10-39" name="__codelineno-10-39" href="#__codelineno-10-39"></a>
</span><span id="__span-10-40"><a id="__codelineno-10-40" name="__codelineno-10-40" href="#__codelineno-10-40"></a><span class="c1">// Track dwell time</span>
</span><span id="__span-10-41"><a id="__codelineno-10-41" name="__codelineno-10-41" href="#__codelineno-10-41"></a><span class="kd">function</span><span class="w"> </span><span class="nx">trackDwellTime</span><span class="p">(</span><span class="nx">searchId</span><span class="p">,</span><span class="w"> </span><span class="nx">resultId</span><span class="p">,</span><span class="w"> </span><span class="nx">clickTime</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-42"><a id="__codelineno-10-42" name="__codelineno-10-42" href="#__codelineno-10-42"></a><span class="w">  </span><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;pageshow&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-43"><a id="__codelineno-10-43" name="__codelineno-10-43" href="#__codelineno-10-43"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">returnTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>
</span><span id="__span-10-44"><a id="__codelineno-10-44" name="__codelineno-10-44" href="#__codelineno-10-44"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">dwellTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">returnTime</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">clickTime</span><span class="p">;</span>
</span><span id="__span-10-45"><a id="__codelineno-10-45" name="__codelineno-10-45" href="#__codelineno-10-45"></a>
</span><span id="__span-10-46"><a id="__codelineno-10-46" name="__codelineno-10-46" href="#__codelineno-10-46"></a><span class="w">    </span><span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;/api/search/dwell&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-47"><a id="__codelineno-10-47" name="__codelineno-10-47" href="#__codelineno-10-47"></a><span class="w">      </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;POST&#39;</span><span class="p">,</span>
</span><span id="__span-10-48"><a id="__codelineno-10-48" name="__codelineno-10-48" href="#__codelineno-10-48"></a><span class="w">      </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;application/json&#39;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-10-49"><a id="__codelineno-10-49" name="__codelineno-10-49" href="#__codelineno-10-49"></a><span class="w">      </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
</span><span id="__span-10-50"><a id="__codelineno-10-50" name="__codelineno-10-50" href="#__codelineno-10-50"></a><span class="w">        </span><span class="nx">search_id</span><span class="o">:</span><span class="w"> </span><span class="nx">searchId</span><span class="p">,</span>
</span><span id="__span-10-51"><a id="__codelineno-10-51" name="__codelineno-10-51" href="#__codelineno-10-51"></a><span class="w">        </span><span class="nx">result_id</span><span class="o">:</span><span class="w"> </span><span class="nx">resultId</span><span class="p">,</span>
</span><span id="__span-10-52"><a id="__codelineno-10-52" name="__codelineno-10-52" href="#__codelineno-10-52"></a><span class="w">        </span><span class="nx">dwell_time</span><span class="o">:</span><span class="w"> </span><span class="nx">dwellTime</span>
</span><span id="__span-10-53"><a id="__codelineno-10-53" name="__codelineno-10-53" href="#__codelineno-10-53"></a><span class="w">      </span><span class="p">})</span>
</span><span id="__span-10-54"><a id="__codelineno-10-54" name="__codelineno-10-54" href="#__codelineno-10-54"></a><span class="w">    </span><span class="p">});</span>
</span><span id="__span-10-55"><a id="__codelineno-10-55" name="__codelineno-10-55" href="#__codelineno-10-55"></a><span class="w">  </span><span class="p">});</span>
</span><span id="__span-10-56"><a id="__codelineno-10-56" name="__codelineno-10-56" href="#__codelineno-10-56"></a><span class="p">}</span>
</span></code></pre></div>
<p><strong>Session Management:</strong></p>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="kd">function</span><span class="w"> </span><span class="nx">getOrCreateSessionId</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">sessionId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">sessionStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="s1">&#39;search_session_id&#39;</span><span class="p">);</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">sessionId</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="w">    </span><span class="nx">sessionId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;sess_&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;_&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">().</span><span class="nx">toString</span><span class="p">(</span><span class="mf">36</span><span class="p">).</span><span class="nx">substr</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="mf">9</span><span class="p">);</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="w">    </span><span class="nx">sessionStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s1">&#39;search_session_id&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">sessionId</span><span class="p">);</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">sessionId</span><span class="p">;</span>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="p">}</span>
</span></code></pre></div>
<h4 id="backend_logging">Backend Logging<a class="headerlink" href="#backend_logging" title="Permanent link">&para;</a></h4>
<p><strong>WordPress Implementation:</strong></p>
<div class="language-php highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="x">// Log search query</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="x">function log_search_query($query, $session_id, $num_results) {</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="x">    global $wpdb;</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="x">    $intent = detect_query_intent($query);</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="x">    $wpdb-&gt;insert(</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="x">        $wpdb-&gt;prefix . &#39;search_logs&#39;,</span>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="x">        array(</span>
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="x">            &#39;session_id&#39; =&gt; $session_id,</span>
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="x">            &#39;user_id&#39; =&gt; get_current_user_id(),</span>
</span><span id="__span-12-12"><a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="x">            &#39;query&#39; =&gt; sanitize_text_field($query),</span>
</span><span id="__span-12-13"><a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="x">            &#39;num_results&#39; =&gt; $num_results,</span>
</span><span id="__span-12-14"><a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="x">            &#39;intent_type&#39; =&gt; $intent[&#39;type&#39;],</span>
</span><span id="__span-12-15"><a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a><span class="x">            &#39;intent_confidence&#39; =&gt; $intent[&#39;confidence&#39;],</span>
</span><span id="__span-12-16"><a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="x">            &#39;timestamp&#39; =&gt; current_time(&#39;mysql&#39;)</span>
</span><span id="__span-12-17"><a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a><span class="x">        ),</span>
</span><span id="__span-12-18"><a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a><span class="x">        array(&#39;%s&#39;, &#39;%d&#39;, &#39;%s&#39;, &#39;%d&#39;, &#39;%s&#39;, &#39;%f&#39;, &#39;%s&#39;)</span>
</span><span id="__span-12-19"><a id="__codelineno-12-19" name="__codelineno-12-19" href="#__codelineno-12-19"></a><span class="x">    );</span>
</span><span id="__span-12-20"><a id="__codelineno-12-20" name="__codelineno-12-20" href="#__codelineno-12-20"></a>
</span><span id="__span-12-21"><a id="__codelineno-12-21" name="__codelineno-12-21" href="#__codelineno-12-21"></a><span class="x">    return $wpdb-&gt;insert_id;</span>
</span><span id="__span-12-22"><a id="__codelineno-12-22" name="__codelineno-12-22" href="#__codelineno-12-22"></a><span class="x">}</span>
</span><span id="__span-12-23"><a id="__codelineno-12-23" name="__codelineno-12-23" href="#__codelineno-12-23"></a>
</span><span id="__span-12-24"><a id="__codelineno-12-24" name="__codelineno-12-24" href="#__codelineno-12-24"></a><span class="x">// Log click event</span>
</span><span id="__span-12-25"><a id="__codelineno-12-25" name="__codelineno-12-25" href="#__codelineno-12-25"></a><span class="x">function log_search_click($search_log_id, $result_id, $position) {</span>
</span><span id="__span-12-26"><a id="__codelineno-12-26" name="__codelineno-12-26" href="#__codelineno-12-26"></a><span class="x">    global $wpdb;</span>
</span><span id="__span-12-27"><a id="__codelineno-12-27" name="__codelineno-12-27" href="#__codelineno-12-27"></a>
</span><span id="__span-12-28"><a id="__codelineno-12-28" name="__codelineno-12-28" href="#__codelineno-12-28"></a><span class="x">    $wpdb-&gt;insert(</span>
</span><span id="__span-12-29"><a id="__codelineno-12-29" name="__codelineno-12-29" href="#__codelineno-12-29"></a><span class="x">        $wpdb-&gt;prefix . &#39;search_clicks&#39;,</span>
</span><span id="__span-12-30"><a id="__codelineno-12-30" name="__codelineno-12-30" href="#__codelineno-12-30"></a><span class="x">        array(</span>
</span><span id="__span-12-31"><a id="__codelineno-12-31" name="__codelineno-12-31" href="#__codelineno-12-31"></a><span class="x">            &#39;search_log_id&#39; =&gt; $search_log_id,</span>
</span><span id="__span-12-32"><a id="__codelineno-12-32" name="__codelineno-12-32" href="#__codelineno-12-32"></a><span class="x">            &#39;result_id&#39; =&gt; $result_id,</span>
</span><span id="__span-12-33"><a id="__codelineno-12-33" name="__codelineno-12-33" href="#__codelineno-12-33"></a><span class="x">            &#39;result_position&#39; =&gt; $position,</span>
</span><span id="__span-12-34"><a id="__codelineno-12-34" name="__codelineno-12-34" href="#__codelineno-12-34"></a><span class="x">            &#39;timestamp&#39; =&gt; current_time(&#39;mysql&#39;)</span>
</span><span id="__span-12-35"><a id="__codelineno-12-35" name="__codelineno-12-35" href="#__codelineno-12-35"></a><span class="x">        ),</span>
</span><span id="__span-12-36"><a id="__codelineno-12-36" name="__codelineno-12-36" href="#__codelineno-12-36"></a><span class="x">        array(&#39;%d&#39;, &#39;%d&#39;, &#39;%d&#39;, &#39;%s&#39;)</span>
</span><span id="__span-12-37"><a id="__codelineno-12-37" name="__codelineno-12-37" href="#__codelineno-12-37"></a><span class="x">    );</span>
</span><span id="__span-12-38"><a id="__codelineno-12-38" name="__codelineno-12-38" href="#__codelineno-12-38"></a>
</span><span id="__span-12-39"><a id="__codelineno-12-39" name="__codelineno-12-39" href="#__codelineno-12-39"></a><span class="x">    return $wpdb-&gt;insert_id;</span>
</span><span id="__span-12-40"><a id="__codelineno-12-40" name="__codelineno-12-40" href="#__codelineno-12-40"></a><span class="x">}</span>
</span><span id="__span-12-41"><a id="__codelineno-12-41" name="__codelineno-12-41" href="#__codelineno-12-41"></a>
</span><span id="__span-12-42"><a id="__codelineno-12-42" name="__codelineno-12-42" href="#__codelineno-12-42"></a><span class="x">// Update dwell time</span>
</span><span id="__span-12-43"><a id="__codelineno-12-43" name="__codelineno-12-43" href="#__codelineno-12-43"></a><span class="x">function update_dwell_time($click_id, $dwell_time) {</span>
</span><span id="__span-12-44"><a id="__codelineno-12-44" name="__codelineno-12-44" href="#__codelineno-12-44"></a><span class="x">    global $wpdb;</span>
</span><span id="__span-12-45"><a id="__codelineno-12-45" name="__codelineno-12-45" href="#__codelineno-12-45"></a>
</span><span id="__span-12-46"><a id="__codelineno-12-46" name="__codelineno-12-46" href="#__codelineno-12-46"></a><span class="x">    $wpdb-&gt;update(</span>
</span><span id="__span-12-47"><a id="__codelineno-12-47" name="__codelineno-12-47" href="#__codelineno-12-47"></a><span class="x">        $wpdb-&gt;prefix . &#39;search_clicks&#39;,</span>
</span><span id="__span-12-48"><a id="__codelineno-12-48" name="__codelineno-12-48" href="#__codelineno-12-48"></a><span class="x">        array(&#39;dwell_time&#39; =&gt; $dwell_time),</span>
</span><span id="__span-12-49"><a id="__codelineno-12-49" name="__codelineno-12-49" href="#__codelineno-12-49"></a><span class="x">        array(&#39;id&#39; =&gt; $click_id),</span>
</span><span id="__span-12-50"><a id="__codelineno-12-50" name="__codelineno-12-50" href="#__codelineno-12-50"></a><span class="x">        array(&#39;%d&#39;),</span>
</span><span id="__span-12-51"><a id="__codelineno-12-51" name="__codelineno-12-51" href="#__codelineno-12-51"></a><span class="x">        array(&#39;%d&#39;)</span>
</span><span id="__span-12-52"><a id="__codelineno-12-52" name="__codelineno-12-52" href="#__codelineno-12-52"></a><span class="x">    );</span>
</span><span id="__span-12-53"><a id="__codelineno-12-53" name="__codelineno-12-53" href="#__codelineno-12-53"></a><span class="x">}</span>
</span></code></pre></div>
<p><strong>Intent Detection Function:</strong></p>
<div class="language-php highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="x">function detect_query_intent($query) {</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="x">    $query_lower = strtolower($query);</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="x">    $words = explode(&#39; &#39;, $query_lower);</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="x">    $navigational_score = 0;</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="x">    $informational_score = 0;</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="x">    $transactional_score = 0;</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="x">    // Navigational keywords</span>
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="x">    $nav_keywords = [&#39;contact&#39;, &#39;about&#39;, &#39;pricing&#39;, &#39;login&#39;, &#39;account&#39;];</span>
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="x">    foreach ($nav_keywords as $keyword) {</span>
</span><span id="__span-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a><span class="x">        if (in_array($keyword, $words)) {</span>
</span><span id="__span-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a><span class="x">            $navigational_score += 30;</span>
</span><span id="__span-13-14"><a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a><span class="x">        }</span>
</span><span id="__span-13-15"><a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a><span class="x">    }</span>
</span><span id="__span-13-16"><a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a>
</span><span id="__span-13-17"><a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a><span class="x">    // Informational keywords</span>
</span><span id="__span-13-18"><a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a><span class="x">    $info_keywords = [&#39;how&#39;, &#39;what&#39;, &#39;why&#39;, &#39;guide&#39;, &#39;tutorial&#39;, &#39;tips&#39;];</span>
</span><span id="__span-13-19"><a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a><span class="x">    foreach ($info_keywords as $keyword) {</span>
</span><span id="__span-13-20"><a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a><span class="x">        if (in_array($keyword, $words)) {</span>
</span><span id="__span-13-21"><a id="__codelineno-13-21" name="__codelineno-13-21" href="#__codelineno-13-21"></a><span class="x">            $informational_score += 25;</span>
</span><span id="__span-13-22"><a id="__codelineno-13-22" name="__codelineno-13-22" href="#__codelineno-13-22"></a><span class="x">        }</span>
</span><span id="__span-13-23"><a id="__codelineno-13-23" name="__codelineno-13-23" href="#__codelineno-13-23"></a><span class="x">    }</span>
</span><span id="__span-13-24"><a id="__codelineno-13-24" name="__codelineno-13-24" href="#__codelineno-13-24"></a>
</span><span id="__span-13-25"><a id="__codelineno-13-25" name="__codelineno-13-25" href="#__codelineno-13-25"></a><span class="x">    // Transactional keywords</span>
</span><span id="__span-13-26"><a id="__codelineno-13-26" name="__codelineno-13-26" href="#__codelineno-13-26"></a><span class="x">    $trans_keywords = [&#39;buy&#39;, &#39;purchase&#39;, &#39;download&#39;, &#39;price&#39;, &#39;order&#39;];</span>
</span><span id="__span-13-27"><a id="__codelineno-13-27" name="__codelineno-13-27" href="#__codelineno-13-27"></a><span class="x">    foreach ($trans_keywords as $keyword) {</span>
</span><span id="__span-13-28"><a id="__codelineno-13-28" name="__codelineno-13-28" href="#__codelineno-13-28"></a><span class="x">        if (in_array($keyword, $words)) {</span>
</span><span id="__span-13-29"><a id="__codelineno-13-29" name="__codelineno-13-29" href="#__codelineno-13-29"></a><span class="x">            $transactional_score += 30;</span>
</span><span id="__span-13-30"><a id="__codelineno-13-30" name="__codelineno-13-30" href="#__codelineno-13-30"></a><span class="x">        }</span>
</span><span id="__span-13-31"><a id="__codelineno-13-31" name="__codelineno-13-31" href="#__codelineno-13-31"></a><span class="x">    }</span>
</span><span id="__span-13-32"><a id="__codelineno-13-32" name="__codelineno-13-32" href="#__codelineno-13-32"></a>
</span><span id="__span-13-33"><a id="__codelineno-13-33" name="__codelineno-13-33" href="#__codelineno-13-33"></a><span class="x">    // Determine dominant intent</span>
</span><span id="__span-13-34"><a id="__codelineno-13-34" name="__codelineno-13-34" href="#__codelineno-13-34"></a><span class="x">    $max_score = max($navigational_score, $informational_score, $transactional_score);</span>
</span><span id="__span-13-35"><a id="__codelineno-13-35" name="__codelineno-13-35" href="#__codelineno-13-35"></a>
</span><span id="__span-13-36"><a id="__codelineno-13-36" name="__codelineno-13-36" href="#__codelineno-13-36"></a><span class="x">    if ($max_score &lt; 25) {</span>
</span><span id="__span-13-37"><a id="__codelineno-13-37" name="__codelineno-13-37" href="#__codelineno-13-37"></a><span class="x">        return [&#39;type&#39; =&gt; &#39;unknown&#39;, &#39;confidence&#39; =&gt; 0.0];</span>
</span><span id="__span-13-38"><a id="__codelineno-13-38" name="__codelineno-13-38" href="#__codelineno-13-38"></a><span class="x">    }</span>
</span><span id="__span-13-39"><a id="__codelineno-13-39" name="__codelineno-13-39" href="#__codelineno-13-39"></a>
</span><span id="__span-13-40"><a id="__codelineno-13-40" name="__codelineno-13-40" href="#__codelineno-13-40"></a><span class="x">    if ($navigational_score === $max_score) {</span>
</span><span id="__span-13-41"><a id="__codelineno-13-41" name="__codelineno-13-41" href="#__codelineno-13-41"></a><span class="x">        $type = &#39;navigational&#39;;</span>
</span><span id="__span-13-42"><a id="__codelineno-13-42" name="__codelineno-13-42" href="#__codelineno-13-42"></a><span class="x">    } elseif ($informational_score === $max_score) {</span>
</span><span id="__span-13-43"><a id="__codelineno-13-43" name="__codelineno-13-43" href="#__codelineno-13-43"></a><span class="x">        $type = &#39;informational&#39;;</span>
</span><span id="__span-13-44"><a id="__codelineno-13-44" name="__codelineno-13-44" href="#__codelineno-13-44"></a><span class="x">    } else {</span>
</span><span id="__span-13-45"><a id="__codelineno-13-45" name="__codelineno-13-45" href="#__codelineno-13-45"></a><span class="x">        $type = &#39;transactional&#39;;</span>
</span><span id="__span-13-46"><a id="__codelineno-13-46" name="__codelineno-13-46" href="#__codelineno-13-46"></a><span class="x">    }</span>
</span><span id="__span-13-47"><a id="__codelineno-13-47" name="__codelineno-13-47" href="#__codelineno-13-47"></a>
</span><span id="__span-13-48"><a id="__codelineno-13-48" name="__codelineno-13-48" href="#__codelineno-13-48"></a><span class="x">    $confidence = min($max_score / 100, 1.0);</span>
</span><span id="__span-13-49"><a id="__codelineno-13-49" name="__codelineno-13-49" href="#__codelineno-13-49"></a>
</span><span id="__span-13-50"><a id="__codelineno-13-50" name="__codelineno-13-50" href="#__codelineno-13-50"></a><span class="x">    return [&#39;type&#39; =&gt; $type, &#39;confidence&#39; =&gt; $confidence];</span>
</span><span id="__span-13-51"><a id="__codelineno-13-51" name="__codelineno-13-51" href="#__codelineno-13-51"></a><span class="x">}</span>
</span></code></pre></div>
<h4 id="database_design">Database Design<a class="headerlink" href="#database_design" title="Permanent link">&para;</a></h4>
<p><strong>Custom Table Structure:</strong></p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1">-- Search logs table</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">wp_search_logs</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="n">UNSIGNED</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="p">,</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">    </span><span class="n">session_id</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">    </span><span class="n">user_id</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="n">UNSIGNED</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="w">    </span><span class="n">num_results</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="w">    </span><span class="n">intent_type</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="w">    </span><span class="n">intent_confidence</span><span class="w"> </span><span class="nb">FLOAT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a><span class="w">    </span><span class="k">timestamp</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="w">    </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">),</span>
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="w">    </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_session</span><span class="w"> </span><span class="p">(</span><span class="n">session_id</span><span class="p">),</span>
</span><span id="__span-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="w">    </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_query</span><span class="w"> </span><span class="p">(</span><span class="n">query</span><span class="p">(</span><span class="mi">191</span><span class="p">)),</span>
</span><span id="__span-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a><span class="w">    </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_timestamp</span><span class="w"> </span><span class="p">(</span><span class="k">timestamp</span><span class="p">),</span>
</span><span id="__span-14-15"><a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a><span class="w">    </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_intent</span><span class="w"> </span><span class="p">(</span><span class="n">intent_type</span><span class="p">)</span>
</span><span id="__span-14-16"><a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a><span class="p">)</span><span class="w"> </span><span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8mb4</span><span class="p">;</span>
</span><span id="__span-14-17"><a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a>
</span><span id="__span-14-18"><a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a><span class="c1">-- Search clicks table</span>
</span><span id="__span-14-19"><a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">wp_search_clicks</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-14-20"><a id="__codelineno-14-20" name="__codelineno-14-20" href="#__codelineno-14-20"></a><span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="n">UNSIGNED</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="p">,</span>
</span><span id="__span-14-21"><a id="__codelineno-14-21" name="__codelineno-14-21" href="#__codelineno-14-21"></a><span class="w">    </span><span class="n">search_log_id</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="n">UNSIGNED</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-14-22"><a id="__codelineno-14-22" name="__codelineno-14-22" href="#__codelineno-14-22"></a><span class="w">    </span><span class="n">result_id</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="n">UNSIGNED</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-14-23"><a id="__codelineno-14-23" name="__codelineno-14-23" href="#__codelineno-14-23"></a><span class="w">    </span><span class="n">result_position</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-14-24"><a id="__codelineno-14-24" name="__codelineno-14-24" href="#__codelineno-14-24"></a><span class="w">    </span><span class="k">timestamp</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-14-25"><a id="__codelineno-14-25" name="__codelineno-14-25" href="#__codelineno-14-25"></a><span class="w">    </span><span class="n">dwell_time</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-14-26"><a id="__codelineno-14-26" name="__codelineno-14-26" href="#__codelineno-14-26"></a><span class="w">    </span><span class="n">converted</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">FALSE</span><span class="p">,</span>
</span><span id="__span-14-27"><a id="__codelineno-14-27" name="__codelineno-14-27" href="#__codelineno-14-27"></a><span class="w">    </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">),</span>
</span><span id="__span-14-28"><a id="__codelineno-14-28" name="__codelineno-14-28" href="#__codelineno-14-28"></a><span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">search_log_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">wp_search_logs</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span><span class="p">,</span>
</span><span id="__span-14-29"><a id="__codelineno-14-29" name="__codelineno-14-29" href="#__codelineno-14-29"></a><span class="w">    </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_result</span><span class="w"> </span><span class="p">(</span><span class="n">result_id</span><span class="p">),</span>
</span><span id="__span-14-30"><a id="__codelineno-14-30" name="__codelineno-14-30" href="#__codelineno-14-30"></a><span class="w">    </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_position</span><span class="w"> </span><span class="p">(</span><span class="n">result_position</span><span class="p">),</span>
</span><span id="__span-14-31"><a id="__codelineno-14-31" name="__codelineno-14-31" href="#__codelineno-14-31"></a><span class="w">    </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_dwell</span><span class="w"> </span><span class="p">(</span><span class="n">dwell_time</span><span class="p">)</span>
</span><span id="__span-14-32"><a id="__codelineno-14-32" name="__codelineno-14-32" href="#__codelineno-14-32"></a><span class="p">)</span><span class="w"> </span><span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8mb4</span><span class="p">;</span>
</span><span id="__span-14-33"><a id="__codelineno-14-33" name="__codelineno-14-33" href="#__codelineno-14-33"></a>
</span><span id="__span-14-34"><a id="__codelineno-14-34" name="__codelineno-14-34" href="#__codelineno-14-34"></a><span class="c1">-- Aggregated quality metrics table</span>
</span><span id="__span-14-35"><a id="__codelineno-14-35" name="__codelineno-14-35" href="#__codelineno-14-35"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">wp_search_quality</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-14-36"><a id="__codelineno-14-36" name="__codelineno-14-36" href="#__codelineno-14-36"></a><span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="n">UNSIGNED</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="p">,</span>
</span><span id="__span-14-37"><a id="__codelineno-14-37" name="__codelineno-14-37" href="#__codelineno-14-37"></a><span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-14-38"><a id="__codelineno-14-38" name="__codelineno-14-38" href="#__codelineno-14-38"></a><span class="w">    </span><span class="n">result_id</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="n">UNSIGNED</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-14-39"><a id="__codelineno-14-39" name="__codelineno-14-39" href="#__codelineno-14-39"></a><span class="w">    </span><span class="n">relevance_score</span><span class="w"> </span><span class="nb">FLOAT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-14-40"><a id="__codelineno-14-40" name="__codelineno-14-40" href="#__codelineno-14-40"></a><span class="w">    </span><span class="n">click_count</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-14-41"><a id="__codelineno-14-41" name="__codelineno-14-41" href="#__codelineno-14-41"></a><span class="w">    </span><span class="n">avg_dwell_time</span><span class="w"> </span><span class="nb">FLOAT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-14-42"><a id="__codelineno-14-42" name="__codelineno-14-42" href="#__codelineno-14-42"></a><span class="w">    </span><span class="n">conversion_count</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-14-43"><a id="__codelineno-14-43" name="__codelineno-14-43" href="#__codelineno-14-43"></a><span class="w">    </span><span class="n">last_updated</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-14-44"><a id="__codelineno-14-44" name="__codelineno-14-44" href="#__codelineno-14-44"></a><span class="w">    </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">),</span>
</span><span id="__span-14-45"><a id="__codelineno-14-45" name="__codelineno-14-45" href="#__codelineno-14-45"></a><span class="w">    </span><span class="k">UNIQUE</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">unique_query_result</span><span class="w"> </span><span class="p">(</span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="n">result_id</span><span class="p">),</span>
</span><span id="__span-14-46"><a id="__codelineno-14-46" name="__codelineno-14-46" href="#__codelineno-14-46"></a><span class="w">    </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_relevance</span><span class="w"> </span><span class="p">(</span><span class="n">relevance_score</span><span class="p">),</span>
</span><span id="__span-14-47"><a id="__codelineno-14-47" name="__codelineno-14-47" href="#__codelineno-14-47"></a><span class="w">    </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_query_lookup</span><span class="w"> </span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</span><span id="__span-14-48"><a id="__codelineno-14-48" name="__codelineno-14-48" href="#__codelineno-14-48"></a><span class="p">)</span><span class="w"> </span><span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8mb4</span><span class="p">;</span>
</span><span id="__span-14-49"><a id="__codelineno-14-49" name="__codelineno-14-49" href="#__codelineno-14-49"></a>
</span><span id="__span-14-50"><a id="__codelineno-14-50" name="__codelineno-14-50" href="#__codelineno-14-50"></a><span class="c1">-- Session metadata table</span>
</span><span id="__span-14-51"><a id="__codelineno-14-51" name="__codelineno-14-51" href="#__codelineno-14-51"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">wp_search_sessions</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-14-52"><a id="__codelineno-14-52" name="__codelineno-14-52" href="#__codelineno-14-52"></a><span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="n">UNSIGNED</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="p">,</span>
</span><span id="__span-14-53"><a id="__codelineno-14-53" name="__codelineno-14-53" href="#__codelineno-14-53"></a><span class="w">    </span><span class="n">session_id</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-14-54"><a id="__codelineno-14-54" name="__codelineno-14-54" href="#__codelineno-14-54"></a><span class="w">    </span><span class="n">user_id</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="n">UNSIGNED</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-14-55"><a id="__codelineno-14-55" name="__codelineno-14-55" href="#__codelineno-14-55"></a><span class="w">    </span><span class="n">first_search</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-14-56"><a id="__codelineno-14-56" name="__codelineno-14-56" href="#__codelineno-14-56"></a><span class="w">    </span><span class="n">last_activity</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-14-57"><a id="__codelineno-14-57" name="__codelineno-14-57" href="#__codelineno-14-57"></a><span class="w">    </span><span class="n">total_searches</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-14-58"><a id="__codelineno-14-58" name="__codelineno-14-58" href="#__codelineno-14-58"></a><span class="w">    </span><span class="n">total_clicks</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-14-59"><a id="__codelineno-14-59" name="__codelineno-14-59" href="#__codelineno-14-59"></a><span class="w">    </span><span class="n">converted</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">FALSE</span><span class="p">,</span>
</span><span id="__span-14-60"><a id="__codelineno-14-60" name="__codelineno-14-60" href="#__codelineno-14-60"></a><span class="w">    </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">),</span>
</span><span id="__span-14-61"><a id="__codelineno-14-61" name="__codelineno-14-61" href="#__codelineno-14-61"></a><span class="w">    </span><span class="k">UNIQUE</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">unique_session</span><span class="w"> </span><span class="p">(</span><span class="n">session_id</span><span class="p">),</span>
</span><span id="__span-14-62"><a id="__codelineno-14-62" name="__codelineno-14-62" href="#__codelineno-14-62"></a><span class="w">    </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_user</span><span class="w"> </span><span class="p">(</span><span class="n">user_id</span><span class="p">),</span>
</span><span id="__span-14-63"><a id="__codelineno-14-63" name="__codelineno-14-63" href="#__codelineno-14-63"></a><span class="w">    </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_activity</span><span class="w"> </span><span class="p">(</span><span class="n">last_activity</span><span class="p">)</span>
</span><span id="__span-14-64"><a id="__codelineno-14-64" name="__codelineno-14-64" href="#__codelineno-14-64"></a><span class="p">)</span><span class="w"> </span><span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8mb4</span><span class="p">;</span>
</span></code></pre></div>
<h3 id="privacy_considerations">Privacy Considerations<a class="headerlink" href="#privacy_considerations" title="Permanent link">&para;</a></h3>
<h4 id="gdpr_compliance">GDPR Compliance<a class="headerlink" href="#gdpr_compliance" title="Permanent link">&para;</a></h4>
<p><strong>Data Minimization:</strong></p>
<ul>
<li>Store session IDs instead of personally identifiable information when possible</li>
<li>Don't store IP addresses unless necessary</li>
<li>Anonymize data after 30 days if possible</li>
</ul>
<p><strong>User Rights:</strong></p>
<ul>
<li>Provide opt-out mechanism for search tracking</li>
<li>Include search data in data export requests</li>
<li>Delete user's search data upon account deletion</li>
<li>Auto-delete logs older than retention period (e.g., 90 days)</li>
</ul>
<p><strong>Implementation:</strong></p>
<div class="language-php highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="x">// Anonymize old data</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="x">function anonymize_old_search_data() {</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="x">    global $wpdb;</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="x">    $retention_days = 90;</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="x">    $wpdb-&gt;query($wpdb-&gt;prepare(&quot;</span>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="x">        UPDATE {$wpdb-&gt;prefix}search_logs </span>
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="x">        SET user_id = NULL, </span>
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="x">            session_id = CONCAT(&#39;anon_&#39;, id)</span>
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="x">        WHERE timestamp &lt; DATE_SUB(NOW(), INTERVAL %d DAY)</span>
</span><span id="__span-15-12"><a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a><span class="x">        AND user_id IS NOT NULL</span>
</span><span id="__span-15-13"><a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a><span class="x">    &quot;, $retention_days));</span>
</span><span id="__span-15-14"><a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a><span class="x">}</span>
</span><span id="__span-15-15"><a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a>
</span><span id="__span-15-16"><a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a><span class="x">// Delete expired data</span>
</span><span id="__span-15-17"><a id="__codelineno-15-17" name="__codelineno-15-17" href="#__codelineno-15-17"></a><span class="x">function delete_expired_search_data() {</span>
</span><span id="__span-15-18"><a id="__codelineno-15-18" name="__codelineno-15-18" href="#__codelineno-15-18"></a><span class="x">    global $wpdb;</span>
</span><span id="__span-15-19"><a id="__codelineno-15-19" name="__codelineno-15-19" href="#__codelineno-15-19"></a>
</span><span id="__span-15-20"><a id="__codelineno-15-20" name="__codelineno-15-20" href="#__codelineno-15-20"></a><span class="x">    $expiration_days = 365;</span>
</span><span id="__span-15-21"><a id="__codelineno-15-21" name="__codelineno-15-21" href="#__codelineno-15-21"></a>
</span><span id="__span-15-22"><a id="__codelineno-15-22" name="__codelineno-15-22" href="#__codelineno-15-22"></a><span class="x">    $wpdb-&gt;query($wpdb-&gt;prepare(&quot;</span>
</span><span id="__span-15-23"><a id="__codelineno-15-23" name="__codelineno-15-23" href="#__codelineno-15-23"></a><span class="x">        DELETE FROM {$wpdb-&gt;prefix}search_logs </span>
</span><span id="__span-15-24"><a id="__codelineno-15-24" name="__codelineno-15-24" href="#__codelineno-15-24"></a><span class="x">        WHERE timestamp &lt; DATE_SUB(NOW(), INTERVAL %d DAY)</span>
</span><span id="__span-15-25"><a id="__codelineno-15-25" name="__codelineno-15-25" href="#__codelineno-15-25"></a><span class="x">    &quot;, $expiration_days));</span>
</span><span id="__span-15-26"><a id="__codelineno-15-26" name="__codelineno-15-26" href="#__codelineno-15-26"></a><span class="x">}</span>
</span><span id="__span-15-27"><a id="__codelineno-15-27" name="__codelineno-15-27" href="#__codelineno-15-27"></a>
</span><span id="__span-15-28"><a id="__codelineno-15-28" name="__codelineno-15-28" href="#__codelineno-15-28"></a><span class="x">// Export user&#39;s search data</span>
</span><span id="__span-15-29"><a id="__codelineno-15-29" name="__codelineno-15-29" href="#__codelineno-15-29"></a><span class="x">function export_user_search_data($user_id) {</span>
</span><span id="__span-15-30"><a id="__codelineno-15-30" name="__codelineno-15-30" href="#__codelineno-15-30"></a><span class="x">    global $wpdb;</span>
</span><span id="__span-15-31"><a id="__codelineno-15-31" name="__codelineno-15-31" href="#__codelineno-15-31"></a>
</span><span id="__span-15-32"><a id="__codelineno-15-32" name="__codelineno-15-32" href="#__codelineno-15-32"></a><span class="x">    $searches = $wpdb-&gt;get_results($wpdb-&gt;prepare(&quot;</span>
</span><span id="__span-15-33"><a id="__codelineno-15-33" name="__codelineno-15-33" href="#__codelineno-15-33"></a><span class="x">        SELECT query, timestamp, num_results</span>
</span><span id="__span-15-34"><a id="__codelineno-15-34" name="__codelineno-15-34" href="#__codelineno-15-34"></a><span class="x">        FROM {$wpdb-&gt;prefix}search_logs</span>
</span><span id="__span-15-35"><a id="__codelineno-15-35" name="__codelineno-15-35" href="#__codelineno-15-35"></a><span class="x">        WHERE user_id = %d</span>
</span><span id="__span-15-36"><a id="__codelineno-15-36" name="__codelineno-15-36" href="#__codelineno-15-36"></a><span class="x">        ORDER BY timestamp DESC</span>
</span><span id="__span-15-37"><a id="__codelineno-15-37" name="__codelineno-15-37" href="#__codelineno-15-37"></a><span class="x">    &quot;, $user_id), ARRAY_A);</span>
</span><span id="__span-15-38"><a id="__codelineno-15-38" name="__codelineno-15-38" href="#__codelineno-15-38"></a>
</span><span id="__span-15-39"><a id="__codelineno-15-39" name="__codelineno-15-39" href="#__codelineno-15-39"></a><span class="x">    return $searches;</span>
</span><span id="__span-15-40"><a id="__codelineno-15-40" name="__codelineno-15-40" href="#__codelineno-15-40"></a><span class="x">}</span>
</span></code></pre></div>
<p><strong>Best Practices:</strong></p>
<ul>
<li>Don't store sensitive search queries (passwords, credit cards, etc.)</li>
<li>Hash or encrypt query text for security</li>
<li>Aggregate data for analysis, delete raw logs regularly</li>
<li>Be transparent about tracking in privacy policy</li>
<li>Provide clear opt-out options</li>
</ul>
<h2 id="analysis_and_optimization_workflow">Analysis and Optimization Workflow<a class="headerlink" href="#analysis_and_optimization_workflow" title="Permanent link">&para;</a></h2>
<h3 id="daily_monitoring">Daily Monitoring<a class="headerlink" href="#daily_monitoring" title="Permanent link">&para;</a></h3>
<h4 id="quick_health_check">Quick Health Check<a class="headerlink" href="#quick_health_check" title="Permanent link">&para;</a></h4>
<p><strong>Key Metrics to Review:</strong></p>
<ul>
<li>Total searches today vs. yesterday</li>
<li>Current CTR</li>
<li>Zero-result rate</li>
<li>Top 10 searches</li>
</ul>
<p><strong>SQL Query for Daily Summary:</strong></p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="k">SELECT</span><span class="w"> </span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="w">    </span><span class="nb">DATE</span><span class="p">(</span><span class="k">timestamp</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nb">date</span><span class="p">,</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="w">    </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">total_searches</span><span class="p">,</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">    </span><span class="k">SUM</span><span class="p">(</span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="n">num_results</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">END</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">zero_results</span><span class="p">,</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="w">    </span><span class="n">ROUND</span><span class="p">(</span><span class="k">SUM</span><span class="p">(</span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="n">num_results</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">END</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">zero_result_pct</span><span class="p">,</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="w">    </span><span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">query</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">unique_queries</span>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="k">FROM</span><span class="w"> </span><span class="n">wp_search_logs</span>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="k">WHERE</span><span class="w"> </span><span class="nb">DATE</span><span class="p">(</span><span class="k">timestamp</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CURDATE</span><span class="p">()</span>
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="nb">DATE</span><span class="p">(</span><span class="k">timestamp</span><span class="p">);</span>
</span></code></pre></div>
<p><strong>Alert Conditions:</strong></p>
<ul>
<li>Zero-result rate &gt;15%: Investigate immediately</li>
<li>CTR drops &gt;10%: Check for search functionality issues</li>
<li>Unusual spike in searches: May indicate bot activity or trending topic</li>
</ul>
<h3 id="weekly_analysis_routine">Weekly Analysis Routine<a class="headerlink" href="#weekly_analysis_routine" title="Permanent link">&para;</a></h3>
<h4 id="1_identify_problem_queries">1. Identify Problem Queries<a class="headerlink" href="#1_identify_problem_queries" title="Permanent link">&para;</a></h4>
<p><strong>Queries with Low Satisfaction:</strong></p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="k">SELECT</span><span class="w"> </span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="w">    </span><span class="n">sl</span><span class="p">.</span><span class="n">query</span><span class="p">,</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="w">    </span><span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">search_count</span><span class="p">,</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="w">    </span><span class="k">COUNT</span><span class="p">(</span><span class="n">sc</span><span class="p">.</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">total_clicks</span><span class="p">,</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="w">    </span><span class="n">ROUND</span><span class="p">(</span><span class="k">COUNT</span><span class="p">(</span><span class="n">sc</span><span class="p">.</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">id</span><span class="p">),</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">avg_clicks_per_search</span><span class="p">,</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="w">    </span><span class="n">ROUND</span><span class="p">(</span><span class="k">AVG</span><span class="p">(</span><span class="n">sc</span><span class="p">.</span><span class="n">dwell_time</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">avg_dwell_time</span><span class="p">,</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="w">    </span><span class="n">ROUND</span><span class="p">(</span><span class="k">COUNT</span><span class="p">(</span><span class="n">sc</span><span class="p">.</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">ctr</span>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="k">FROM</span><span class="w"> </span><span class="n">wp_search_logs</span><span class="w"> </span><span class="n">sl</span>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">wp_search_clicks</span><span class="w"> </span><span class="n">sc</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sc</span><span class="p">.</span><span class="n">search_log_id</span>
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="k">timestamp</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">DATE_SUB</span><span class="p">(</span><span class="n">NOW</span><span class="p">(),</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="k">DAY</span><span class="p">)</span>
</span><span id="__span-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">query</span>
</span><span id="__span-17-12"><a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a><span class="k">HAVING</span><span class="w"> </span><span class="n">search_count</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">ctr</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">40</span>
</span><span id="__span-17-13"><a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">search_count</span><span class="w"> </span><span class="k">DESC</span>
</span><span id="__span-17-14"><a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a><span class="k">LIMIT</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>
</span></code></pre></div>
<p><strong>Zero-Result Queries:</strong></p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="k">SELECT</span><span class="w"> </span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="w">    </span><span class="n">query</span><span class="p">,</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="w">    </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">frequency</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="k">FROM</span><span class="w"> </span><span class="n">wp_search_logs</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">num_results</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="k">AND</span><span class="w"> </span><span class="k">timestamp</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">DATE_SUB</span><span class="p">(</span><span class="n">NOW</span><span class="p">(),</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="k">DAY</span><span class="p">)</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">query</span>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="k">DESC</span>
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a><span class="k">LIMIT</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>
</span></code></pre></div>
<p><strong>High-Abandonment Queries:</strong></p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="k">SELECT</span><span class="w"> </span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="w">    </span><span class="n">sl</span><span class="p">.</span><span class="n">query</span><span class="p">,</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="w">    </span><span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">search_count</span><span class="p">,</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="w">    </span><span class="k">COUNT</span><span class="p">(</span><span class="n">sc</span><span class="p">.</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">total_clicks</span><span class="p">,</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="w">    </span><span class="n">ROUND</span><span class="p">((</span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="n">sc</span><span class="p">.</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">id</span><span class="p">))</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">abandonment_rate</span>
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="k">FROM</span><span class="w"> </span><span class="n">wp_search_logs</span><span class="w"> </span><span class="n">sl</span>
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">wp_search_clicks</span><span class="w"> </span><span class="n">sc</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sc</span><span class="p">.</span><span class="n">search_log_id</span>
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="k">timestamp</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">DATE_SUB</span><span class="p">(</span><span class="n">NOW</span><span class="p">(),</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="k">DAY</span><span class="p">)</span>
</span><span id="__span-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">query</span>
</span><span id="__span-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a><span class="k">HAVING</span><span class="w"> </span><span class="n">search_count</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">abandonment_rate</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">60</span>
</span><span id="__span-19-11"><a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">search_count</span><span class="w"> </span><span class="k">DESC</span><span class="p">;</span>
</span></code></pre></div>
<h4 id="2_discover_opportunities">2. Discover Opportunities<a class="headerlink" href="#2_discover_opportunities" title="Permanent link">&para;</a></h4>
<p><strong>High-Volume Queries:</strong></p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="k">SELECT</span><span class="w"> </span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="w">    </span><span class="n">query</span><span class="p">,</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="w">    </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">search_count</span><span class="p">,</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="w">    </span><span class="k">AVG</span><span class="p">(</span><span class="n">num_results</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">avg_results</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="k">FROM</span><span class="w"> </span><span class="n">wp_search_logs</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="k">WHERE</span><span class="w"> </span><span class="k">timestamp</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">DATE_SUB</span><span class="p">(</span><span class="n">NOW</span><span class="p">(),</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="k">DAY</span><span class="p">)</span>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">query</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">search_count</span><span class="w"> </span><span class="k">DESC</span>
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="k">LIMIT</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>
</span></code></pre></div>
<p>Ensure these have excellent results and consider:</p>
<ul>
<li>Creating dedicated landing pages</li>
<li>Featuring in site navigation</li>
<li>Optimizing heavily for these queries</li>
</ul>
<p><strong>Conversion-Driving Queries:</strong></p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="k">SELECT</span><span class="w"> </span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="w">    </span><span class="n">sl</span><span class="p">.</span><span class="n">query</span><span class="p">,</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="w">    </span><span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">search_count</span><span class="p">,</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="w">    </span><span class="k">SUM</span><span class="p">(</span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="n">sc</span><span class="p">.</span><span class="n">converted</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">END</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">conversions</span><span class="p">,</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="w">    </span><span class="n">ROUND</span><span class="p">(</span><span class="k">SUM</span><span class="p">(</span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="n">sc</span><span class="p">.</span><span class="n">converted</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">END</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">conversion_rate</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="k">FROM</span><span class="w"> </span><span class="n">wp_search_logs</span><span class="w"> </span><span class="n">sl</span>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">wp_search_clicks</span><span class="w"> </span><span class="n">sc</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sc</span><span class="p">.</span><span class="n">search_log_id</span>
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="k">timestamp</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">DATE_SUB</span><span class="p">(</span><span class="n">NOW</span><span class="p">(),</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="k">DAY</span><span class="p">)</span>
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">query</span>
</span><span id="__span-21-10"><a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a><span class="k">HAVING</span><span class="w"> </span><span class="n">search_count</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">10</span>
</span><span id="__span-21-11"><a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">conversion_rate</span><span class="w"> </span><span class="k">DESC</span>
</span><span id="__span-21-12"><a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a><span class="k">LIMIT</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>
</span></code></pre></div>
<p><strong>Emerging Trends:</strong></p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="k">SELECT</span><span class="w"> </span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="w">    </span><span class="n">query</span><span class="p">,</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="w">    </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">current_week_count</span><span class="p">,</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="w">    </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="w">     </span><span class="k">FROM</span><span class="w"> </span><span class="n">wp_search_logs</span><span class="w"> </span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="w">     </span><span class="k">WHERE</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">query</span><span class="w"> </span>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="w">     </span><span class="k">AND</span><span class="w"> </span><span class="k">timestamp</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">DATE_SUB</span><span class="p">(</span><span class="n">NOW</span><span class="p">(),</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="mi">14</span><span class="w"> </span><span class="k">DAY</span><span class="p">)</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="w">     </span><span class="k">AND</span><span class="w"> </span><span class="k">timestamp</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">DATE_SUB</span><span class="p">(</span><span class="n">NOW</span><span class="p">(),</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="k">DAY</span><span class="p">)</span>
</span><span id="__span-22-9"><a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">previous_week_count</span><span class="p">,</span>
</span><span id="__span-22-10"><a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a><span class="w">    </span><span class="n">ROUND</span><span class="p">((</span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span>
</span><span id="__span-22-11"><a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a><span class="w">                       </span><span class="k">FROM</span><span class="w"> </span><span class="n">wp_search_logs</span><span class="w"> </span>
</span><span id="__span-22-12"><a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a><span class="w">                       </span><span class="k">WHERE</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">query</span><span class="w"> </span>
</span><span id="__span-22-13"><a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a><span class="w">                       </span><span class="k">AND</span><span class="w"> </span><span class="k">timestamp</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">DATE_SUB</span><span class="p">(</span><span class="n">NOW</span><span class="p">(),</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="mi">14</span><span class="w"> </span><span class="k">DAY</span><span class="p">)</span>
</span><span id="__span-22-14"><a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a><span class="w">                       </span><span class="k">AND</span><span class="w"> </span><span class="k">timestamp</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">DATE_SUB</span><span class="p">(</span><span class="n">NOW</span><span class="p">(),</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="k">DAY</span><span class="p">)</span>
</span><span id="__span-22-15"><a id="__codelineno-22-15" name="__codelineno-22-15" href="#__codelineno-22-15"></a><span class="w">    </span><span class="p">))</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span>
</span><span id="__span-22-16"><a id="__codelineno-22-16" name="__codelineno-22-16" href="#__codelineno-22-16"></a><span class="w">          </span><span class="k">FROM</span><span class="w"> </span><span class="n">wp_search_logs</span><span class="w"> </span>
</span><span id="__span-22-17"><a id="__codelineno-22-17" name="__codelineno-22-17" href="#__codelineno-22-17"></a><span class="w">          </span><span class="k">WHERE</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">query</span><span class="w"> </span>
</span><span id="__span-22-18"><a id="__codelineno-22-18" name="__codelineno-22-18" href="#__codelineno-22-18"></a><span class="w">          </span><span class="k">AND</span><span class="w"> </span><span class="k">timestamp</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">DATE_SUB</span><span class="p">(</span><span class="n">NOW</span><span class="p">(),</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="mi">14</span><span class="w"> </span><span class="k">DAY</span><span class="p">)</span>
</span><span id="__span-22-19"><a id="__codelineno-22-19" name="__codelineno-22-19" href="#__codelineno-22-19"></a><span class="w">          </span><span class="k">AND</span><span class="w"> </span><span class="k">timestamp</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">DATE_SUB</span><span class="p">(</span><span class="n">NOW</span><span class="p">(),</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="k">DAY</span><span class="p">)</span>
</span><span id="__span-22-20"><a id="__codelineno-22-20" name="__codelineno-22-20" href="#__codelineno-22-20"></a><span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">growth_pct</span>
</span><span id="__span-22-21"><a id="__codelineno-22-21" name="__codelineno-22-21" href="#__codelineno-22-21"></a><span class="k">FROM</span><span class="w"> </span><span class="n">wp_search_logs</span><span class="w"> </span><span class="n">sl</span>
</span><span id="__span-22-22"><a id="__codelineno-22-22" name="__codelineno-22-22" href="#__codelineno-22-22"></a><span class="k">WHERE</span><span class="w"> </span><span class="k">timestamp</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">DATE_SUB</span><span class="p">(</span><span class="n">NOW</span><span class="p">(),</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="k">DAY</span><span class="p">)</span>
</span><span id="__span-22-23"><a id="__codelineno-22-23" name="__codelineno-22-23" href="#__codelineno-22-23"></a><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">query</span>
</span><span id="__span-22-24"><a id="__codelineno-22-24" name="__codelineno-22-24" href="#__codelineno-22-24"></a><span class="k">HAVING</span><span class="w"> </span><span class="n">previous_week_count</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">growth_pct</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">50</span>
</span><span id="__span-22-25"><a id="__codelineno-22-25" name="__codelineno-22-25" href="#__codelineno-22-25"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">growth_pct</span><span class="w"> </span><span class="k">DESC</span><span class="p">;</span>
</span></code></pre></div>
<h4 id="3_ab_testing">3. A/B Testing<a class="headerlink" href="#3_ab_testing" title="Permanent link">&para;</a></h4>
<p><strong>Test Variables:</strong></p>
<ul>
<li>Ranking algorithm changes</li>
<li>Result presentation (snippets, formatting)</li>
<li>Intent detection methods</li>
<li>Number of results per page</li>
<li>Inclusion of suggested queries</li>
</ul>
<p><strong>Implementation:</strong></p>
<div class="language-php highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="x">function ab_test_search_ranking($query, $user_session) {</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="x">    // Assign user to variant (50/50 split)</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="x">    $variant = (crc32($user_session) % 2 === 0) ? &#39;control&#39; : &#39;treatment&#39;;</span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="x">    if ($variant === &#39;treatment&#39;) {</span>
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="x">        // Apply new ranking algorithm</span>
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="x">        $results = new_ranking_algorithm($query);</span>
</span><span id="__span-23-8"><a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a><span class="x">    } else {</span>
</span><span id="__span-23-9"><a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a><span class="x">        // Use current ranking algorithm</span>
</span><span id="__span-23-10"><a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a><span class="x">        $results = current_ranking_algorithm($query);</span>
</span><span id="__span-23-11"><a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a><span class="x">    }</span>
</span><span id="__span-23-12"><a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a>
</span><span id="__span-23-13"><a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a><span class="x">    // Log variant assignment</span>
</span><span id="__span-23-14"><a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a><span class="x">    log_ab_test($user_session, $variant, $query);</span>
</span><span id="__span-23-15"><a id="__codelineno-23-15" name="__codelineno-23-15" href="#__codelineno-23-15"></a>
</span><span id="__span-23-16"><a id="__codelineno-23-16" name="__codelineno-23-16" href="#__codelineno-23-16"></a><span class="x">    return $results;</span>
</span><span id="__span-23-17"><a id="__codelineno-23-17" name="__codelineno-23-17" href="#__codelineno-23-17"></a><span class="x">}</span>
</span></code></pre></div>
<p><strong>Measurement:</strong></p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="c1">-- Compare CTR between variants</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="k">SELECT</span><span class="w"> </span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="w">    </span><span class="n">abt</span><span class="p">.</span><span class="n">variant</span><span class="p">,</span>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="w">    </span><span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">total_searches</span><span class="p">,</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="w">    </span><span class="k">COUNT</span><span class="p">(</span><span class="n">sc</span><span class="p">.</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">total_clicks</span><span class="p">,</span>
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="w">    </span><span class="n">ROUND</span><span class="p">(</span><span class="k">COUNT</span><span class="p">(</span><span class="n">sc</span><span class="p">.</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">ctr</span><span class="p">,</span>
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="w">    </span><span class="n">ROUND</span><span class="p">(</span><span class="k">AVG</span><span class="p">(</span><span class="n">sc</span><span class="p">.</span><span class="n">dwell_time</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">avg_dwell_time</span>
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="k">FROM</span><span class="w"> </span><span class="n">wp_ab_tests</span><span class="w"> </span><span class="n">abt</span>
</span><span id="__span-24-9"><a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a><span class="k">JOIN</span><span class="w"> </span><span class="n">wp_search_logs</span><span class="w"> </span><span class="n">sl</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">abt</span><span class="p">.</span><span class="n">session_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">session_id</span>
</span><span id="__span-24-10"><a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">wp_search_clicks</span><span class="w"> </span><span class="n">sc</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sc</span><span class="p">.</span><span class="n">search_log_id</span>
</span><span id="__span-24-11"><a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">abt</span><span class="p">.</span><span class="n">test_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;new_ranking_algorithm&#39;</span>
</span><span id="__span-24-12"><a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="k">AND</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="k">timestamp</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">DATE_SUB</span><span class="p">(</span><span class="n">NOW</span><span class="p">(),</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="k">DAY</span><span class="p">)</span>
</span><span id="__span-24-13"><a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">abt</span><span class="p">.</span><span class="n">variant</span><span class="p">;</span>
</span></code></pre></div>
<h3 id="monthly_deep_dive">Monthly Deep Dive<a class="headerlink" href="#monthly_deep_dive" title="Permanent link">&para;</a></h3>
<h4 id="intent_analysis">Intent Analysis<a class="headerlink" href="#intent_analysis" title="Permanent link">&para;</a></h4>
<p><strong>Review intent classification accuracy:</strong></p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="k">SELECT</span><span class="w"> </span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="w">    </span><span class="n">intent_type</span><span class="p">,</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="w">    </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">total_queries</span><span class="p">,</span>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="w">    </span><span class="k">AVG</span><span class="p">(</span><span class="n">intent_confidence</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">avg_confidence</span><span class="p">,</span>
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="w">    </span><span class="k">AVG</span><span class="p">(</span><span class="n">num_results</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">avg_results</span><span class="p">,</span>
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="w">    </span><span class="c1">-- Calculate effective CTR</span>
</span><span id="__span-25-7"><a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a><span class="w">    </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="n">sc</span><span class="p">.</span><span class="n">id</span><span class="p">)</span><span class="w"> </span>
</span><span id="__span-25-8"><a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a><span class="w">     </span><span class="k">FROM</span><span class="w"> </span><span class="n">wp_search_clicks</span><span class="w"> </span><span class="n">sc</span><span class="w"> </span>
</span><span id="__span-25-9"><a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a><span class="w">     </span><span class="k">JOIN</span><span class="w"> </span><span class="n">wp_search_logs</span><span class="w"> </span><span class="n">sl2</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">sc</span><span class="p">.</span><span class="n">search_log_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sl2</span><span class="p">.</span><span class="n">id</span><span class="w"> </span>
</span><span id="__span-25-10"><a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a><span class="w">     </span><span class="k">WHERE</span><span class="w"> </span><span class="n">sl2</span><span class="p">.</span><span class="n">intent_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">intent_type</span>
</span><span id="__span-25-11"><a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a><span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">avg_clicks_per_query</span>
</span><span id="__span-25-12"><a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a><span class="k">FROM</span><span class="w"> </span><span class="n">wp_search_logs</span><span class="w"> </span><span class="n">sl</span>
</span><span id="__span-25-13"><a id="__codelineno-25-13" name="__codelineno-25-13" href="#__codelineno-25-13"></a><span class="k">WHERE</span><span class="w"> </span><span class="k">timestamp</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">DATE_SUB</span><span class="p">(</span><span class="n">NOW</span><span class="p">(),</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="k">DAY</span><span class="p">)</span>
</span><span id="__span-25-14"><a id="__codelineno-25-14" name="__codelineno-25-14" href="#__codelineno-25-14"></a><span class="k">AND</span><span class="w"> </span><span class="n">intent_type</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span>
</span><span id="__span-25-15"><a id="__codelineno-25-15" name="__codelineno-25-15" href="#__codelineno-25-15"></a><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">intent_type</span><span class="p">;</span>
</span></code></pre></div>
<p><strong>Actions:</strong></p>
<ul>
<li>Update intent detection rules based on mislabeled queries</li>
<li>Adjust confidence thresholds</li>
<li>Add new intent keywords</li>
</ul>
<h4 id="algorithm_performance">Algorithm Performance<a class="headerlink" href="#algorithm_performance" title="Permanent link">&para;</a></h4>
<p><strong>Compare relevance scores over time:</strong></p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="k">SELECT</span><span class="w"> </span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="w">    </span><span class="n">DATE_FORMAT</span><span class="p">(</span><span class="n">sl</span><span class="p">.</span><span class="k">timestamp</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;%Y-%m&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">month</span><span class="p">,</span>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="w">    </span><span class="k">AVG</span><span class="p">(</span><span class="n">sq</span><span class="p">.</span><span class="n">relevance_score</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">avg_relevance</span><span class="p">,</span>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="w">    </span><span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">query</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">unique_queries</span><span class="p">,</span>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="w">    </span><span class="k">AVG</span><span class="p">(</span><span class="n">sl</span><span class="p">.</span><span class="n">num_results</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">avg_results</span>
</span><span id="__span-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="k">FROM</span><span class="w"> </span><span class="n">wp_search_logs</span><span class="w"> </span><span class="n">sl</span>
</span><span id="__span-26-7"><a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">wp_search_quality</span><span class="w"> </span><span class="n">sq</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sq</span><span class="p">.</span><span class="n">query</span>
</span><span id="__span-26-8"><a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="k">timestamp</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">DATE_SUB</span><span class="p">(</span><span class="n">NOW</span><span class="p">(),</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="k">MONTH</span><span class="p">)</span>
</span><span id="__span-26-9"><a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">DATE_FORMAT</span><span class="p">(</span><span class="n">sl</span><span class="p">.</span><span class="k">timestamp</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;%Y-%m&#39;</span><span class="p">)</span>
</span><span id="__span-26-10"><a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="k">month</span><span class="p">;</span>
</span></code></pre></div>
<p><strong>Track improvement:</strong></p>
<ul>
<li>Month-over-month relevance score changes</li>
<li>Query satisfaction trends</li>
<li>Zero-result rate trends</li>
</ul>
<h4 id="content_gaps">Content Gaps<a class="headerlink" href="#content_gaps" title="Permanent link">&para;</a></h4>
<p><strong>Identify topics users search for but you lack content:</strong></p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="c1">-- High-volume searches with low results</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="k">SELECT</span><span class="w"> </span>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="w">    </span><span class="n">query</span><span class="p">,</span>
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="w">    </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">search_frequency</span><span class="p">,</span>
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="w">    </span><span class="k">AVG</span><span class="p">(</span><span class="n">num_results</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">avg_results</span><span class="p">,</span>
</span><span id="__span-27-6"><a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="w">    </span><span class="c1">-- Calculate topic cluster</span>
</span><span id="__span-27-7"><a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="w">    </span><span class="n">SUBSTRING_INDEX</span><span class="p">(</span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39; &#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">topic_cluster</span>
</span><span id="__span-27-8"><a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a><span class="k">FROM</span><span class="w"> </span><span class="n">wp_search_logs</span>
</span><span id="__span-27-9"><a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a><span class="k">WHERE</span><span class="w"> </span><span class="k">timestamp</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">DATE_SUB</span><span class="p">(</span><span class="n">NOW</span><span class="p">(),</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="k">DAY</span><span class="p">)</span>
</span><span id="__span-27-10"><a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a><span class="k">AND</span><span class="w"> </span><span class="n">num_results</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3</span>
</span><span id="__span-27-11"><a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">query</span>
</span><span id="__span-27-12"><a id="__codelineno-27-12" name="__codelineno-27-12" href="#__codelineno-27-12"></a><span class="k">HAVING</span><span class="w"> </span><span class="n">search_frequency</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">5</span>
</span><span id="__span-27-13"><a id="__codelineno-27-13" name="__codelineno-27-13" href="#__codelineno-27-13"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">search_frequency</span><span class="w"> </span><span class="k">DESC</span><span class="p">;</span>
</span></code></pre></div>
<p><strong>Content creation priorities:</strong></p>
<ol>
<li>High-volume, zero-result queries</li>
<li>High-conversion-intent queries with limited results</li>
<li>Emerging trend queries</li>
<li>Common question patterns without answers</li>
</ol>
<hr />
<h2 id="advanced_signal_analysis">Advanced Signal Analysis<a class="headerlink" href="#advanced_signal_analysis" title="Permanent link">&para;</a></h2>
<h3 id="machine_learning_opportunities">Machine Learning Opportunities<a class="headerlink" href="#machine_learning_opportunities" title="Permanent link">&para;</a></h3>
<h4 id="automated_intent_detection">Automated Intent Detection<a class="headerlink" href="#automated_intent_detection" title="Permanent link">&para;</a></h4>
<p><strong>Training Data Collection:</strong></p>
<p>Collect labeled examples:</p>
<ul>
<li>Historical queries with manual intent labels</li>
<li>Click patterns as intent indicators (navigational = single click on top result, informational = multiple clicks, etc.)</li>
<li>Session context (previous queries, time on site)</li>
</ul>
<p><strong>Model Approach:</strong></p>
<p>Use a text classification model:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.feature_extraction.text</span><span class="w"> </span><span class="kn">import</span> <span class="n">TfidfVectorizer</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.naive_bayes</span><span class="w"> </span><span class="kn">import</span> <span class="n">MultinomialNB</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.pipeline</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pipeline</span>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="c1"># Prepare training data</span>
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="n">training_queries</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a>    <span class="p">(</span><span class="s2">&quot;contact us&quot;</span><span class="p">,</span> <span class="s2">&quot;navigational&quot;</span><span class="p">),</span>
</span><span id="__span-28-8"><a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a>    <span class="p">(</span><span class="s2">&quot;about page&quot;</span><span class="p">,</span> <span class="s2">&quot;navigational&quot;</span><span class="p">),</span>
</span><span id="__span-28-9"><a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a>    <span class="p">(</span><span class="s2">&quot;how to install wordpress&quot;</span><span class="p">,</span> <span class="s2">&quot;informational&quot;</span><span class="p">),</span>
</span><span id="__span-28-10"><a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a>    <span class="p">(</span><span class="s2">&quot;wordpress tutorial&quot;</span><span class="p">,</span> <span class="s2">&quot;informational&quot;</span><span class="p">),</span>
</span><span id="__span-28-11"><a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a>    <span class="p">(</span><span class="s2">&quot;buy premium theme&quot;</span><span class="p">,</span> <span class="s2">&quot;transactional&quot;</span><span class="p">),</span>
</span><span id="__span-28-12"><a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a>    <span class="p">(</span><span class="s2">&quot;download plugin&quot;</span><span class="p">,</span> <span class="s2">&quot;transactional&quot;</span><span class="p">),</span>
</span><span id="__span-28-13"><a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a>    <span class="c1"># ... more training examples</span>
</span><span id="__span-28-14"><a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a><span class="p">]</span>
</span><span id="__span-28-15"><a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a>
</span><span id="__span-28-16"><a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a><span class="n">queries</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">training_queries</span><span class="p">)</span>
</span><span id="__span-28-17"><a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a>
</span><span id="__span-28-18"><a id="__codelineno-28-18" name="__codelineno-28-18" href="#__codelineno-28-18"></a><span class="c1"># Create and train model</span>
</span><span id="__span-28-19"><a id="__codelineno-28-19" name="__codelineno-28-19" href="#__codelineno-28-19"></a><span class="n">model</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">([</span>
</span><span id="__span-28-20"><a id="__codelineno-28-20" name="__codelineno-28-20" href="#__codelineno-28-20"></a>    <span class="p">(</span><span class="s1">&#39;tfidf&#39;</span><span class="p">,</span> <span class="n">TfidfVectorizer</span><span class="p">(</span><span class="n">ngram_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))),</span>
</span><span id="__span-28-21"><a id="__codelineno-28-21" name="__codelineno-28-21" href="#__codelineno-28-21"></a>    <span class="p">(</span><span class="s1">&#39;classifier&#39;</span><span class="p">,</span> <span class="n">MultinomialNB</span><span class="p">())</span>
</span><span id="__span-28-22"><a id="__codelineno-28-22" name="__codelineno-28-22" href="#__codelineno-28-22"></a><span class="p">])</span>
</span><span id="__span-28-23"><a id="__codelineno-28-23" name="__codelineno-28-23" href="#__codelineno-28-23"></a>
</span><span id="__span-28-24"><a id="__codelineno-28-24" name="__codelineno-28-24" href="#__codelineno-28-24"></a><span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">queries</span><span class="p">,</span> <span class="n">labels</span><span class="p">)</span>
</span><span id="__span-28-25"><a id="__codelineno-28-25" name="__codelineno-28-25" href="#__codelineno-28-25"></a>
</span><span id="__span-28-26"><a id="__codelineno-28-26" name="__codelineno-28-26" href="#__codelineno-28-26"></a><span class="c1"># Predict intent for new query</span>
</span><span id="__span-28-27"><a id="__codelineno-28-27" name="__codelineno-28-27" href="#__codelineno-28-27"></a><span class="n">new_query</span> <span class="o">=</span> <span class="s2">&quot;wordpress security tips&quot;</span>
</span><span id="__span-28-28"><a id="__codelineno-28-28" name="__codelineno-28-28" href="#__codelineno-28-28"></a><span class="n">predicted_intent</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">([</span><span class="n">new_query</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="__span-28-29"><a id="__codelineno-28-29" name="__codelineno-28-29" href="#__codelineno-28-29"></a><span class="n">confidence</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">predict_proba</span><span class="p">([</span><span class="n">new_query</span><span class="p">])[</span><span class="mi">0</span><span class="p">])</span>
</span></code></pre></div>
<p><strong>Features for Intent Detection:</strong></p>
<ul>
<li>Query text (TF-IDF vectors)</li>
<li>Query length</li>
<li>Presence of question words</li>
<li>Presence of action verbs</li>
<li>User's search history</li>
<li>Time of day</li>
<li>Session context</li>
</ul>
<p><strong>Continuous Learning:</strong></p>
<p>Update the model regularly:
1. Collect new labeled data from user behavior
2. Retrain model monthly
3. Validate accuracy against held-out test set
4. Deploy improved model</p>
<h4 id="learning_to_rank">Learning to Rank<a class="headerlink" href="#learning_to_rank" title="Permanent link">&para;</a></h4>
<p><strong>Signal-Based Ranking Model:</strong></p>
<p>Use historical engagement data to train a ranking model:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">lightgbm</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">lgb</span>
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="c1"># Feature engineering</span>
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="k">def</span><span class="w"> </span><span class="nf">extract_features</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">document</span><span class="p">,</span> <span class="n">historical_data</span><span class="p">):</span>
</span><span id="__span-29-6"><a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a>    <span class="k">return</span> <span class="p">{</span>
</span><span id="__span-29-7"><a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a>        <span class="s1">&#39;bm25_score&#39;</span><span class="p">:</span> <span class="n">calculate_bm25</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">document</span><span class="p">),</span>
</span><span id="__span-29-8"><a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a>        <span class="s1">&#39;title_match&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">query</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">document</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">lower</span><span class="p">()),</span>
</span><span id="__span-29-9"><a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a>        <span class="s1">&#39;exact_match&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">query</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">document</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">lower</span><span class="p">()),</span>
</span><span id="__span-29-10"><a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a>        <span class="s1">&#39;historical_ctr&#39;</span><span class="p">:</span> <span class="n">historical_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;ctr&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
</span><span id="__span-29-11"><a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a>        <span class="s1">&#39;avg_dwell_time&#39;</span><span class="p">:</span> <span class="n">historical_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;dwell_time&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
</span><span id="__span-29-12"><a id="__codelineno-29-12" name="__codelineno-29-12" href="#__codelineno-29-12"></a>        <span class="s1">&#39;conversion_rate&#39;</span><span class="p">:</span> <span class="n">historical_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;conversion_rate&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
</span><span id="__span-29-13"><a id="__codelineno-29-13" name="__codelineno-29-13" href="#__codelineno-29-13"></a>        <span class="s1">&#39;freshness&#39;</span><span class="p">:</span> <span class="n">days_since_published</span><span class="p">(</span><span class="n">document</span><span class="p">),</span>
</span><span id="__span-29-14"><a id="__codelineno-29-14" name="__codelineno-29-14" href="#__codelineno-29-14"></a>        <span class="s1">&#39;authority_score&#39;</span><span class="p">:</span> <span class="n">document</span><span class="o">.</span><span class="n">author_reputation</span><span class="p">,</span>
</span><span id="__span-29-15"><a id="__codelineno-29-15" name="__codelineno-29-15" href="#__codelineno-29-15"></a>        <span class="s1">&#39;content_length&#39;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">content</span><span class="p">),</span>
</span><span id="__span-29-16"><a id="__codelineno-29-16" name="__codelineno-29-16" href="#__codelineno-29-16"></a>        <span class="s1">&#39;num_images&#39;</span><span class="p">:</span> <span class="n">document</span><span class="o">.</span><span class="n">image_count</span>
</span><span id="__span-29-17"><a id="__codelineno-29-17" name="__codelineno-29-17" href="#__codelineno-29-17"></a>    <span class="p">}</span>
</span><span id="__span-29-18"><a id="__codelineno-29-18" name="__codelineno-29-18" href="#__codelineno-29-18"></a>
</span><span id="__span-29-19"><a id="__codelineno-29-19" name="__codelineno-29-19" href="#__codelineno-29-19"></a><span class="c1"># Training data format: query, document, relevance_label (0-4)</span>
</span><span id="__span-29-20"><a id="__codelineno-29-20" name="__codelineno-29-20" href="#__codelineno-29-20"></a><span class="n">training_data</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-29-21"><a id="__codelineno-29-21" name="__codelineno-29-21" href="#__codelineno-29-21"></a><span class="k">for</span> <span class="n">query</span> <span class="ow">in</span> <span class="n">training_queries</span><span class="p">:</span>
</span><span id="__span-29-22"><a id="__codelineno-29-22" name="__codelineno-29-22" href="#__codelineno-29-22"></a>    <span class="k">for</span> <span class="n">doc</span><span class="p">,</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">get_labeled_documents</span><span class="p">(</span><span class="n">query</span><span class="p">):</span>
</span><span id="__span-29-23"><a id="__codelineno-29-23" name="__codelineno-29-23" href="#__codelineno-29-23"></a>        <span class="n">features</span> <span class="o">=</span> <span class="n">extract_features</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">doc</span><span class="p">,</span> <span class="n">get_historical_data</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">doc</span><span class="p">))</span>
</span><span id="__span-29-24"><a id="__codelineno-29-24" name="__codelineno-29-24" href="#__codelineno-29-24"></a>        <span class="n">training_data</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">features</span><span class="p">,</span> <span class="n">label</span><span class="p">))</span>
</span><span id="__span-29-25"><a id="__codelineno-29-25" name="__codelineno-29-25" href="#__codelineno-29-25"></a>
</span><span id="__span-29-26"><a id="__codelineno-29-26" name="__codelineno-29-26" href="#__codelineno-29-26"></a><span class="c1"># Train LightGBM ranker</span>
</span><span id="__span-29-27"><a id="__codelineno-29-27" name="__codelineno-29-27" href="#__codelineno-29-27"></a><span class="n">X</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span><span class="p">,</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">training_data</span><span class="p">]</span>
</span><span id="__span-29-28"><a id="__codelineno-29-28" name="__codelineno-29-28" href="#__codelineno-29-28"></a><span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">l</span> <span class="k">for</span> <span class="n">f</span><span class="p">,</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">training_data</span><span class="p">]</span>
</span><span id="__span-29-29"><a id="__codelineno-29-29" name="__codelineno-29-29" href="#__codelineno-29-29"></a>
</span><span id="__span-29-30"><a id="__codelineno-29-30" name="__codelineno-29-30" href="#__codelineno-29-30"></a><span class="n">model</span> <span class="o">=</span> <span class="n">lgb</span><span class="o">.</span><span class="n">LGBMRanker</span><span class="p">(</span>
</span><span id="__span-29-31"><a id="__codelineno-29-31" name="__codelineno-29-31" href="#__codelineno-29-31"></a>    <span class="n">objective</span><span class="o">=</span><span class="s1">&#39;lambdarank&#39;</span><span class="p">,</span>
</span><span id="__span-29-32"><a id="__codelineno-29-32" name="__codelineno-29-32" href="#__codelineno-29-32"></a>    <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;ndcg&#39;</span><span class="p">,</span>
</span><span id="__span-29-33"><a id="__codelineno-29-33" name="__codelineno-29-33" href="#__codelineno-29-33"></a>    <span class="n">n_estimators</span><span class="o">=</span><span class="mi">100</span>
</span><span id="__span-29-34"><a id="__codelineno-29-34" name="__codelineno-29-34" href="#__codelineno-29-34"></a><span class="p">)</span>
</span><span id="__span-29-35"><a id="__codelineno-29-35" name="__codelineno-29-35" href="#__codelineno-29-35"></a>
</span><span id="__span-29-36"><a id="__codelineno-29-36" name="__codelineno-29-36" href="#__codelineno-29-36"></a><span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">get_labeled_documents</span><span class="p">(</span><span class="n">q</span><span class="p">))</span> <span class="k">for</span> <span class="n">q</span> <span class="ow">in</span> <span class="n">training_queries</span><span class="p">])</span>
</span></code></pre></div>
<p><strong>Signals for Ranking Model:</strong></p>
<ul>
<li>Historical click-through rates for query-document pairs</li>
<li>Average dwell time patterns</li>
<li>User feedback (if available - thumbs up/down)</li>
<li>Content metadata (freshness, authority, completeness)</li>
<li>BM25 or other text matching scores</li>
<li>Semantic similarity scores</li>
<li>User personalization signals</li>
</ul>
<p><strong>Reranking Pipeline:</strong></p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">rerank_results</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">initial_results</span><span class="p">,</span> <span class="n">user_context</span><span class="p">):</span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a>    <span class="c1"># Extract features for each result</span>
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a>    <span class="n">features</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a>    <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">initial_results</span><span class="p">:</span>
</span><span id="__span-30-5"><a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a>        <span class="n">hist_data</span> <span class="o">=</span> <span class="n">get_historical_signals</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</span><span id="__span-30-6"><a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a>        <span class="n">feat</span> <span class="o">=</span> <span class="n">extract_features</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">result</span><span class="p">,</span> <span class="n">hist_data</span><span class="p">)</span>
</span><span id="__span-30-7"><a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a>        <span class="n">features</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">feat</span><span class="p">)</span>
</span><span id="__span-30-8"><a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a>
</span><span id="__span-30-9"><a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a>    <span class="c1"># Predict relevance scores</span>
</span><span id="__span-30-10"><a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a>    <span class="n">scores</span> <span class="o">=</span> <span class="n">ranking_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">features</span><span class="p">)</span>
</span><span id="__span-30-11"><a id="__codelineno-30-11" name="__codelineno-30-11" href="#__codelineno-30-11"></a>
</span><span id="__span-30-12"><a id="__codelineno-30-12" name="__codelineno-30-12" href="#__codelineno-30-12"></a>    <span class="c1"># Rerank based on predicted scores</span>
</span><span id="__span-30-13"><a id="__codelineno-30-13" name="__codelineno-30-13" href="#__codelineno-30-13"></a>    <span class="n">ranked_results</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span>
</span><span id="__span-30-14"><a id="__codelineno-30-14" name="__codelineno-30-14" href="#__codelineno-30-14"></a>        <span class="nb">zip</span><span class="p">(</span><span class="n">initial_results</span><span class="p">,</span> <span class="n">scores</span><span class="p">),</span>
</span><span id="__span-30-15"><a id="__codelineno-30-15" name="__codelineno-30-15" href="#__codelineno-30-15"></a>        <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
</span><span id="__span-30-16"><a id="__codelineno-30-16" name="__codelineno-30-16" href="#__codelineno-30-16"></a>        <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span>
</span><span id="__span-30-17"><a id="__codelineno-30-17" name="__codelineno-30-17" href="#__codelineno-30-17"></a>    <span class="p">)</span>
</span><span id="__span-30-18"><a id="__codelineno-30-18" name="__codelineno-30-18" href="#__codelineno-30-18"></a>
</span><span id="__span-30-19"><a id="__codelineno-30-19" name="__codelineno-30-19" href="#__codelineno-30-19"></a>    <span class="k">return</span> <span class="p">[</span><span class="n">r</span> <span class="k">for</span> <span class="n">r</span><span class="p">,</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">ranked_results</span><span class="p">]</span>
</span></code></pre></div>
<h3 id="personalization_signals">Personalization Signals<a class="headerlink" href="#personalization_signals" title="Permanent link">&para;</a></h3>
<p><strong>User History:</strong></p>
<ul>
<li>Previous successful searches</li>
<li>Content categories engaged with</li>
<li>Conversion history</li>
<li>Search time patterns</li>
<li>Preferred content types</li>
</ul>
<p><strong>Contextual Signals:</strong></p>
<ul>
<li>Device type (mobile users might have different intent)</li>
<li>Time of day (morning research vs. evening quick answers)</li>
<li>Geographic location (if relevant)</li>
<li>Referral source (organic vs. paid vs. direct)</li>
<li>Session depth (new visitor vs. returning user)</li>
</ul>
<p><strong>Implementation Example:</strong></p>
<div class="language-php highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="x">function personalize_search_results($query, $results, $user_id) {</span>
</span><span id="__span-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="x">    if (!$user_id) {</span>
</span><span id="__span-31-3"><a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="x">        return $results; // No personalization for anonymous users</span>
</span><span id="__span-31-4"><a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="x">    }</span>
</span><span id="__span-31-5"><a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a>
</span><span id="__span-31-6"><a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="x">    // Get user preferences</span>
</span><span id="__span-31-7"><a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="x">    $user_prefs = get_user_search_preferences($user_id);</span>
</span><span id="__span-31-8"><a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a>
</span><span id="__span-31-9"><a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a><span class="x">    // Adjust ranking based on preferences</span>
</span><span id="__span-31-10"><a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a><span class="x">    foreach ($results as &amp;$result) {</span>
</span><span id="__span-31-11"><a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a><span class="x">        $boost = 1.0;</span>
</span><span id="__span-31-12"><a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a>
</span><span id="__span-31-13"><a id="__codelineno-31-13" name="__codelineno-31-13" href="#__codelineno-31-13"></a><span class="x">        // Boost based on user&#39;s preferred categories</span>
</span><span id="__span-31-14"><a id="__codelineno-31-14" name="__codelineno-31-14" href="#__codelineno-31-14"></a><span class="x">        if (in_array($result-&gt;category, $user_prefs[&#39;favorite_categories&#39;])) {</span>
</span><span id="__span-31-15"><a id="__codelineno-31-15" name="__codelineno-31-15" href="#__codelineno-31-15"></a><span class="x">            $boost *= 1.3;</span>
</span><span id="__span-31-16"><a id="__codelineno-31-16" name="__codelineno-31-16" href="#__codelineno-31-16"></a><span class="x">        }</span>
</span><span id="__span-31-17"><a id="__codelineno-31-17" name="__codelineno-31-17" href="#__codelineno-31-17"></a>
</span><span id="__span-31-18"><a id="__codelineno-31-18" name="__codelineno-31-18" href="#__codelineno-31-18"></a><span class="x">        // Boost based on user&#39;s preferred content types</span>
</span><span id="__span-31-19"><a id="__codelineno-31-19" name="__codelineno-31-19" href="#__codelineno-31-19"></a><span class="x">        if ($result-&gt;post_type === $user_prefs[&#39;preferred_post_type&#39;]) {</span>
</span><span id="__span-31-20"><a id="__codelineno-31-20" name="__codelineno-31-20" href="#__codelineno-31-20"></a><span class="x">            $boost *= 1.2;</span>
</span><span id="__span-31-21"><a id="__codelineno-31-21" name="__codelineno-31-21" href="#__codelineno-31-21"></a><span class="x">        }</span>
</span><span id="__span-31-22"><a id="__codelineno-31-22" name="__codelineno-31-22" href="#__codelineno-31-22"></a>
</span><span id="__span-31-23"><a id="__codelineno-31-23" name="__codelineno-31-23" href="#__codelineno-31-23"></a><span class="x">        // Boost based on historical engagement</span>
</span><span id="__span-31-24"><a id="__codelineno-31-24" name="__codelineno-31-24" href="#__codelineno-31-24"></a><span class="x">        if (in_array($result-&gt;id, $user_prefs[&#39;previously_engaged&#39;])) {</span>
</span><span id="__span-31-25"><a id="__codelineno-31-25" name="__codelineno-31-25" href="#__codelineno-31-25"></a><span class="x">            $boost *= 0.8; // Slight de-boost to show variety</span>
</span><span id="__span-31-26"><a id="__codelineno-31-26" name="__codelineno-31-26" href="#__codelineno-31-26"></a><span class="x">        }</span>
</span><span id="__span-31-27"><a id="__codelineno-31-27" name="__codelineno-31-27" href="#__codelineno-31-27"></a>
</span><span id="__span-31-28"><a id="__codelineno-31-28" name="__codelineno-31-28" href="#__codelineno-31-28"></a><span class="x">        $result-&gt;score *= $boost;</span>
</span><span id="__span-31-29"><a id="__codelineno-31-29" name="__codelineno-31-29" href="#__codelineno-31-29"></a><span class="x">    }</span>
</span><span id="__span-31-30"><a id="__codelineno-31-30" name="__codelineno-31-30" href="#__codelineno-31-30"></a>
</span><span id="__span-31-31"><a id="__codelineno-31-31" name="__codelineno-31-31" href="#__codelineno-31-31"></a><span class="x">    // Re-sort by adjusted scores</span>
</span><span id="__span-31-32"><a id="__codelineno-31-32" name="__codelineno-31-32" href="#__codelineno-31-32"></a><span class="x">    usort($results, function($a, $b) {</span>
</span><span id="__span-31-33"><a id="__codelineno-31-33" name="__codelineno-31-33" href="#__codelineno-31-33"></a><span class="x">        return $b-&gt;score - $a-&gt;score;</span>
</span><span id="__span-31-34"><a id="__codelineno-31-34" name="__codelineno-31-34" href="#__codelineno-31-34"></a><span class="x">    });</span>
</span><span id="__span-31-35"><a id="__codelineno-31-35" name="__codelineno-31-35" href="#__codelineno-31-35"></a>
</span><span id="__span-31-36"><a id="__codelineno-31-36" name="__codelineno-31-36" href="#__codelineno-31-36"></a><span class="x">    return $results;</span>
</span><span id="__span-31-37"><a id="__codelineno-31-37" name="__codelineno-31-37" href="#__codelineno-31-37"></a><span class="x">}</span>
</span></code></pre></div>
<p><strong>Implementation Considerations:</strong></p>
<ul>
<li>Balance personalization with privacy concerns</li>
<li>Provide non-personalized option</li>
<li>Avoid filter bubbles (show diverse results)</li>
<li>Test personalization impact on satisfaction</li>
<li>Make personalization transparent to users</li>
<li>Allow users to reset preferences</li>
</ul>
<p><strong>A/B Testing Personalization:</strong></p>
<p>Compare personalized vs. non-personalized results:
- Engagement metrics (CTR, dwell time)
- User satisfaction scores
- Conversion rates
- Session success rates</p>
<h3 id="semantic_search_integration">Semantic Search Integration<a class="headerlink" href="#semantic_search_integration" title="Permanent link">&para;</a></h3>
<p><strong>Using Signals to Tune Semantic Search:</strong></p>
<p>When implementing semantic search with embeddings:</p>
<ol>
<li><strong>Validate Improvement:</strong> Compare engagement metrics before/after semantic search</li>
<li><strong>Tune Weights:</strong> Balance keyword matching vs. semantic similarity</li>
<li><strong>Identify Where Semantic Helps:</strong> Track which query types benefit most</li>
</ol>
<p><strong>Hybrid Search Approach:</strong></p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">hybrid_search</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">intent</span><span class="p">,</span> <span class="n">confidence</span><span class="p">):</span>
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a>    <span class="c1"># Get results from both keyword and semantic search</span>
</span><span id="__span-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a>    <span class="n">keyword_results</span> <span class="o">=</span> <span class="n">bm25_search</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</span><span id="__span-32-4"><a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a>    <span class="n">semantic_results</span> <span class="o">=</span> <span class="n">vector_search</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</span><span id="__span-32-5"><a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a>
</span><span id="__span-32-6"><a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a>    <span class="c1"># Adjust weights based on intent</span>
</span><span id="__span-32-7"><a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a>    <span class="k">if</span> <span class="n">intent</span> <span class="o">==</span> <span class="s1">&#39;navigational&#39;</span> <span class="ow">and</span> <span class="n">confidence</span> <span class="o">&gt;</span> <span class="mf">0.7</span><span class="p">:</span>
</span><span id="__span-32-8"><a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a>        <span class="n">keyword_weight</span> <span class="o">=</span> <span class="mf">0.9</span>
</span><span id="__span-32-9"><a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a>        <span class="n">semantic_weight</span> <span class="o">=</span> <span class="mf">0.1</span>
</span><span id="__span-32-10"><a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a>    <span class="k">elif</span> <span class="n">intent</span> <span class="o">==</span> <span class="s1">&#39;informational&#39;</span> <span class="ow">and</span> <span class="n">confidence</span> <span class="o">&gt;</span> <span class="mf">0.7</span><span class="p">:</span>
</span><span id="__span-32-11"><a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a>        <span class="n">keyword_weight</span> <span class="o">=</span> <span class="mf">0.4</span>
</span><span id="__span-32-12"><a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a>        <span class="n">semantic_weight</span> <span class="o">=</span> <span class="mf">0.6</span>
</span><span id="__span-32-13"><a id="__codelineno-32-13" name="__codelineno-32-13" href="#__codelineno-32-13"></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="__span-32-14"><a id="__codelineno-32-14" name="__codelineno-32-14" href="#__codelineno-32-14"></a>        <span class="n">keyword_weight</span> <span class="o">=</span> <span class="mf">0.6</span>
</span><span id="__span-32-15"><a id="__codelineno-32-15" name="__codelineno-32-15" href="#__codelineno-32-15"></a>        <span class="n">semantic_weight</span> <span class="o">=</span> <span class="mf">0.4</span>
</span><span id="__span-32-16"><a id="__codelineno-32-16" name="__codelineno-32-16" href="#__codelineno-32-16"></a>
</span><span id="__span-32-17"><a id="__codelineno-32-17" name="__codelineno-32-17" href="#__codelineno-32-17"></a>    <span class="c1"># Combine and rerank</span>
</span><span id="__span-32-18"><a id="__codelineno-32-18" name="__codelineno-32-18" href="#__codelineno-32-18"></a>    <span class="n">combined_scores</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="__span-32-19"><a id="__codelineno-32-19" name="__codelineno-32-19" href="#__codelineno-32-19"></a>    <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">keyword_results</span><span class="p">:</span>
</span><span id="__span-32-20"><a id="__codelineno-32-20" name="__codelineno-32-20" href="#__codelineno-32-20"></a>        <span class="n">combined_scores</span><span class="p">[</span><span class="n">result</span><span class="o">.</span><span class="n">id</span><span class="p">]</span> <span class="o">=</span> <span class="n">keyword_weight</span> <span class="o">*</span> <span class="n">result</span><span class="o">.</span><span class="n">score</span>
</span><span id="__span-32-21"><a id="__codelineno-32-21" name="__codelineno-32-21" href="#__codelineno-32-21"></a>
</span><span id="__span-32-22"><a id="__codelineno-32-22" name="__codelineno-32-22" href="#__codelineno-32-22"></a>    <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">semantic_results</span><span class="p">:</span>
</span><span id="__span-32-23"><a id="__codelineno-32-23" name="__codelineno-32-23" href="#__codelineno-32-23"></a>        <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">id</span> <span class="ow">in</span> <span class="n">combined_scores</span><span class="p">:</span>
</span><span id="__span-32-24"><a id="__codelineno-32-24" name="__codelineno-32-24" href="#__codelineno-32-24"></a>            <span class="n">combined_scores</span><span class="p">[</span><span class="n">result</span><span class="o">.</span><span class="n">id</span><span class="p">]</span> <span class="o">+=</span> <span class="n">semantic_weight</span> <span class="o">*</span> <span class="n">result</span><span class="o">.</span><span class="n">score</span>
</span><span id="__span-32-25"><a id="__codelineno-32-25" name="__codelineno-32-25" href="#__codelineno-32-25"></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="__span-32-26"><a id="__codelineno-32-26" name="__codelineno-32-26" href="#__codelineno-32-26"></a>            <span class="n">combined_scores</span><span class="p">[</span><span class="n">result</span><span class="o">.</span><span class="n">id</span><span class="p">]</span> <span class="o">=</span> <span class="n">semantic_weight</span> <span class="o">*</span> <span class="n">result</span><span class="o">.</span><span class="n">score</span>
</span><span id="__span-32-27"><a id="__codelineno-32-27" name="__codelineno-32-27" href="#__codelineno-32-27"></a>
</span><span id="__span-32-28"><a id="__codelineno-32-28" name="__codelineno-32-28" href="#__codelineno-32-28"></a>    <span class="c1"># Sort and return</span>
</span><span id="__span-32-29"><a id="__codelineno-32-29" name="__codelineno-32-29" href="#__codelineno-32-29"></a>    <span class="n">ranked_ids</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">combined_scores</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-32-30"><a id="__codelineno-32-30" name="__codelineno-32-30" href="#__codelineno-32-30"></a>    <span class="k">return</span> <span class="p">[</span><span class="n">get_document</span><span class="p">(</span><span class="n">doc_id</span><span class="p">)</span> <span class="k">for</span> <span class="n">doc_id</span><span class="p">,</span> <span class="n">score</span> <span class="ow">in</span> <span class="n">ranked_ids</span><span class="p">]</span>
</span></code></pre></div>
<p><strong>Track Semantic Search Effectiveness:</strong></p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="k">SELECT</span><span class="w"> </span>
</span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="w">    </span><span class="n">sl</span><span class="p">.</span><span class="n">query</span><span class="p">,</span>
</span><span id="__span-33-3"><a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="w">    </span><span class="k">AVG</span><span class="p">(</span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">search_method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;semantic&#39;</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">sq</span><span class="p">.</span><span class="n">relevance_score</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">END</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">semantic_relevance</span><span class="p">,</span>
</span><span id="__span-33-4"><a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="w">    </span><span class="k">AVG</span><span class="p">(</span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">search_method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;keyword&#39;</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">sq</span><span class="p">.</span><span class="n">relevance_score</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">END</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">keyword_relevance</span><span class="p">,</span>
</span><span id="__span-33-5"><a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="w">    </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">total_searches</span>
</span><span id="__span-33-6"><a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="k">FROM</span><span class="w"> </span><span class="n">wp_search_logs</span><span class="w"> </span><span class="n">sl</span>
</span><span id="__span-33-7"><a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a><span class="k">JOIN</span><span class="w"> </span><span class="n">wp_search_quality</span><span class="w"> </span><span class="n">sq</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sq</span><span class="p">.</span><span class="n">query</span>
</span><span id="__span-33-8"><a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="k">timestamp</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">DATE_SUB</span><span class="p">(</span><span class="n">NOW</span><span class="p">(),</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="k">DAY</span><span class="p">)</span>
</span><span id="__span-33-9"><a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">query</span>
</span><span id="__span-33-10"><a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a><span class="k">HAVING</span><span class="w"> </span><span class="n">total_searches</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">10</span>
</span><span id="__span-33-11"><a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="p">(</span><span class="n">semantic_relevance</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">keyword_relevance</span><span class="p">)</span><span class="w"> </span><span class="k">DESC</span><span class="p">;</span>
</span></code></pre></div>
<h2 id="common_pitfalls_and_solutions">Common Pitfalls and Solutions<a class="headerlink" href="#common_pitfalls_and_solutions" title="Permanent link">&para;</a></h2>
<h3 id="pitfall_1_over-optimizing_for_click-through_rate">Pitfall 1: Over-Optimizing for Click-Through Rate<a class="headerlink" href="#pitfall_1_over-optimizing_for_click-through_rate" title="Permanent link">&para;</a></h3>
<p><strong>Problem:</strong> High CTR doesn't always mean good search quality. Users might click irrelevant results due to misleading titles or because all results are poor.</p>
<p><strong>Solution:</strong> Always combine CTR with dwell time and return-to-search metrics. A high CTR with low dwell time indicates misleading results.</p>
<p><strong>Example:</strong></p>
<ul>
<li>Query: "wordpress backup"</li>
<li>Result 1: "The Ultimate Guide to WordPress Backup" (CTR: 80%, Dwell: 8s)</li>
<li>Result 2: "WordPress Backup Plugin Tutorial" (CTR: 45%, Dwell: 180s)</li>
</ul>
<p>Result 1 has higher CTR but Result 2 is actually more valuable.</p>
<h3 id="pitfall_2_ignoring_long-tail_queries">Pitfall 2: Ignoring Long-Tail Queries<a class="headerlink" href="#pitfall_2_ignoring_long-tail_queries" title="Permanent link">&para;</a></h3>
<p><strong>Problem:</strong> Focusing only on high-volume queries neglects 70% of searches, which often have specific, valuable intent.</p>
<p><strong>Solution:</strong> Set quality benchmarks for all query types. Rare queries still deserve good results. Track satisfaction scores across frequency tiers.</p>
<p><strong>Segmentation:</strong></p>
<ul>
<li>High-volume (&gt;100/month): Optimize heavily</li>
<li>Medium-volume (10-100/month): Monitor and improve</li>
<li>Long-tail (&lt;10/month): Ensure baseline quality</li>
</ul>
<h3 id="pitfall_3_not_accounting_for_intent_differences">Pitfall 3: Not Accounting for Intent Differences<a class="headerlink" href="#pitfall_3_not_accounting_for_intent_differences" title="Permanent link">&para;</a></h3>
<p><strong>Problem:</strong> Treating all queries the same leads to poor results for specific intent types. Showing blog posts to users with transactional intent frustrates them.</p>
<p><strong>Solution:</strong> Develop separate optimization strategies for each intent category. Adjust ranking algorithms based on detected intent.</p>
<p><strong>Intent-Specific Metrics:</strong></p>
<ul>
<li>Navigational: Time to first click (should be fast)</li>
<li>Informational: Number of results explored (higher is okay)</li>
<li>Transactional: Conversion rate (most important)</li>
</ul>
<h3 id="pitfall_4_data_hoarding_without_action">Pitfall 4: Data Hoarding Without Action<a class="headerlink" href="#pitfall_4_data_hoarding_without_action" title="Permanent link">&para;</a></h3>
<p><strong>Problem:</strong> Collecting extensive data but never using it to improve search. Analysis paralysis prevents implementation.</p>
<p><strong>Solution:</strong> Establish regular analysis routines and commit to implementing changes. Start small with weekly quick wins.</p>
<p><strong>Action Framework:</strong></p>
<ul>
<li>Daily: Monitor for critical issues</li>
<li>Weekly: Fix top 3 problem queries</li>
<li>Monthly: Implement 1-2 algorithmic improvements</li>
<li>Quarterly: Major feature additions</li>
</ul>
<h3 id="pitfall_5_forgetting_the_human_element">Pitfall 5: Forgetting the Human Element<a class="headerlink" href="#pitfall_5_forgetting_the_human_element" title="Permanent link">&para;</a></h3>
<p><strong>Problem:</strong> Over-reliance on automated signals without understanding user context. Metrics don't capture everything.</p>
<p><strong>Solution:</strong> Combine quantitative signals with qualitative research:</p>
<ul>
<li>User interviews (why do you search this way?)</li>
<li>Survey pop-ups (was this helpful?)</li>
<li>User testing sessions</li>
<li>Support ticket analysis</li>
</ul>
<p><strong>Balanced Approach:</strong></p>
<p>80% quantitative signals + 20% qualitative insights = best results</p>
<h3 id="pitfall_6_privacy_violations">Pitfall 6: Privacy Violations<a class="headerlink" href="#pitfall_6_privacy_violations" title="Permanent link">&para;</a></h3>
<p><strong>Problem:</strong> Tracking too much personal information or not respecting user privacy preferences.</p>
<p><strong>Solution:</strong></p>
<ul>
<li>Default to session-based tracking (no personal IDs)</li>
<li>Implement opt-out mechanisms</li>
<li>Regular data deletion schedules</li>
<li>Transparent privacy policy</li>
<li>GDPR/CCPA compliance</li>
</ul>
<h3 id="pitfall_7_not_testing_changes">Pitfall 7: Not Testing Changes<a class="headerlink" href="#pitfall_7_not_testing_changes" title="Permanent link">&para;</a></h3>
<p><strong>Problem:</strong> Implementing ranking changes without A/B testing can harm search quality without you realizing it.</p>
<p><strong>Solution:</strong> Always A/B test significant changes:</p>
<ul>
<li>Control group (20-50% of users)</li>
<li>Treatment group (50-80% of users)</li>
<li>Run for at least 1 week</li>
<li>Measure statistical significance</li>
<li>Roll back if metrics decline</li>
</ul>
<h3 id="pitfall_8_ignoring_mobile_vs_desktop_differences">Pitfall 8: Ignoring Mobile vs Desktop Differences<a class="headerlink" href="#pitfall_8_ignoring_mobile_vs_desktop_differences" title="Permanent link">&para;</a></h3>
<p><strong>Problem:</strong> Mobile and desktop users have different behaviors and needs, but search treats them the same.</p>
<p><strong>Solution:</strong> Track metrics separately by device type:</p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="k">SELECT</span><span class="w"> </span>
</span><span id="__span-34-2"><a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="w">    </span><span class="n">device_type</span><span class="p">,</span>
</span><span id="__span-34-3"><a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="w">    </span><span class="k">AVG</span><span class="p">(</span><span class="n">dwell_time</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">avg_dwell</span><span class="p">,</span>
</span><span id="__span-34-4"><a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="w">    </span><span class="k">COUNT</span><span class="p">(</span><span class="n">sc</span><span class="p">.</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">ctr</span>
</span><span id="__span-34-5"><a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a><span class="k">FROM</span><span class="w"> </span><span class="n">wp_search_logs</span><span class="w"> </span><span class="n">sl</span>
</span><span id="__span-34-6"><a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">wp_search_clicks</span><span class="w"> </span><span class="n">sc</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sc</span><span class="p">.</span><span class="n">search_log_id</span>
</span><span id="__span-34-7"><a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">device_type</span><span class="p">;</span>
</span></code></pre></div>
<p>Optimize accordingly:</p>
<ul>
<li>Mobile: Faster load times, concise results</li>
<li>Desktop: More detailed information, more results per page</li>
</ul>
<h3 id="success_metrics">Success Metrics<a class="headerlink" href="#success_metrics" title="Permanent link">&para;</a></h3>
<p>Track these month-over-month to measure improvement:</p>
<p><strong>Primary Metrics:</strong></p>
<ol>
<li>
<p><strong>Session Success Rate</strong></p>
</li>
<li>
<p>Target: &gt;70%</p>
</li>
<li>
<p>Measures: Overall search effectiveness</p>
</li>
<li>
<p><strong>Click-Through Rate</strong></p>
</li>
<li>
<p>Target: &gt;60%</p>
</li>
<li>
<p>Measures: Result relevance and presentation</p>
</li>
<li>
<p><strong>Average Satisfaction Score</strong></p>
</li>
<li>
<p>Target: &gt;70/100</p>
</li>
<li>Measures: Aggregate quality</li>
</ol>
<p><strong>Secondary Metrics:</strong></p>
<ol>
<li><strong>Zero-Result Query Rate</strong></li>
<li>Target: &lt;5%</li>
<li>
<p>Measures: Content coverage</p>
</li>
<li>
<p><strong>Query Refinement Rate</strong></p>
</li>
<li>
<p>Target: &lt;30%</p>
</li>
<li>
<p>Measures: First-query success</p>
</li>
<li>
<p><strong>Search-to-Conversion Rate</strong></p>
</li>
<li>
<p>Track improvement</p>
</li>
<li>
<p>Measures: Business impact</p>
</li>
<li>
<p><strong>Average Time-to-Success</strong></p>
</li>
<li>
<p>Track reduction</p>
</li>
<li>Measures: Efficiency</li>
</ol>
<p><strong>Monthly Progress Example:</strong></p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a>Month 1 (Baseline):
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a>- Success Rate: 55%
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a>- CTR: 48%
</span><span id="__span-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a>- Satisfaction: 58/100
</span><span id="__span-35-5"><a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a>- Zero Results: 12%
</span><span id="__span-35-6"><a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a>- Refinement Rate: 38%
</span><span id="__span-35-7"><a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a>
</span><span id="__span-35-8"><a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a>Month 2 (After initial improvements):
</span><span id="__span-35-9"><a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a>- Success Rate: 62% (+7%)
</span><span id="__span-35-10"><a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a>- CTR: 55% (+7%)
</span><span id="__span-35-11"><a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a>- Satisfaction: 64/100 (+6)
</span><span id="__span-35-12"><a id="__codelineno-35-12" name="__codelineno-35-12" href="#__codelineno-35-12"></a>- Zero Results: 8% (-4%)
</span><span id="__span-35-13"><a id="__codelineno-35-13" name="__codelineno-35-13" href="#__codelineno-35-13"></a>- Refinement Rate: 32% (-6%)
</span><span id="__span-35-14"><a id="__codelineno-35-14" name="__codelineno-35-14" href="#__codelineno-35-14"></a>
</span><span id="__span-35-15"><a id="__codelineno-35-15" name="__codelineno-35-15" href="#__codelineno-35-15"></a>Month 3 (After BM25 tuning):
</span><span id="__span-35-16"><a id="__codelineno-35-16" name="__codelineno-35-16" href="#__codelineno-35-16"></a>- Success Rate: 71% (+9%)
</span><span id="__span-35-17"><a id="__codelineno-35-17" name="__codelineno-35-17" href="#__codelineno-35-17"></a>- CTR: 64% (+9%)
</span><span id="__span-35-18"><a id="__codelineno-35-18" name="__codelineno-35-18" href="#__codelineno-35-18"></a>- Satisfaction: 73/100 (+9)
</span><span id="__span-35-19"><a id="__codelineno-35-19" name="__codelineno-35-19" href="#__codelineno-35-19"></a>- Zero Results: 4% (-4%)
</span><span id="__span-35-20"><a id="__codelineno-35-20" name="__codelineno-35-20" href="#__codelineno-35-20"></a>- Refinement Rate: 26% (-6%)
</span><span id="__span-35-21"><a id="__codelineno-35-21" name="__codelineno-35-21" href="#__codelineno-35-21"></a>
</span><span id="__span-35-22"><a id="__codelineno-35-22" name="__codelineno-35-22" href="#__codelineno-35-22"></a>Result: 29% improvement in success rate over 3 months
</span></code></pre></div>
<h2 id="key_takeaways">Key Takeaways<a class="headerlink" href="#key_takeaways" title="Permanent link">&para;</a></h2>
<h3 id="essential_principles">Essential Principles<a class="headerlink" href="#essential_principles" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><strong>Intent First:</strong> Always consider what users are trying to accomplish, not just what keywords they typed</p>
</li>
<li>
<p><strong>Actions Speak Louder:</strong> User behavior (clicks, dwell time, conversions) is more reliable than assumptions or explicit feedback</p>
</li>
<li>
<p><strong>Quality Over Quantity:</strong> A few highly relevant results beat many mediocre ones. Focus on top 5 results quality.</p>
</li>
<li>
<p><strong>Continuous Improvement:</strong> Search optimization is an ongoing process, not a one-time project. Commit to weekly improvements.</p>
</li>
<li>
<p><strong>Privacy Matters:</strong> Collect data responsibly and transparently. Respect user privacy while gathering insights.</p>
</li>
<li>
<p><strong>Context is Everything:</strong> Mobile vs desktop, time of day, user historyall affect search behavior. Segment your analysis.</p>
</li>
<li>
<p><strong>Test Before Deploying:</strong> Always A/B test significant changes. Intuition can be wrong about what improves search.</p>
</li>
<li>
<p><strong>Balance Signals:</strong> No single metric tells the whole story. Combine CTR, dwell time, conversions, and satisfaction scores.</p>
</li>
</ol>
<h3 id="the_continuous_improvement_cycle">The Continuous Improvement Cycle<a class="headerlink" href="#the_continuous_improvement_cycle" title="Permanent link">&para;</a></h3>
<p>Search signals create a feedback loop that drives perpetual improvement:</p>
<ol>
<li><strong>Collect signals</strong> from user behavior</li>
<li><strong>Analyze patterns</strong> to identify problems and opportunities</li>
<li><strong>Implement changes</strong> to ranking, content, or features</li>
<li><strong>Measure impact</strong> with signals</li>
<li><strong>Iterate</strong> based on results</li>
</ol>
<p>This cycle never ends. Even after achieving excellent metrics, user needs evolve, content changes, and new opportunities emerge.</p>
<h3 id="beyond_default_wordpress_search">Beyond Default WordPress Search<a class="headerlink" href="#beyond_default_wordpress_search" title="Permanent link">&para;</a></h3>
<p>Understanding search signals transforms your approach from:</p>
<p><strong>Before:</strong> "Let's add full-text search and hope it works better"</p>
<p><strong>After:</strong> "Let's implement FTS, measure engagement signals, identify which queries improve, retune parameters, validate with A/B testing, and continuously optimize based on real user behavior"</p>
<p>This data-driven approach ensures:
- Justifiable technical decisions
- Measurable ROI on search investments
- Continuous quality improvements
- Competitive advantage through superior search experience</p>
<h3 id="integration_with_advanced_technologies">Integration with Advanced Technologies<a class="headerlink" href="#integration_with_advanced_technologies" title="Permanent link">&para;</a></h3>
<p>As you implement advanced search technologies:</p>
<ul>
<li><strong>Full-Text Search:</strong> Use signals to tune MATCH AGAINST parameters and scoring</li>
<li><strong>BM25 Scoring:</strong> Optimize k1 and b parameters based on engagement data</li>
<li><strong>Semantic Search:</strong> Validate that embeddings improve long-tail and conceptual queries</li>
<li><strong>Reranking:</strong> Leverage historical signals to improve ranking</li>
<li><strong>RAG Pipelines:</strong> Ensure AI-generated answers satisfy users based on feedback signals</li>
</ul>
<p>Every advanced search technology you implement should be validated with signals. Never deploy search improvements without measuring their impact.</p>
<h2 id="conclusion">Conclusion<a class="headerlink" href="#conclusion" title="Permanent link">&para;</a></h2>
<h3 id="the_path_forward">The Path Forward<a class="headerlink" href="#the_path_forward" title="Permanent link">&para;</a></h3>
<p>Search is not a featureit's an experience. Users judge your entire site by how well they can find information. Poor search drives users to competitors. Excellent search builds loyalty and drives conversions.</p>
<p>Search signals give you the visibility and control needed to deliver consistently excellent search experiences. They transform search from a black box into a transparent, improvable system.</p>
<h3 id="start_simple_scale_smart">Start Simple, Scale Smart<a class="headerlink" href="#start_simple_scale_smart" title="Permanent link">&para;</a></h3>
<p>You don't need to implement everything at once:</p>
<p><strong>Week 1:</strong> Basic tracking (queries, clicks)
<strong>Week 2:</strong> Simple analytics (top queries, CTR)
<strong>Week 3:</strong> Problem identification (zero-results, low CTR queries)
<strong>Week 4:</strong> First improvements (quick wins)
<strong>Month 2-3:</strong> Intent detection, quality scoring, algorithm tuning
<strong>Month 4+:</strong> Machine learning, personalization, advanced features</p>
<p>Start with the foundation, measure consistently, and improve continuously.</p>
<h3 id="the_goal">The Goal<a class="headerlink" href="#the_goal" title="Permanent link">&para;</a></h3>
<p>The goal isn't perfect search results immediately. The goal is a system that gets measurably better every week by learning from real user behavior.</p>
<p><strong>Your search functionality will never be "finished," but with proper signal tracking and analysis, it will always be improving.</strong></p>
<hr />
<h2 id="appendix_quick_reference">Appendix: Quick Reference<a class="headerlink" href="#appendix_quick_reference" title="Permanent link">&para;</a></h2>
<h3 id="essential_sql_queries">Essential SQL Queries<a class="headerlink" href="#essential_sql_queries" title="Permanent link">&para;</a></h3>
<p><strong>Daily Top Searches:</strong>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">count</span>
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="k">FROM</span><span class="w"> </span><span class="n">wp_search_logs</span>
</span><span id="__span-36-3"><a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="nb">DATE</span><span class="p">(</span><span class="k">timestamp</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CURDATE</span><span class="p">()</span>
</span><span id="__span-36-4"><a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">query</span>
</span><span id="__span-36-5"><a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="k">count</span><span class="w"> </span><span class="k">DESC</span>
</span><span id="__span-36-6"><a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a><span class="k">LIMIT</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>
</span></code></pre></div></p>
<p><strong>Zero-Result Queries:</strong>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">frequency</span>
</span><span id="__span-37-2"><a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="k">FROM</span><span class="w"> </span><span class="n">wp_search_logs</span>
</span><span id="__span-37-3"><a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">num_results</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-37-4"><a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a><span class="k">AND</span><span class="w"> </span><span class="k">timestamp</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">CURDATE</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="k">DAY</span>
</span><span id="__span-37-5"><a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">query</span>
</span><span id="__span-37-6"><a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="k">DESC</span><span class="p">;</span>
</span></code></pre></div></p>
<p><strong>Low CTR Queries:</strong>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="k">SELECT</span><span class="w"> </span>
</span><span id="__span-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="w">    </span><span class="n">sl</span><span class="p">.</span><span class="n">query</span><span class="p">,</span>
</span><span id="__span-38-3"><a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="w">    </span><span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">searches</span><span class="p">,</span>
</span><span id="__span-38-4"><a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="w">    </span><span class="k">COUNT</span><span class="p">(</span><span class="n">sc</span><span class="p">.</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">clicks</span><span class="p">,</span>
</span><span id="__span-38-5"><a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a><span class="w">    </span><span class="p">(</span><span class="k">COUNT</span><span class="p">(</span><span class="n">sc</span><span class="p">.</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">ctr</span>
</span><span id="__span-38-6"><a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a><span class="k">FROM</span><span class="w"> </span><span class="n">wp_search_logs</span><span class="w"> </span><span class="n">sl</span>
</span><span id="__span-38-7"><a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">wp_search_clicks</span><span class="w"> </span><span class="n">sc</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sc</span><span class="p">.</span><span class="n">search_log_id</span>
</span><span id="__span-38-8"><a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="k">timestamp</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">CURDATE</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="k">DAY</span>
</span><span id="__span-38-9"><a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">query</span>
</span><span id="__span-38-10"><a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a><span class="k">HAVING</span><span class="w"> </span><span class="n">searches</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">ctr</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">40</span>
</span><span id="__span-38-11"><a id="__codelineno-38-11" name="__codelineno-38-11" href="#__codelineno-38-11"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">searches</span><span class="w"> </span><span class="k">DESC</span><span class="p">;</span>
</span></code></pre></div></p>
<p><strong>Query Performance Over Time:</strong>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="k">SELECT</span><span class="w"> </span>
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="w">    </span><span class="nb">DATE</span><span class="p">(</span><span class="k">timestamp</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nb">date</span><span class="p">,</span>
</span><span id="__span-39-3"><a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="w">    </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">total_searches</span><span class="p">,</span>
</span><span id="__span-39-4"><a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a><span class="w">    </span><span class="k">AVG</span><span class="p">(</span><span class="n">num_results</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">avg_results</span><span class="p">,</span>
</span><span id="__span-39-5"><a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a><span class="w">    </span><span class="k">SUM</span><span class="p">(</span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="n">num_results</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">END</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">zero_result_pct</span>
</span><span id="__span-39-6"><a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a><span class="k">FROM</span><span class="w"> </span><span class="n">wp_search_logs</span>
</span><span id="__span-39-7"><a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a><span class="k">WHERE</span><span class="w"> </span><span class="k">timestamp</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">CURDATE</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="k">DAY</span>
</span><span id="__span-39-8"><a id="__codelineno-39-8" name="__codelineno-39-8" href="#__codelineno-39-8"></a><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="nb">DATE</span><span class="p">(</span><span class="k">timestamp</span><span class="p">)</span>
</span><span id="__span-39-9"><a id="__codelineno-39-9" name="__codelineno-39-9" href="#__codelineno-39-9"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="nb">date</span><span class="p">;</span>
</span></code></pre></div></p>
<p><strong>Top Converting Queries:</strong>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="k">SELECT</span><span class="w"> </span>
</span><span id="__span-40-2"><a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a><span class="w">    </span><span class="n">sl</span><span class="p">.</span><span class="n">query</span><span class="p">,</span>
</span><span id="__span-40-3"><a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="w">    </span><span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">searches</span><span class="p">,</span>
</span><span id="__span-40-4"><a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a><span class="w">    </span><span class="k">SUM</span><span class="p">(</span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="n">sc</span><span class="p">.</span><span class="n">converted</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">END</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">conversions</span><span class="p">,</span>
</span><span id="__span-40-5"><a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="w">    </span><span class="n">ROUND</span><span class="p">(</span><span class="k">SUM</span><span class="p">(</span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="n">sc</span><span class="p">.</span><span class="n">converted</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">END</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">conversion_rate</span>
</span><span id="__span-40-6"><a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a><span class="k">FROM</span><span class="w"> </span><span class="n">wp_search_logs</span><span class="w"> </span><span class="n">sl</span>
</span><span id="__span-40-7"><a id="__codelineno-40-7" name="__codelineno-40-7" href="#__codelineno-40-7"></a><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">wp_search_clicks</span><span class="w"> </span><span class="n">sc</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sc</span><span class="p">.</span><span class="n">search_log_id</span>
</span><span id="__span-40-8"><a id="__codelineno-40-8" name="__codelineno-40-8" href="#__codelineno-40-8"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="k">timestamp</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">CURDATE</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="k">DAY</span>
</span><span id="__span-40-9"><a id="__codelineno-40-9" name="__codelineno-40-9" href="#__codelineno-40-9"></a><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">sl</span><span class="p">.</span><span class="n">query</span>
</span><span id="__span-40-10"><a id="__codelineno-40-10" name="__codelineno-40-10" href="#__codelineno-40-10"></a><span class="k">HAVING</span><span class="w"> </span><span class="n">searches</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">10</span>
</span><span id="__span-40-11"><a id="__codelineno-40-11" name="__codelineno-40-11" href="#__codelineno-40-11"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">conversion_rate</span><span class="w"> </span><span class="k">DESC</span>
</span><span id="__span-40-12"><a id="__codelineno-40-12" name="__codelineno-40-12" href="#__codelineno-40-12"></a><span class="k">LIMIT</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>
</span></code></pre></div></p>
<h3 id="signal_interpretation_cheat_sheet">Signal Interpretation Cheat Sheet<a class="headerlink" href="#signal_interpretation_cheat_sheet" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Signal</th>
<th>Good</th>
<th>Concerning</th>
<th>Critical</th>
</tr>
</thead>
<tbody>
<tr>
<td>CTR</td>
<td>&gt;60%</td>
<td>40-60%</td>
<td>&lt;40%</td>
</tr>
<tr>
<td>Dwell Time (avg)</td>
<td>&gt;60s</td>
<td>20-60s</td>
<td>&lt;20s</td>
</tr>
<tr>
<td>Zero-Result Rate</td>
<td>&lt;5%</td>
<td>5-15%</td>
<td>&gt;15%</td>
</tr>
<tr>
<td>Refinement Rate</td>
<td>&lt;25%</td>
<td>25-40%</td>
<td>&gt;40%</td>
</tr>
<tr>
<td>Satisfaction Score</td>
<td>&gt;70</td>
<td>50-70</td>
<td>&lt;50</td>
</tr>
<tr>
<td>Time to Success</td>
<td>&lt;30s</td>
<td>30-90s</td>
<td>&gt;90s</td>
</tr>
<tr>
<td>Session Success Rate</td>
<td>&gt;70%</td>
<td>50-70%</td>
<td>&lt;50%</td>
</tr>
</tbody>
</table>
<h3 id="intent_detection_keywords">Intent Detection Keywords<a class="headerlink" href="#intent_detection_keywords" title="Permanent link">&para;</a></h3>
<p><strong>Navigational:</strong></p>
<p>contact, about, pricing, login, signup, account, dashboard, home, blog, shop, cart, checkout, faq, support, terms, privacy</p>
<p><strong>Informational:</strong></p>
<p>how, what, why, when, where, who, guide, tutorial, tips, best practices, learn, explain, difference, compare, vs, versus, review</p>
<p><strong>Transactional:</strong></p>
<p>buy, purchase, download, order, subscribe, book, hire, get, install, price, cost, discount, deal, cheap, affordable, free, trial, demo</p>
<h3 id="weekly_analysis_checklist">Weekly Analysis Checklist<a class="headerlink" href="#weekly_analysis_checklist" title="Permanent link">&para;</a></h3>
<ul>
<li>[ ] Review top 20 searches</li>
<li>[ ] Check zero-result queries</li>
<li>[ ] Identify 3 problem queries (low CTR, high abandonment)</li>
<li>[ ] Implement 1-2 quick fixes</li>
<li>[ ] Monitor CTR trends</li>
<li>[ ] Review conversion-driving queries</li>
<li>[ ] Update documentation</li>
<li>[ ] Share insights with team</li>
</ul>
<h3 id="monthly_deep_dive_checklist">Monthly Deep Dive Checklist<a class="headerlink" href="#monthly_deep_dive_checklist" title="Permanent link">&para;</a></h3>
<ul>
<li>[ ] Deep dive into satisfaction scores by intent type</li>
<li>[ ] A/B test one ranking improvement</li>
<li>[ ] Create content for 2-3 gap areas</li>
<li>[ ] Review intent classification accuracy</li>
<li>[ ] Analyze algorithm performance trends</li>
<li>[ ] Correlate signals with user feedback</li>
<li>[ ] Strategic planning for next month</li>
<li>[ ] Report results to stakeholders</li>
</ul>
<h3 id="key_metrics_dashboard">Key Metrics Dashboard<a class="headerlink" href="#key_metrics_dashboard" title="Permanent link">&para;</a></h3>
<p>Create a dashboard tracking:</p>
<ol>
<li>
<p><strong>Overall Health:</strong></p>
</li>
<li>
<p>Total searches (daily/weekly/monthly)</p>
</li>
<li>Overall CTR</li>
<li>Overall satisfaction score</li>
<li>
<p>Zero-result rate</p>
</li>
<li>
<p><strong>Intent Distribution:</strong></p>
</li>
<li>
<p>% Navigational queries</p>
</li>
<li>% Informational queries</li>
<li>% Transactional queries</li>
<li>
<p>% Unknown intent</p>
</li>
<li>
<p><strong>Top Lists:</strong></p>
</li>
<li>
<p>Top 10 most searched queries</p>
</li>
<li>Top 10 zero-result queries</li>
<li>Top 10 low-satisfaction queries</li>
<li>
<p>Top 10 high-converting queries</p>
</li>
<li>
<p><strong>Trends:</strong></p>
</li>
<li>
<p>CTR over time (line chart)</p>
</li>
<li>Satisfaction score over time</li>
<li>Zero-result rate over time</li>
<li>
<p>Search volume over time</p>
</li>
<li>
<p><strong>Conversions:</strong></p>
</li>
<li>
<p>Search-to-conversion rate</p>
</li>
<li>Revenue from search</li>
<li>Top converting queries</li>
</ol>
<p><strong>Remember:</strong> The most important metric is whether users find what they're looking for. All signals should ultimately serve that goal.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2025 <a href="https://advanced-wordpress-search.netlify.app/"  target="_blank" rel="noopener">Craig West - Advanced Search in Wordpress</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["content.code.copy"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>